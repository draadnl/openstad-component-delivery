/*! For license information please see all.js.LICENSE.txt */
(()=>{var __webpack_modules__={676:(e,t,n)=>{"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{Z:()=>i})},3349:(e,t,n)=>{"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>i})},2137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(7301);function o(e,t,n,o,r,a,s){try{var c=e[a](s),l=c.value}catch(e){return void n(e)}c.done?t(l):i.resolve(l).then(o,r)}function r(e){return function(){var t=this,n=arguments;return new i((function(i,r){var a=e.apply(t,n);function s(e){o(a,i,r,s,c,"next",e)}function c(e){o(a,i,r,s,c,"throw",e)}s(void 0)}))}}},6610:(e,t,n)=>{"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>i})},5991:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,{Z:()=>o})},6156:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i})},2122:(e,t,n)=>{"use strict";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}n.d(t,{Z:()=>i})},7608:(e,t,n)=>{"use strict";function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}n.d(t,{Z:()=>i})},379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(4665);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,i.Z)(e,t)}},6070:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(484),o=n(3349);function r(e,t){if(t&&("object"===(0,i.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},4665:(e,t,n)=>{"use strict";function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}n.d(t,{Z:()=>i})},4699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2961);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}}(e,t)||(0,i.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(676);var o=n(2961);function r(e){return function(e){if(Array.isArray(e))return(0,i.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},484:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:()=>i})},2961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(676);function o(e,t){if(e){if("string"==typeof e)return(0,i.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.Z)(e,t):void 0}}},7757:(e,t,n)=>{e.exports=n(5666)},7615:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var i=n(3804);function o(e,t){const n=(0,i.useRef)(t);(0,i.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}},22:(e,t,n)=>{"use strict";n.d(t,{RA:()=>s,LE:()=>c,G5:()=>l});var i=n(3804),o=n.n(i),r=n(7196),a=n(557);function s(e){function t(t,n){const{instance:r,context:s}=e(t).current;return(0,i.useImperativeHandle)(n,(()=>r)),null==t.children?null:o().createElement(a.UO,{value:s},t.children)}return(0,i.forwardRef)(t)}function c(e){function t(t,n){const[o,a]=(0,i.useState)(!1),{instance:s}=e(t,a).current;(0,i.useImperativeHandle)(n,(()=>s)),(0,i.useEffect)((function(){o&&s.update()}),[s,o,t.children]);const c=s._contentNode;return c?(0,r.createPortal)(t.children,c):null}return(0,i.forwardRef)(t)}function l(e){function t(t,n){const{instance:o}=e(t).current;return(0,i.useImperativeHandle)(n,(()=>o)),null}return(0,i.forwardRef)(t)}},557:(e,t,n)=>{"use strict";n.d(t,{cV:()=>o,U1:()=>r,UO:()=>a,mE:()=>s});var i=n(3804);const o=1,r=(0,i.createContext)(null),a=r.Provider;function s(){const e=(0,i.useContext)(r);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}},9420:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var i=n(3804),o=n(557);function r(e){return function(t){const n=(0,o.mE)(),r=e(t,n),{instance:a}=r.current,s=(0,i.useRef)(t.position),{position:c}=t;return(0,i.useEffect)((function(){return a.addTo(n.map),function(){a.remove()}}),[n.map,a]),(0,i.useEffect)((function(){null!=c&&c!==s.current&&(a.setPosition(c),s.current=c)}),[a,c]),r}}},2438:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var i=n(7615),o=n(557),r=n(1350),a=n(5828);function s(e,t){return function(n,s){const c=(0,o.mE)(),l=e((0,a.q)(n,c),c);return(0,i.d)(c.map,n.attribution),(0,r.t)(l.current,n.eventHandlers),t(l.current,c,n,s),l}}},4777:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var i=n(3804);function o(e,t){return null==t?function(t,n){return(0,i.useRef)(e(t,n))}:function(n,o){const r=(0,i.useRef)(e(n,o)),a=(0,i.useRef)(n),{instance:s}=r.current;return(0,i.useEffect)((function(){a.current!==n&&(t(s,n,a.current),a.current=n)}),[s,n,o]),r}}},1350:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var i=n(3804);function o(e,t){const n=(0,i.useRef)();(0,i.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}},8622:(e,t,n)=>{"use strict";n.d(t,{vm:()=>l,dW:()=>u,SO:()=>d,Au:()=>h,Lf:()=>f});var i=n(22),o=n(9420),r=n(4777),a=n(6810),s=n(2438),c=n(4060);function l(e){const t=(0,r.I)((function(t,n){return{instance:e(t),context:n}})),n=(0,o.y)(t);return(0,i.G5)(n)}function u(e,t){const n=(0,r.I)(e,t),o=(0,a.u)(n);return(0,i.RA)(o)}function d(e,t){const n=(0,r.I)(e),o=(0,s.W)(n,t);return(0,i.LE)(o)}function h(e,t){const n=(0,r.I)(e,t),o=(0,c.n)(n);return(0,i.RA)(o)}function f(e,t){const n=(0,r.I)(e,t),o=(0,a.u)(n);return(0,i.G5)(o)}},6329:(e,t,n)=>{"use strict";function i(e,t,n){const{opacity:i,zIndex:o}=t;null!=i&&i!==n.opacity&&e.setOpacity(i),null!=o&&o!==n.zIndex&&e.setZIndex(o)}n.d(t,{I:()=>i})},6794:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CONTEXT_VERSION:()=>a.cV,LeafletContext:()=>a.U1,LeafletProvider:()=>a.UO,addClassName:()=>d,createContainerComponent:()=>r.RA,createControlComponent:()=>m.vm,createControlHook:()=>s.y,createDivOverlayComponent:()=>r.LE,createDivOverlayHook:()=>c.W,createElementHook:()=>_.I,createLayerComponent:()=>m.dW,createLayerHook:()=>v.u,createLeafComponent:()=>r.G5,createOverlayComponent:()=>m.SO,createPathComponent:()=>m.Au,createPathHook:()=>E.n,createTileLayerComponent:()=>m.Lf,removeClassName:()=>h,updateCircle:()=>o,updateClassName:()=>f,updateGridLayer:()=>g.I,updateMediaOverlay:()=>y,useAttribution:()=>i.d,useEventHandlers:()=>p.t,useLayerLifecycle:()=>v.g,useLeafletContext:()=>a.mE,usePathOptions:()=>E._,withPane:()=>b.q});var i=n(7615);function o(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)}var r=n(22),a=n(557),s=n(9420),c=n(2438),l=n(5243);function u(e){return e.split(" ").filter(Boolean)}function d(e,t){u(t).forEach((t=>{l.DomUtil.addClass(e,t)}))}function h(e,t){u(t).forEach((t=>{l.DomUtil.removeClass(e,t)}))}function f(e,t,n){null!=e&&n!==t&&(null!=t&&t.length>0&&h(e,t),null!=n&&n.length>0&&d(e,n))}var _=n(4777),p=n(1350),m=n(8622),g=n(6329),v=n(6810);function y(e,t,n){t.bounds instanceof l.LatLngBounds&&t.bounds!==n.bounds&&e.setBounds(t.bounds),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=t.zIndex&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex)}var b=n(5828),E=n(4060)},6810:(e,t,n)=>{"use strict";n.d(t,{g:()=>c,u:()=>l});var i=n(3804),o=n(7615),r=n(557),a=n(1350),s=n(5828);function c(e,t){(0,i.useEffect)((function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var n;null==(n=t.layerContainer)||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}function l(e){return function(t){const n=(0,r.mE)(),i=e((0,s.q)(t,n),n);return(0,o.d)(n.map,t.attribution),(0,a.t)(i.current,t.eventHandlers),c(i.current,n),i}}},5828:(e,t,n)=>{"use strict";function i(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}n.d(t,{q:()=>i})},4060:(e,t,n)=>{"use strict";n.d(t,{_:()=>c,n:()=>l});var i=n(3804),o=n(557),r=n(1350),a=n(6810),s=n(5828);function c(e,t){const n=(0,i.useRef)();(0,i.useEffect)((function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}}),[e,t])}function l(e){return function(t){const n=(0,o.mE)(),i=e((0,s.q)(t,n),n);return(0,r.t)(i.current,t.eventHandlers),(0,a.g)(i.current,n),c(i.current,t),i}}},5651:(e,t,n)=>{"use strict";n.d(t,{R2:()=>d,sP:()=>h});var i=n(6610),o=n(5991),r=n(379),a=n(6070),s=n(7608),c=n(7961),l=n(5888);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}function d(e){var t=L.polygon(e).getBounds().getCenter(),n=0,i=0;e.forEach((function(e,o){var r=Math.sin(e.lng-t.lng)*Math.cos(e.lat),a=Math.cos(t.lat)*Math.sin(e.lat)-Math.sin(t.lat)*Math.cos(e.lat)*Math.cos(e.lng-t.lng),s=180*Math.atan2(r,a)/Math.PI;45-s<n&&(n=45-s,i=o)}));var o=e.slice(0,i),r=e.slice(i,e.length);e=r.concat(o);return[[{lat:-85,lng:-179.99},{lat:-85,lng:0},{lat:-85,lng:179.99},{lat:0,lng:179.99},{lat:85,lng:179.99},{lat:85,lng:0},{lat:85,lng:-179.99},{lat:85,lng:-179.99},{lat:0,lng:-179.99}].map((function(e){return[e.lat,e.lng]})),e.map((function(e){return[e.lat,e.lng]}))]}var h=function(e){(0,r.Z)(n,e);var t=u(n);function n(e,o){return(0,i.Z)(this,n),t.call(this,e,o,{area:null,polygonStyle:{color:"#d00",fillColor:"#000",fillOpacity:.15}})}return(0,o.Z)(n,[{key:"isPointInArea",value:function(e){var t=this,n=t.props.area&&t.props.area[1]&&Array.isArray(t.props.area[1])?t.props.area[1]:t.props.area;if(!e)return!1;if(!n)return!0;for(var i=e.lat,o=e.lng,r=!1,a=0,s=n.length-1;a<n.length;s=a++){var c=n[a][0],l=n[a][1],u=n[s][0],d=n[s][1];l>o!=d>o&&i<(u-c)*(o-l)/(d-l)+c&&(r=!r)}return r}},{key:"render",value:function(){return React.createElement(l.m,{positions:this.props.area,pathOptions:this.config.polygonStyle})}}]),n}(c.Z)},5655:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>OpenStadComponentMap});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6156),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2122),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2137),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7608),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),merge__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1965),merge__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_5__),_component_index_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7961),react_leaflet__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(795),react_leaflet__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(3167),react_leaflet__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1372),_tile_layer_jsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3613),_marker_jsx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6716),_marker_cluster_group_jsx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2577),_area_jsx__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5651),_lib_search_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3695),_css_default_less__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4870),_css_default_less__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_css_default_less__WEBPACK_IMPORTED_MODULE_11__),leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5896),leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_12__),react_leaflet_markercluster_dist_styles_min_css__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8444),react_leaflet_markercluster_dist_styles_min_css__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_leaflet_markercluster_dist_styles_min_css__WEBPACK_IMPORTED_MODULE_13__);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var OpenStadComponentMap=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_14__.Z)(OpenStadComponentMap,_OpenStadComponent);var _super=_createSuper(OpenStadComponentMap),_unsetArea,_setArea,_componentDidMount;function OpenStadComponentMap(e,t){var n;(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_15__.Z)(this,OpenStadComponentMap),n=_super.call(this,e,{search:!1,center:{lat:52.37104644463586,lng:4.900402911007405},zoom:14,zoomposition:"bottomleft",disableDefaultUI:!0,area:null,autoZoomAndCenter:!1,scrollWheelZoom:!0,clustering:{isActive:!0}},t);var i=(0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16__.Z)(n);return i.config.target=i.divId,(i.config.polygon||"polygon"==i.config.autoZoomAndCenter)&&console.log("DEPRECATED: use 'area' instead of 'polygon'"),i.config.polygon&&!i.config.area&&(i.config.area=i.config.polygon),"polygon"==i.config.autoZoomAndCenter&&(i.config.autoZoomAndCenter="area"),i.config.center.lat=e.config&&e.config.center&&e.config.center.latitude||i.config.center.lat,i.config.center.lng=e.config&&e.config.center&&e.config.center.longitude||i.config.center.lng,i.searchAddressByLatLng=_lib_search_js__WEBPACK_IMPORTED_MODULE_17__.db.bind(i),i.suggestAddresses=_lib_search_js__WEBPACK_IMPORTED_MODULE_17__.GN.bind(i),i.LookupLatLngByAddressId=_lib_search_js__WEBPACK_IMPORTED_MODULE_17__.h9.bind(i),i.onMapClick=i.onMapClick.bind(i),i.state={markers:[]},n}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_18__.Z)(OpenStadComponentMap,[{key:"componentDidMount",value:(_componentDidMount=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark((function e(){var t,n,i;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.setArea(t.config.area);case 3:t.config.markers&&t.config.markers.length&&this.addMarkers(t.config.markers),t.config.autoZoomAndCenter&&(n="area"==t.config.autoZoomAndCenter&&t.config.area||t.state.markers&&t.state.markers.length&&t.state.markers||t.config.area,t.editorMarker&&(n=t.editorMarker.position?[t.editorMarker]:t.config.area),n&&t.setBoundsAndCenter(n)),t.mapIsReady=!0,i=new CustomEvent("osc-map-is-ready",{detail:{id:t.divId}}),window.dispatchEvent(i);case 8:case"end":return e.stop()}}),e,this)}))),function(){return _componentDidMount.apply(this,arguments)})},{key:"addMarkers",value:function(e){var t=this;e.forEach((function(e){t.addMarker(e)}))}},{key:"addMarker",value:function addMarker(markerData){var markers=this.state.markers;if(markerData.iconCreateFunction=markerData.iconCreateFunction||this.config.iconCreateFunction,!markerData.icon&&this.config.categorize){var category=markerData.data&&eval("markerData.data.".concat(this.config.categorize.categorizeByField)),icon=this.config.categorize.categories[category]&&this.config.categorize.categories[category].icon;icon&&(markerData.icon=icon)}return!markerData.icon&&this.config.defaultIcon&&(markerData.icon=this.config.defaultIcon),markerData.onClick=markerData.onClick?[markerData.onClick,this.onMarkerClick]:[this.onMarkerClick],markerData.visible=!0,this.config.clustering&&this.config.clustering.isActive&&!markerData.doNotCluster&&(markerData.isClustered=!0),markers.push(markerData),this.setState({markers}),markerData}},{key:"removeMarker",value:function(e){if(e){var t=this.state.markers,n=t.indexOf(e);n>-1&&t.splice(n,1),this.setState({markers:t})}}},{key:"updateMarker",value:function(e,t){if(e){var n=this.state.markers,i=n.indexOf(e);if(-1!=i){var o=t.lat||e.lat,r=t.lng||e.lng;o&&r&&(n[i].lat=o,n[i].lng=r),void 0!==t.isFaded&&(n[i].isFaded=t.isFaded),this.setState({markers:n})}}}},{key:"getMarkers",value:function(){return this.state.markers}},{key:"setMarkers",value:function(e){return this.setState({markers:e})}},{key:"setArea",value:(_setArea=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark((function e(t){var n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return n=(0,_area_jsx__WEBPACK_IMPORTED_MODULE_10__.R2)(t),e.next=4,this.setState({area:n});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return _setArea.apply(this,arguments)})},{key:"unsetArea",value:(_unsetArea=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark((function e(t){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({area:null});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return _unsetArea.apply(this,arguments)})},{key:"setBoundsAndCenter",value:function(e){var t=this;if(Array.isArray(e)&&0!=e.length){var n=[];if(e.forEach((function(e){e._latlng?e=e._latlng:e.position&&(e=e.position.coordinates?{lat:e.position.coordinates[0],lng:e.position.coordinates[1]}:e.position),n.push(e)})),1==n.length)t.map.panTo(new L.LatLng(n[0].lat,n[0].lng));else{var i=L.latLngBounds(n);t.map.fitBounds(i)}}else t.map.panTo(new L.LatLng(t.config.center.lat,t.config.center.lng))}},{key:"showMarkers",value:function(e){var t=this;e.forEach((function(e){t.showMarker(e)}))}},{key:"showMarker",value:function(e){if(e){var t=this.state.markers,n=t.indexOf(e);n>-1&&(t[n].visible=!0),this.setState({markers:t})}}},{key:"hideMarkers",value:function(e){var t=this;e.forEach((function(e){t.hideMarker(e)}))}},{key:"hideMarker",value:function(e){if(e){var t=this.state.markers,n=t.indexOf(e);n>-1&&(t[n].visible=!1),this.setState({markers:t})}}},{key:"setFilter",value:function(e){this.filterFunction=e,this.applyFilter()}},{key:"applyFilter",value:function(){var e=this;e.filterFunction?e.state.markers.forEach((function(t){e.filterFunction(t)?e.showMarker(t):e.hideMarker(t)})):e.state.markers.forEach((function(t){e.showMarker(t)}))}},{key:"isPointInArea",value:function(e){return!this.area||this.area.isPointInArea(e)}},{key:"onMapClick",value:function(e){e.isPointInArea=this.isPointInArea(e.latlng);var t=new CustomEvent("osc-map-click",{detail:e});document.dispatchEvent(t)}},{key:"onMarkerClick",value:function(e){var t=new CustomEvent("osc-map-marker-click",{detail:e});document.dispatchEvent(t)}},{key:"onMapClusterAnimationEnd",value:function(e){}},{key:"render",value:function render(){var self=this,areaHTML=null;self.state.area&&(areaHTML=React.createElement(_area_jsx__WEBPACK_IMPORTED_MODULE_10__.sP,{config:self.config,area:self.state.area,ref:function(e){return self.area=e}}));var clusterMarkers=[],layers=self.props.layers||[];return React.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_19__.h,{id:self.divId,className:self.props.className||"osc-map",center:[self.config.center.lat,self.config.center.lng],zoom:self.config.zoom,scrollWheelZoom:self.config.scrollWheelZoom},React.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_20__.d,null,(function(map){return self.map||(self.map=map,map.on("click",(function(event){var onClick=self.config.onClick||[];Array.isArray(onClick)||(onClick=[onClick]),onClick.push(self.onMapClick),onClick.map((function(func){"string"==typeof func&&(onClick=eval(func)),func(event)}))}))),null})),React.createElement(_tile_layer_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{variant:self.config.variant,minZoom:self.config.minZoom,maxZoom:self.config.maxZoom,mapTiles:self.config.mapTiles}),self.state.markers.map((function(e,t){if(!e.isClustered)return React.createElement(_marker_jsx__WEBPACK_IMPORTED_MODULE_8__.Z,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_21__.Z)({},e,{key:"marker-".concat(t)}));clusterMarkers.push(e)})),layers.map((function(e,t){return React.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_22__.e,{className:"layergroup-".concat(t),key:"layergroup-".concat(t)},e)})),React.createElement(_marker_cluster_group_jsx__WEBPACK_IMPORTED_MODULE_9__.Z,{config:_objectSpread(_objectSpread({},self.config.clustering),{},{categorize:self.config.categorize}),markers:clusterMarkers}),areaHTML)}}]),OpenStadComponentMap}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_6__.Z)},2577:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>OpenStadComponentMapMarkerCluster});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2122),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3804),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7961),react_leaflet_markercluster__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6342),_marker_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6716),_lib_amaps_cluster_icon_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7988);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var OpenStadComponentMapMarkerCluster=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__.Z)(OpenStadComponentMapMarkerCluster,_OpenStadComponent);var _super=_createSuper(OpenStadComponentMapMarkerCluster);function OpenStadComponentMapMarkerCluster(e,t){var n;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__.Z)(this,OpenStadComponentMapMarkerCluster),(n=_super.call(this,e,t,{isActive:!0,maxClusterRadius:40,showCoverageOnHover:!1,categorize:{categorizeByField:"xxx",categories:{}}})).iconCreateFunction=n.iconCreateFunction.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__.Z)(n)),n}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__.Z)(OpenStadComponentMapMarkerCluster,[{key:"componentDidMount",value:function(){}},{key:"iconCreateFunction",value:function iconCreateFunction(cluster){var iconCreateFunction=this.config.iconCreateFunction||_lib_amaps_cluster_icon_js__WEBPACK_IMPORTED_MODULE_10__.Z;return iconCreateFunction&&"string"==typeof iconCreateFunction&&(iconCreateFunction=eval(iconCreateFunction)),iconCreateFunction=iconCreateFunction.bind(this),iconCreateFunction(cluster,this.props.markers)}},{key:"onClusterClick",value:function onClusterClick(event){var func=this.config.onClusterClick;func&&("string"==typeof func&&(func=eval(func)),func(event));var customEvent=new CustomEvent("osc-map-cluster-click",{event});document.dispatchEvent(customEvent)}},{key:"onClusterAnimationEnd",value:function onClusterAnimationEnd(event){var func=this.config.onClusterAnimationEnd;func&&("string"==typeof func&&(func=eval(func)),func(event));var customEvent=new CustomEvent("osc-map-cluster-animation-end",{event});document.dispatchEvent(customEvent)}},{key:"render",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(react_leaflet_markercluster__WEBPACK_IMPORTED_MODULE_4__.Z,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_11__.Z)({},this.config,{iconCreateFunction:e.iconCreateFunction,onClick:function(t){return e.onClusterClick(t)},onAnimationEnd:function(t){return e.onClusterAnimationEnd(t)}}),this.props.markers.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_marker_jsx__WEBPACK_IMPORTED_MODULE_5__.Z,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_11__.Z)({},e,{key:"marker-".concat(t)}))})))}}]),OpenStadComponentMapMarkerCluster}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__.Z)},6716:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>OpenStadComponentMapMarker});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2122),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5991),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7608),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3804),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),react_leaflet__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7409),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2150);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var OpenStadComponentMapMarker=function(_React$Component){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__.Z)(OpenStadComponentMapMarker,_React$Component);var _super=_createSuper(OpenStadComponentMapMarker);function OpenStadComponentMapMarker(){return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__.Z)(this,OpenStadComponentMapMarker),_super.apply(this,arguments)}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__.Z)(OpenStadComponentMapMarker,[{key:"render",value:function render(){var _this=this,markerprops=_objectSpread({},this.props),position=this.props.position;this.props.lat&&(position=[this.props.lat,this.props.lng]),delete markerprops.icon;var icon=this.props.icon;if(!icon){var iconCreateFunction=this.props.iconCreateFunction;iconCreateFunction&&"string"==typeof iconCreateFunction&&(iconCreateFunction=eval(iconCreateFunction)),iconCreateFunction&&"function"==typeof iconCreateFunction&&(icon=iconCreateFunction())}if(icon){try{icon=JSON.parse(icon)}catch(e){}!icon.iconSize&&icon.width&&icon.height&&(icon.iconSize=[icon.width,icon.height]),!icon.iconAnchor&&icon.anchor&&(icon.iconAnchor=icon.anchor),(0,_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.Gp)(icon,"osc-map-marker",{before:!0}),markerprops.isFaded?(0,_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.Gp)(icon,"osc-map-marker-faded"):(0,_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.C7)(icon,"osc-map-marker-faded"),icon.iconUrl&&(markerprops.icon=new L.Icon(icon)),icon.html&&(markerprops.icon=new L.divIcon(icon))}for(var eventHandlers={},_loop=function _loop(){var eventname=_arr[_i],EventName="on"+eventname.charAt(0).toUpperCase()+eventname.slice(1);eventname=eventname.toLowerCase();var onEvent=markerprops[EventName]||[];Array.isArray(onEvent)||(onEvent=[onEvent]),"onClick"==EventName&&_this.props.href&&onEvent.push((function(){document.location.href=markerprops.href})),onEvent.length&&(eventHandlers[eventname]=function(e){onEvent.map((function(func){return"string"==typeof func?eval(func)(e):func(e)}))})},_i=0,_arr=["click","mouseDown","mouseUp","dragStart","dragEnd"];_i<_arr.length;_i++)_loop();var draggable=eventHandlers.dragstart||eventHandlers.dragend;return this.props.visible?react__WEBPACK_IMPORTED_MODULE_3___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_8__.J,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_9__.Z)({position},markerprops,{eventHandlers:_objectSpread({},eventHandlers),draggable:!!draggable})):null}}]),OpenStadComponentMapMarker}(react__WEBPACK_IMPORTED_MODULE_3___default().Component)},3613:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(6610),o=n(5991),r=n(379),a=n(6070),s=n(7608),c=n(7961),l=n(4284);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var d=function(e){(0,r.Z)(n,e);var t=u(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){switch(this.props.variant){case"n9r":return React.createElement(l.I,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",minZoom:void 0!==this.props.minZoom?this.props.minZoom:0,maxZoom:void 0!==this.props.maxZoom?this.props.maxZoom:19,subdomains:"abcd"});case"amaps":return React.createElement(l.I,{url:"https://t{s}.data.amsterdam.nl/topo_wm/{z}/{x}/{y}.png",subdomains:"1234",minZoom:void 0!==this.props.minZoom?this.props.minZoom:11,maxZoom:void 0!==this.props.maxZoom?this.props.maxZoom:21});case"openstreetmaps":return React.createElement(l.I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:void 0!==this.props.minZoom?this.props.minZoom:0,maxZoom:void 0!==this.props.maxZoom?this.props.maxZoom:19,subdomains:"abc",attribution:"<a href='https://www.openstreetmap.org/copyright'>© OpenStreetMap contributors</a>"});case"custom":return React.createElement(l.I,{url:this.props.mapTiles&&this.props.mapTiles.url||"https://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/standaard/EPSG:3857/{z}/{x}/{y}.png",minZoom:void 0!==this.props.minZoom?this.props.minZoom:0,maxZoom:void 0!==this.props.maxZoom?this.props.maxZoom:19,subdomains:this.props.mapTiles&&this.props.mapTiles.subdomains||"",attribution:this.props.mapTiles&&this.props.mapTiles.attribution});default:return React.createElement(l.I,{url:"https://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/standaard/EPSG:3857/{z}/{x}/{y}.png",minZoom:void 0!==this.props.minZoom?this.props.minZoom:6,maxZoom:void 0!==this.props.maxZoom?this.props.maxZoom:19,bounds:[[50.5,3.25],[54,7.6]],subdomains:"",attribution:"Kaartgegevens © <a href='kadaster.nl'>Kadaster</a"})}}}]),n}(c.Z)},3397:(e,t,n)=>{"use strict";n.d(t,{default:()=>s.Z});n(7147);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=n(5655);s.Z.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(s.Z,{attributes:n,config:t}),e)}},7988:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function amapsCreateClusterIcon(cluster,markers){var self=this,clusterMarkers=cluster.getAllChildMarkers(),colors={},total=clusterMarkers.length,isFaded=!0;clusterMarkers.forEach((function(clusterMarker){var marker=markers.find((function(e){return e.lat==clusterMarker.options.lat&&e.lng==clusterMarker.options.lng}));if(marker){var category=marker&&marker.data&&eval("marker.data.".concat(self.config.categorize.categorizeByField)),color=self.config.categorize.categories[category]&&self.config.categorize.categories[category].color||"#164995";colors[color]||(colors[color]=0),colors[color]++,marker&&marker.isFaded||(isFaded=!1)}}));var html='<svg viewBox="0 0 36 36"><circle cx="18" cy="18" r="14" fill="white"/>',soFar=0;Object.keys(colors).forEach((function(e){var t=e,n=100*colors[e]/total;html+='    <path\n      d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"\n      fill="none"\n      transform="rotate('.concat(soFar/100*360,', 18, 18)"\n      stroke="').concat(t,'"\n      stroke-width="4"\n      stroke-dasharray="').concat(n,', 100"\n    />'),soFar+=n}));var count=cluster.getChildCount();html+='<text x="18" y="21" text-anchor="middle" class="openstad-component-ideas-on-map-icon openstad-component-ideas-on-map-icon-text">'+count+"</text>",html+="</svg>";var className="osc-map-marker-cluster";return className+=" openstad-component-ideas-on-map-icon-cluster",isFaded&&(className+=" osc-map-marker-cluster-faded"),L.divIcon({html,className,iconSize:L.point(36,36),iconAnchor:[18,18]})}__webpack_require__.d(__webpack_exports__,{Z:()=>amapsCreateClusterIcon})},3695:(e,t,n)=>{"use strict";n.d(t,{db:()=>i,GN:()=>o,h9:()=>r});var i=function(e){var t=e.latlng,n=e.addresssesMunicipality,i=e.next,o="https://api.pdok.nl/bzk/locatieserver/search/v3_1/free?lat=[[lat]]5&lon=[[lng]]&fq=type:adres&rows=1";n&&(o+="&fq=gemeentenaam:".concat(n)),t=t||{};var r=o.replace(/\[\[lat\]\]/,t.lat).replace(/\[\[lng\]\]/,t.lng);fetch(r).then((function(e){if(!e.ok)throw Error(e);return e.json()})).then((function(e){var n=e.response&&e.response.docs&&e.response.docs[0];if(!n)throw new Error("Niets gevonden");var o={address:"".concat(n.straatnaam," ").concat(n.huisnummer)};return o.lat=t.lat,o.lng=t.lng,i?i(o):o})).catch((function(e){console.log("Zoek adres: niet goed"),console.log(e),i&&i({})}))},o=function(e){var t=e.searchValue,n=e.addresssesMunicipality,i=e.next,o="https://api.pdok.nl/bzk/locatieserver/search/v3_1/suggest?rows=5&fq=gemeentenaam:".concat(n,"&fq=*:*&q=").concat(t);fetch(o,{headers:{}}).then((function(e){return e.json()})).then((function(e){var t=[];return e&&e.response&&e.response.docs&&e.response.docs.length&&(t=e.response.docs.map((function(e){return{id:e.id,text:e.weergavenaam}}))),i?i(t):t})).catch((function(e){console.log("Search failed:",e),i&&i({})}))},r=function(e){var t=e.id,n=e.addresssesMunicipality,i=e.next;fetch("https://api.pdok.nl/bzk/locatieserver/search/v3_1/lookup?fq=gemeentenaam:".concat(n,"&&id=").concat(t)).then((function(e){return e.json()})).then((function(e){var t={};return e&&e.response&&e.response.docs&&e.response.docs[0]&&(t=e.response.docs[0]),i?i(t):t})).catch((function(e){console.log("Search failed:",e),i&&i({})}))}},1224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(6610),o=n(5991),r=n(379),a=n(6070),s=n(7608),c=n(7961),l=n(7177);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var d=function(e){(0,r.Z)(n,e);var t=u(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e,{number:null,icon:null,url:null,label:null})).state={number:o.config.number,icon:o.config.icon,url:o.config.url,label:o.config.label},o}return(0,o.Z)(n,[{key:"updateNumber",value:function(e){this.setState({number:e})}},{key:"render",value:function(){var e=this,t="osc-button-component ".concat(e.props.className),n=parseInt(void 0!==e.props.number?e.props.number:e.state.number),i=null;(n||0==n)&&(t+=" osc-numberplate-button",i=React.createElement(l.Z,{number:n,ref:function(t){e.numberplates=t}}));var o=null;if(e.config.icon){var r=void 0!==e.props.icon?e.props.icon:e.state.icon;t+=" osc-icon-button",o=React.createElement("div",{className:"osc-icon"},React.createElement("img",{src:r.url,style:{width:r.width,height:r.height,marginTop:r.top,marginLeft:r.left}}))}var a=null;if(e.config.label){void 0!==e.props.label?e.props.label:e.state.label;a=React.createElement("div",{className:"osc-button-label"},React.createElement("div",{className:"osc-elipsis"},e.config.label))}var s=void 0!==e.props.onClick?e.props.onClick:null,c=void 0!==e.props.url?e.props.url:e.state.url;return c&&(s=function(){return document.location.href=c}),s&&(t+=" osc-button-clickable"),e.props.disabled&&(t+=" osc-disabled"),React.createElement("div",{id:e.divId,onClick:s,className:t,role:"link",tabIndex:"0"},i,o,a)}}]),n}(c.Z)},7177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(6610),o=n(5991),r=n(379),a=n(6070),s=n(7608);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var l=function(e){(0,r.Z)(n,e);var t=c(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e,{number:0})).state={number:o.config.number},o}return(0,o.Z)(n,[{key:"updateNumber",value:function(e){this.setState({number:e})}},{key:"render",value:function(){var e=this,t=[],n=parseInt(void 0!==e.props.number?e.props.number:e.state.number),i=(n=n.toString()).length;i<3&&(i=3),n=("000"+n).slice(-i);for(var o=0;o<n.length;o++){var r=n.length-o-1;t.push(React.createElement("div",{id:"osc-numberplate-"+r,className:"osc-numberplate",key:"osc-numberplate-"+o},n.charAt(o)))}return React.createElement("div",{id:e.divId,className:e.props.className||"osc-numberplates",ref:function(t){return e.instance=t}},t)}}]),n}(n(7961).Z)},8556:(e,t,n)=>{"use strict";n.d(t,{default:()=>s.Z});n(7147);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=(n(3006),n(1224));n(7177);s.Z.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(s.Z,{attributes:n,config:t}),e)}},3190:(e,t,n)=>{"use strict";n.d(t,{ChoicesGuide:()=>ne,ChoicesGuideResult:()=>Je});n(7147),n(4794),n(1457),n(3462),n(4533),n(9116),n(7810);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=(n(8805),n(7329)),c=n(6156),l=n(6610),u=n(5991),d=n(3349),h=n(379),f=n(6070),_=n(7608),p=n(1965),m=n.n(p),g=n(7961),v=n(2150),y=n(484),b=n(4315),E=n(1588);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var L=function(e){(0,h.Z)(n,e);var t=w(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e)).questionId=e.data.id,i.state={value:50,isAnswered:!1},i.onChangeHandler=i.onChangeHandler.bind((0,d.Z)(i)),i.showLightbox=i.showLightbox.bind((0,d.Z)(i)),i}return(0,u.Z)(n,[{key:"onChangeHandler",value:function(e){var t=this,n={value:e,isAnswered:!0,error:void 0};this.setState(n,(function(){t.liveUpdates()}))}},{key:"isValid",value:function(){var e=void 0!==(this.props.data||{}).value,t=this.state.isAnswered||!!this.config.startWithAllQuestionsAnsweredAndConfirmed;return!(!e&&!t)||(this.setState({error:"Je hebt nog geen keuze gemaakt"}),!1)}},{key:"getAnswer",value:function(){if(this.state.isAnswered){var e,t=this.props.data||{},n=(t.values,t.dimensions);try{n=JSON.parse(n)}catch(e){}return n=n||["x"],"number"==typeof this.state.value||"string"==typeof this.state.value?(e={},n.includes("x")&&(e.x=this.state.value),n.includes("y")&&(e.y=this.state.value),n.includes("z")&&(e.z=this.state.value)):(e={},n.includes("x")&&(e.x=this.state.value.x),n.includes("y")&&(e.y=this.state.value.y),n.includes("z")&&(e.z=this.state.value.z)),e}}},{key:"liveUpdates",value:function(){var e=new window.CustomEvent("osc-choices-guide-live-updates");document.dispatchEvent(e)}},{key:"toggleMoreInfo",value:function(e){var t=document.querySelector("#".concat(e));t&&(t.className.match(" osc-closed")?t.className=t.className.replace(" osc-closed"," osc-open"):t.className=t.className.replace(" osc-open"," osc-closed"))}},{key:"showLightbox",value:function(e){var t=this.props.data||{},n=t.values&&t.values.A&&t.values.A.questionImage;n&&n.length&&(Array.isArray(n)||(n=[n]),n=n[0]);var i=t.values&&t.values.B&&t.values.B.questionImage;i&&i.length&&(Array.isArray(i)||(i=[i]),i=i[0]);var o=[n,i],r=o.findIndex((function(t){return t==e})),a=new window.CustomEvent("osc-show-light-box",{detail:{images:o,startIndex:r,aspectRatio:this.config.aspectRatio}});document.dispatchEvent(a)}},{key:"render",value:function(){var e=this,t=this,n=t.props.data||{},i=!1;t.state.error&&(i=!0);var o=t.state.isAnswered,r=void 0!==n.value?n.value:"not defined";if("object"==(0,y.Z)(n.value)){var a=n.dimensions;"null"==a&&(a=null),a&&!a.includes("x")||(r=n.value.x),a&&a.includes("y")&&(r=n.value.y),a&&a.includes("z")&&(r=n.value.z)}"not defined"===r?r=this.state.value:o=!0;var s=null,c=n.images||[];if(c&&c.length){Array.isArray(c)||(c=[c]);var l=c[0];s=React.createElement("div",{className:"osc-question-image-container"},React.createElement(b.Image,{config:t.config,image:l}))}var u=null;if(n.moreInfo&&(n.moreInfo.title||n.moreInfo.text)){var d=n.moreInfo.title||"Geen titel",h=n.moreInfo.text||"Geen tekst",f="osc-moreInfo-".concat(parseInt(1e5*Math.random()));u=React.createElement("div",{className:"osc-accordeon"},React.createElement("div",{id:f,className:"osc-accordeon-item osc-closed",onClick:function(){return t.toggleMoreInfo(f)}},React.createElement("div",{className:"osc-title osc-info"},d),React.createElement("div",{className:"osc-description",dangerouslySetInnerHTML:{__html:h}})))}var _=n.values&&n.values.A&&n.values.A.label||"A",p=n.values&&n.values.B&&n.values.B.label||"B",m=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:n.description}}),u),g=null;switch(n.type){case"continuous":g=React.createElement("div",{className:"osc-question-selector"},React.createElement(E.default.Slider,{min:"0",max:"100",step:"1",value:r,className:"osc-question-selector-slider",config:{},touched:o,onChange:function(e){return t.onChangeHandler(e)},ref:function(e){return t.selector=e}}),React.createElement("div",{className:"osc-question-selector-minlabel",dangerouslySetInnerHTML:{__html:_}}),React.createElement("div",{className:"osc-question-selector-maxlabel",dangerouslySetInnerHTML:{__html:p}}));break;case"a-to-b":var v=n.values&&n.values.A&&n.values.A.labelBelow||"",w=n.values&&n.values.B&&n.values.B.labelBelow||"",L=n.values&&n.values.A&&n.values.A.questionText,P=n.values&&n.values.B&&n.values.B.questionText,k=null,C=null;L&&P&&(k=React.createElement("div",{className:"osc-question-description-text"},React.createElement("div",{className:"osc-question-description-label"},_),React.createElement("div",{className:"osc-question-description-labeled-text"},L)),C=React.createElement("div",{className:"osc-question-description-text"},React.createElement("div",{className:"osc-question-description-label"},p),React.createElement("div",{className:"osc-question-description-labeled-text"},P)),m=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:n.description}}),k,C,u));var O=n.values&&n.values.A&&n.values.A.questionImage;O&&O.length&&(Array.isArray(O)||(O=[O]),O=O[0]);var M=n.values&&n.values.B&&n.values.B.questionImage;M&&M.length&&(Array.isArray(M)||(M=[M]),M=M[0]);var x=null,R=null;O&&O.length&&M&&M.length&&(x=React.createElement("div",{className:"osc-question-description-image-container osc-question-description-image-container-a"},React.createElement("div",{className:"osc-question-description-label osc-question-description-label-a"},_),React.createElement("div",{className:"osc-question-image-container osc-question-image-aspect-".concat(t.config.aspectRatio)},React.createElement(b.Image,{config:{aspectRatio:t.config.aspectRatio},image:O,onClick:function(){return t.showLightbox(O)}}))),R=React.createElement("div",{className:"osc-question-description-image-container osc-question-description-image-container-b"},React.createElement("div",{className:"osc-question-description-label osc-question-description-label-b"},p),React.createElement("div",{className:"osc-question-image-container osc-question-image-aspect-".concat(t.config.aspectRatio)},React.createElement(b.Image,{config:{aspectRatio:t.config.aspectRatio},image:M,onClick:function(){return t.showLightbox(M)}})))),m=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:n.description}}),k,C,u,x,R,React.createElement("div",{style:{clear:"both",height:15}})),g=React.createElement("div",{className:"osc-question-selector"},React.createElement("div",{className:"osc-question-selector-label-a"},_),React.createElement("div",{className:"osc-question-selector-label-b"},p),React.createElement(E.default.Slider,{min:"0",max:"100",step:"1",value:r,className:"osc-question-selector-slider",config:{},touched:o,onChange:function(e){return t.onChangeHandler(e)},ref:function(e){return t.selector=e}}),React.createElement("div",{className:"osc-question-selector-minlabel",dangerouslySetInnerHTML:{__html:v||""}}),React.createElement("div",{className:"osc-question-selector-maxlabel",dangerouslySetInnerHTML:{__html:w||""}}));break;case"enum-radio":g=React.createElement("div",{className:"osc-question-selector"},n.values&&n.values.map((function(i,o){var r=parseInt(1e6*Math.random()),a=!1;"object"==(0,y.Z)(n.value)?(a=!0,Object.keys(n.value).forEach((function(e){n.value[e]!==i.value[e]&&(a=!1)}))):n.value===i.value&&(a=!0);"undefined"!=n.value?n.value:e.state.value;return React.createElement("div",{key:"div-value-".concat(r),className:"osc-radio-container"},React.createElement("div",{className:"osc-radio-input".concat(a?" osc-radio-input-checked":"")},React.createElement("input",{name:"enum-radio-".concat(n.id),type:"radio",onChange:function(){return t.onChangeHandler(i.value)},key:"button-value-".concat(r)})),React.createElement("div",{className:"osc-radio-text"},i.text))})));break;case"enum-buttons":g=React.createElement("div",{className:"osc-question-selector"},n.values&&n.values.map((function(e,n){return React.createElement("button",{onClick:function(){return t.onChangeHandler(e.value)},key:"button-value-".concat(n)},e.text)})));break;default:g=React.createElement("div",null,"Type ",n.type," is (nog) niet geimplementeerd.")}var I=null;return i&&(I=React.createElement("div",{className:"osc-error-text"},t.state.error)),React.createElement("div",{id:t.props.config.divId,className:"osc-question osc-question-".concat(n.type).concat(i?" osc-error":"")},s,React.createElement("div",{className:"osc-question-content",id:t.props.config.divId+"-content"},React.createElement("h3",{className:"osc-question-title"}," ",n.title),m,g,I))}}]),n}(g.Z);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var O=function(e){(0,h.Z)(n,e);var t=C(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e)).noOfQuestionsToShow=i.config.noOfQuestionsToShow||100,i.questionElements=[],i.state={currentQuestion:0,values:{}},i}return(0,u.Z)(n,[{key:"componentDidMount",value:function(e,t){}},{key:"isValid",value:function(){var e=this,t=!0,n=e.props.data.questions.slice(e.state.currentQuestion,e.state.currentQuestion+e.noOfQuestionsToShow),i=!1;return n.forEach((function(n,o){e.questionElements[o].isValid()||(i||setTimeout((function(){console.log(e.questionElements[o]),console.log(e.questionElements[o].questionId);var t=document.querySelector("#osc-question-".concat(e.questionElements[o].questionId,"-content"));console.log(t),t&&t.scrollIntoView({behavior:"smooth"})}),250),i=!0,t=!1)})),t}},{key:"getAnswers",value:function(){var e=this,t=m()({},this.props.data&&this.props.data.values,e.state.values);return e.props.data&&e.props.data.questions.forEach((function(n,i){var o=e.questionElements.find((function(e){return e&&e.questionId==n.id}));o&&void 0!==o.getAnswer()&&(t[n.id]=o.getAnswer())})),e.setState({values:t}),t}},{key:"gotoNextQuestion",value:function(){if(!this.isValid())return{};var e=this.state.currentQuestion+this.noOfQuestionsToShow;return e>=this.props.data.questions.length?(e=0,this.setState({currentQuestion:e}),{isReady:!0,currentQuestion:e}):(this.setState({currentQuestion:e}),{isReady:!1,currentQuestion:e})}},{key:"gotoPreviousQuestion",value:function(){var e=this.state.currentQuestion-this.noOfQuestionsToShow;return e<0?(e=0,this.setState({currentQuestion:e}),{isBeginning:!0,currentQuestion:e}):(this.setState({currentQuestion:e}),{isBeginning:!1,currentQuestion:e})}},{key:"render",value:function(){var e,t=this,n=t.props.data||{questions:[]},i=n.questions.slice(t.state.currentQuestion,t.state.currentQuestion+t.noOfQuestionsToShow),o=m()({},this.props.data&&this.props.data.values,t.state.values);return e=React.createElement("div",{className:"osc-questions"},i.map((function(e,n){return React.createElement(L,{config:k(k({},t.config),{},{divId:"osc-question-".concat(e.id)}),data:k(k({},e),{},{value:o[e.id]}),key:"question-".concat(e.id),ref:function(e){t.questionElements[n]=e}})}))),React.createElement("div",{id:this.id,className:"osc-question-group"},React.createElement("h3",{className:"osc-question-group-title"},n.title),React.createElement("div",{className:"osc-question-group-description",dangerouslySetInnerHTML:{__html:n.description}}),e)}}]),n}(g.Z);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var x=function(e){(0,h.Z)(n,e);var t=M(n);function n(e){var i;return(0,l.Z)(this,n),null==(i=t.call(this,e,{type:"default",withPercentage:!1,minLabel:null,maxLabel:null,barColor:{default:"#bed200",min:"#ff9100",max:"#bed200"}})).config.barColor.min&&(i.config.barColor.min="#ff9100"),null==i.config.barColor.max&&(i.config.barColor.max="#bed200"),i.answers=e.data&&e.data.answers||{},Object.keys(i.answers).forEach((function(e){i.answers[e]==parseInt(i.answers[e])&&(i.answers[e]={x:parseInt(i.answers[e])})})),i.state={score:i.props.score||0},i}return(0,u.Z)(n,[{key:"getTitle",value:function(e,t){return this.props.data&&this.props.data.title}},{key:"calculateScore",value:function(e){var t=this,n=this.answers,i=e||{},o=(Object.keys(n).length,{});Object.keys(n).forEach((function(e){var r=n[e]||{},a=i[e]||(t.config.startWithAllQuestionsAnswered?{x:50,y:50,z:50}:{}),s=o[e]={};["x","y","z"].forEach((function(e){if(void 0!==r[e]&&""!=r[e]&&void 0!==a[e]&&""!=a[e])return s[e]=100-Math.abs(r[e]-a[e])}))}));var r={};return Object.keys(n).forEach((function(e){["x","y","z"].forEach((function(t){r[t]=r[t]||{score:[],noOfAnswers:0},void 0!==o[e][t]&&r[t].score.push(o[e][t]),n[e]&&""!=n[e][t]&&void 0!==n[e][t]&&r[t].noOfAnswers++}))})),Object.keys(r).forEach((function(e){r[e]=r[e].score.length?r[e].score.reduce((function(e,t){return e+t}))/r[e].noOfAnswers:void 0})),this.setState({score:r}),r}},{key:"render",value:function(){var e=this,t=e.state.score,n=null;switch(this.config.type){case"plane":var i=null,o=this.props.data&&this.props.data.images||[];if(o&&o.length){Array.isArray(o)||(o=[o]);var r=o[0],a=r;"object"==(0,y.Z)(r)&&(a=r.src),i=React.createElement("img",{className:"osc-choice-plane-background-image",src:a,style:{width:this.props.baseSize/2,height:this.props.baseSize/2}})}return React.createElement("div",{className:"osc-choice-plane",style:{width:this.props.baseSize/2,height:this.props.baseSize/2}},i);case"minus-to-plus-100":var s=null,c=parseInt(2*(t.x-50))||0;e.config.withPercentage&&(s=React.createElement("div",{className:"osc-percentage"},c));var l=e.config.barColor.max.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i),u=e.config.barColor.min.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i),d=parseInt(u[1],16)+(parseInt(l[1],16)-parseInt(u[1],16))*(t.x/100),h=parseInt(u[2],16)+(parseInt(l[2],16)-parseInt(u[2],16))*(t.x/100),f=parseInt(u[3],16)+(parseInt(l[3],16)-parseInt(u[3],16))*(t.x/100),_={backgroundColor:"rgb(".concat(d,",").concat(h,",").concat(f,")")};c>=0&&(_.width=c/2+"%",_.left="50%",_.right="auto"),c<0&&(_.width=-c/2+"%",_.left="auto",_.right="50%"),n=React.createElement("div",{className:"osc-choice-default"},React.createElement("h4",null,e.props.data.title),React.createElement("div",{className:"osc-choice-bar osc-from-center".concat(e.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-progress",style:_})),s);break;default:var p=null;if(e.config.withPercentage){var m=parseInt(t.x)||0;p=React.createElement("div",{className:"osc-percentage"},m,"%")}_={width:(t.x||0)+"%",backgroundColor:e.config.barColor.default},n=React.createElement("div",{className:"osc-choice-default"},React.createElement("h4",null,e.props.data.title),React.createElement("div",{className:"osc-choice-bar".concat(e.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-mask"}),React.createElement("div",{className:"osc-choice-bar-progress",style:_})),p)}var g=null;return(e.config.minLabel||e.config.maxLabel)&&(g=React.createElement("div",{className:"osc-minmax-labels"},React.createElement("div",{className:"osc-min-label"},e.config.minLabel),React.createElement("div",{className:"osc-max-label"},e.config.maxLabel))),React.createElement("li",{className:"osc-choice"},n,g)}}]),n}(g.Z);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var S=function(e){(0,h.Z)(n,e);var t=T(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e,{type:"default",withPercentage:!1,minLabel:null,maxLabel:null})).choiceElements=[],i.state={title:"Je hebt nog geen keuze gemaakt",scores:e.scores,planePos:{x:50,y:50}},i}return(0,u.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.choicesClickListener=function(e){n.setState({random:Math.random()})},document.addEventListener("osc-choices-click",n.choicesClickListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-choices-click",self.choicesClickListener)}},{key:"calculateScores",value:function(e){var t=this,n={};t.choiceElements.forEach((function(t){n[t.props.data.id]=t.calculateScore(e)}));var i={x:50,y:50};if(t.config.type){var o=Object.keys(e);if(o.length){i={x:0,y:0};var r={x:0,y:0,z:0};o.forEach((function(t){var n=e[t];["x","y","z"].forEach((function(e){void 0!==n[e]&&(i[e]+=parseInt(n[e])||0,r[e]++)}))})),i.x=r.x?parseInt(i.x/r.x):void 0,i.y=r.y?parseInt(i.y/r.y):void 0}}return t.setState({answers:e,scores:n,planePos:i}),{answers:e,scores:n,planePos:i}}},{key:"getPreferedChoice",value:function(e){var t=e.scores,n=e.planePos,i=this;if(t=t||i.state.scores,"plane"===i.config.type)return(n=n||i.state.planePos).x<50&&n.y<50?i.choiceElements[0]:n.x>50&&n.y<50?i.choiceElements[1]:n.x<50&&n.y>50?i.choiceElements[2]:n.x>50&&n.y>50?i.choiceElements[3]:null;var o=Object.keys(t).sort((function(e,n){return t[n].x-t[e].x})),r=o[0],a=o[1];return(r&&t[r].x)!=(a&&t[a].x)?i.choiceElements.find((function(e){return e&&e.props&&e.props.data&&e.props.data.id==r})):void 0}},{key:"render",value:function(){var e=this;if("plane"===this.config.type){var t=document.querySelector("#".concat(this.divId))&&document.querySelector("#".concat(this.divId)).offsetWidth-1||180,n=(void 0===e.state.planePos.y?50:e.state.planePos.y)*(t/100),i=(void 0===e.state.planePos.x?50:e.state.planePos.x)*(t/100);return React.createElement("div",{id:this.divId,className:"osc-choices osc-choice-plane-plane",ref:function(t){e.planePlaneElement=t}},Object.keys(e.props.choices).map((function(n,i){var o=e.props.choices[n];return React.createElement(x,{config:I({divId:"choice-".concat(o.id)},e.config),data:o,score:e.props.scores&&e.props.scores["choice-".concat(o.id)],key:"choice-".concat(o.id),baseSize:t,ref:function(t){e.choiceElements[i]=t}})})),React.createElement("div",{className:"osc-point",style:{top:n,left:i}}),React.createElement("div",{style:{clear:"both"}}))}return React.createElement("ul",{className:"osc-choices"},Object.keys(e.props.choices).map((function(t,n){var i=e.props.choices[t];return React.createElement(x,{config:I({divId:"choice-".concat(i.id)},e.config),data:i,score:e.props.scores&&e.props.scores["choice-".concat(i.id)],key:"choice-".concat(i.id),ref:function(t){e.choiceElements[n]=t}})})))}}]),n}(g.Z);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var A=React.lazy((function(){return Promise.all([n.e(439),n.e(779)]).then(n.bind(n,6779))})),Z=function(e){(0,h.Z)(n,e);var t=D(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e)).state={questionEditModeIndex:null},i}return(0,u.Z)(n,[{key:"handleFieldChange",value:function(e){var t;e.questionId&&((t=m().recursive(!0,{},this.props.currentTarget.answers))[e.questionId]=t[e.questionId]||{},"object"!=(0,y.Z)(t[e.questionId])&&(t[e.questionId]={x:t[e.questionId]}),t[e.questionId][e.dimension]=e.value),t=t||e,this.props.onChange({answers:t})}},{key:"toggleEditMode",value:function(e){this.setState({questionEditModeIndex:this.state.questionEditModeIndex!=e?e:null})}},{key:"render",value:function(){var e=this,t=(e.props.currentTarget.answers,React.createElement("div",{className:"osc-overview"},React.createElement("div",{className:"osc-overview-questions"},React.createElement("div",{className:"osc-overview-line"}),React.createElement("div",{className:"osc-overview-line"},React.createElement("div",{className:"osc-overview-line-content"},React.createElement("strong",null,"Vraag")),React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"X")),e.props.currentTarget.questionGroup.answerDimensions>1&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"Y")),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("div",{style:{width:"30px"}}))),Object.keys(e.props.currentTarget.questionGroup.questions).map((function(t,n){var i=e.props.currentTarget.questionGroup.questions[t],o=[],r=i.dimensions||["x"];return(-1!=r.indexOf("x")||e.props.currentTarget.questionGroup&&1==e.props.currentTarget.questionGroup.answerDimensions)&&o.push("x"),-1!=r.indexOf("y")&&e.props.currentTarget.questionGroup&&2==e.props.currentTarget.questionGroup.answerDimensions&&o.push("y"),React.createElement("div",{className:"osc-overview-line",key:"question-".concat(i.id)},React.createElement("div",{className:"osc-overview-line-content"},i.title," (",i.id,")"),["x","y"].map((function(t,r){if(!o.includes(t))return 1==e.props.currentTarget.questionGroup.answerDimensions?null:React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field",key:"field-".concat(r)});var a=e.props.currentTarget.answers&&e.props.currentTarget.answers[i.id]&&("object"==(0,y.Z)(e.props.currentTarget.answers[i.id])?e.props.currentTarget.answers[i.id][t]:e.props.currentTarget.answers[i.id]);return e.state.questionEditModeIndex==n?React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field",key:"field-".concat(r)},React.createElement(E.default.Text,{config:{},value:a,onChange:function(n){return e.handleFieldChange({questionId:i.id,dimension:t,value:n.value})},ref:function(t){return e.questionImageBField=t}})):React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field",key:"field-".concat(r)},a)})),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("a",{className:"osc-edit-button",onClick:function(t){return e.toggleEditMode(n)}})))}))))),n=null;return e.props.currentTarget.questionGroup&&e.props.currentTarget.questionGroup.answerDimensions>1&&(n=React.createElement("div",null,React.createElement("h3",null,"Afbeelding"),React.createElement(i.Suspense,{fallback:React.createElement("div",null,"Loading...")},React.createElement(A,{config:e.config,value:e.props.currentTarget.images,onChange:function(t){return e.props.onChange({images:t.value})},ref:function(t){return e.imagesField=t}})))),React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(E.default.InputWithCounter,{config:{inputType:"input",minLength:2,maxLength:255},value:e.props.currentTarget.title,onChange:function(t){return e.props.onChange({title:t.value})},ref:function(t){return e.titleField=t}}),React.createElement("h3",null,"Beschrijving"),React.createElement(E.default.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:e.props.currentTarget.description,onChange:function(t){return e.props.onChange({description:t.value})},ref:function(t){return e.descriptionField=t}}),n,React.createElement("h3",null,"Antwoorden"),t)}}]),n}(g.Z);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var N=function(e){(0,h.Z)(n,e);var t=B(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"handleFieldChange",value:function(e){var t,n=this,i=!1;void 0!==e.isActive&&(i=n.props.currentTarget.choicesGuideConfig.isActive!=e.isActive,(t={choicesGuideConfig:m().recursive({},n.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.isActive=e.isActive),void 0!==e.submissionType&&(i=n.props.currentTarget.choicesGuideConfig.submissionType!=e.submissionType,(t={choicesGuideConfig:m().recursive({},n.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.submissionType=e.submissionType),void 0!==e.withExisting&&(i=n.props.currentTarget.choicesGuideConfig.withExisting!=e.withExisting,(t={choicesGuideConfig:m().recursive({},n.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.withExisting=e.withExisting),void 0!==e.requiredUserRole&&(i=n.props.currentTarget.choicesGuideConfig.requiredUserRole!=e.requiredUserRole,(t={choicesGuideConfig:m().recursive({},n.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.requiredUserRole=e.requiredUserRole||null),t=t||e,n.props.onChange(t,i)}},{key:"render",value:function(){var e=this,t=e.props.currentTarget.choicesGuideConfig||{},n=null;if(0!=!!t.isActive&&"false"!=t.isActive&&"0"!=t.isActive){var i=null;if("form"==t.submissionType){var o=null;"member"==t.requiredUserRole&&(o=React.createElement("div",null,React.createElement("h4",null,"Als er al een inzending is voor deze gebruiker"),React.createElement(E.default.Select,{config:{choices:[{value:"replace",description:"Overschrijf het bestaande resultaat"},{value:"error",description:"Geef een foutmelding"}]},value:t.withExisting,onChange:function(t){return e.handleFieldChange({withExisting:t.value})},ref:function(t){return e.withExistingField=t}}))),i=React.createElement("div",null,React.createElement("h4",null,"Om te kunnnen insturen moet een gebruiker ingelogd zijn"),React.createElement(E.default.Select,{config:{choices:[{value:null,description:"Nee"},{value:"member",description:"Ja"}]},value:t.requiredUserRole,onChange:function(t){return e.handleFieldChange({requiredUserRole:t.value})},ref:function(t){return e.requiredUserRoleField=t}}),o)}n=React.createElement("div",null,React.createElement("h4",null,"Opslaan van de resultaten"),React.createElement(E.default.Select,{config:{choices:[{value:"none",description:"Niet opslaan"},{value:"auto",description:"Automatisch opslaan"},{value:"form",description:"Laat eerst een formulier invullen"}]},value:t.submissionType,onChange:function(t){return e.handleFieldChange({submissionType:t.value})},ref:function(t){return e.submissionTypeField=t}}),i)}return React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Naam"),React.createElement("div",{className:"osc-form-description"},"Geef deze keuzewijzer een naam, zodat deze makkelijk terug te vinden is in de 'Keuzewijzer' en 'Keuzewijzer resultaat' widget."),React.createElement(E.default.InputWithCounter,{key:"x1",config:{inputType:"input",minLength:2,maxLength:255},value:e.props.currentTarget.title,onChange:function(t){return e.handleFieldChange({title:t.value})},ref:function(t){e.titleField=t}}),React.createElement("h4",null,"Deze keuzewijzer is actief"),React.createElement(E.default.Select,{config:{choices:[{value:"true",description:"Ja"},{value:"false",description:"Nee"}]},value:t.isActive,onChange:function(t){return e.handleFieldChange({isActive:t.value})},ref:function(t){return e.isActiveField=t}}),n)}}]),n}(g.Z);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var U=React.lazy((function(){return Promise.all([n.e(439),n.e(779)]).then(n.bind(n,6779))})),q=function(e){(0,h.Z)(n,e);var t=j(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e)).handleFieldChange=i.handleFieldChange.bind((0,d.Z)(i)),i.state={valueEditModeIndex:null,showMoreInfoFields:i.props.currentTarget.moreInfo&&(i.props.currentTarget.moreInfo.text||i.props.currentTarget.moreInfo.title)?"yes":"no"},i}return(0,u.Z)(n,[{key:"handleFieldChange",value:function(e){var t,n=this;if(void 0!==e.type&&(t={type:e.type},n.props.currentTarget.type&&"a-to-b"!=n.props.currentTarget.type||"enum-radio"!=e.type||(t.values=[]),n.props.currentTarget.type&&"enum-radio"!=n.props.currentTarget.type||"a-to-b"!=e.type||(t.values={A:{},B:{}})),void 0!==e.moreInfoTitle&&((t={moreInfo:m().recursive({},n.props.currentTarget.moreInfo)}).moreInfo.title=e.moreInfoTitle),void 0!==e.moreInfoText&&((t={moreInfo:m().recursive({},n.props.currentTarget.moreInfo)}).moreInfo.text=e.moreInfoText),void 0!==e.questionTextA&&((t={values:m().recursive({},n.props.currentTarget.values)}).values.A.questionText=e.questionTextA),void 0!==e.questionImageA){t={values:m().recursive({},n.props.currentTarget.values)};var i=e.questionImageA;try{i=JSON.parse(i)}catch(e){}t.values.A.questionImage=i}if(void 0!==e.questionTextA&&((t={values:m().recursive({},n.props.currentTarget.values)}).values.A.questionText=e.questionTextA),void 0!==e.labelA&&((t={values:m().recursive({},n.props.currentTarget.values)}).values.A.label=e.labelA),void 0!==e.labelB&&((t={values:m().recursive({},n.props.currentTarget.values)}).values.B.label=e.labelB),void 0!==e.labelBelowA&&((t={values:m().recursive({},n.props.currentTarget.values)}).values.A.labelBelow=e.labelBelowA),void 0!==e.labelBelowB&&((t={values:m().recursive({},n.props.currentTarget.values)}).values.B.labelBelow=e.labelBelowB),void 0!==e.questionImageB){t={values:m().recursive({},n.props.currentTarget.values)};var o=e.questionImageB;try{o=JSON.parse(o)}catch(e){}t.values.B.questionImage=o}if(void 0!==e.questionTextB&&((t={values:m().recursive({},n.props.currentTarget.values)}).values.B.questionText=e.questionTextB),void 0!==e.newValue&&((t={values:n.props.currentTarget.values||[]}).values.push(e.newValue),this.setEditMode(t.values.length-1)),void 0!==e.deleteIndex&&(t={values:n.props.currentTarget.values||[]}).values.splice(e.deleteIndex,1),void 0!==e.valueIndex)if((t={values:n.props.currentTarget.values||[]}).values[e.valueIndex]=t.values[e.valueIndex]||{text:"",value:{}},e.move){if("up"==e.move&&e.valueIndex>0){var r=t.values[e.valueIndex];t.values[e.valueIndex]=t.values[e.valueIndex-1],t.values[e.valueIndex-1]=r}if("down"==e.move&&e.valueIndex<t.values.length-1){var a=t.values[e.valueIndex];console.log(a),t.values[e.valueIndex]=t.values[e.valueIndex+1],t.values[e.valueIndex+1]=a}}else e.valueDimension?void 0!==e.valueValue&&("object"!=(0,y.Z)(t.values[e.valueIndex].value)&&(t.values[e.valueIndex].value={}),t.values[e.valueIndex].value[e.valueDimension]=e.valueValue):t.values[e.valueIndex].text=e.valueText;t=t||e,n.props.onChange(t)}},{key:"setShowMoreInfoFields",value:function(e){this.setState({showMoreInfoFields:e},(function(){}))}},{key:"toggleEditMode",value:function(e){var t=this.state.valueEditModeIndex!=e?e:null;this.setEditMode(t)}},{key:"setEditMode",value:function(e){var t=this;this.setState({valueEditModeIndex:e},(function(){null!=t.state.valueEditModeIndex&&(t["osc-question-button-text-".concat(t.state.valueEditModeIndex)]&&t["osc-question-button-text-".concat(t.state.valueEditModeIndex)].input).focus()}))}},{key:"render",value:function(){var e=this,t=(e.state.showMoreInfoFields,React.createElement("div",null,React.createElement("h3",null,"Extra info"),React.createElement("div",{className:"osc-form-description"},"Wilt u een blok met uitklapbare tekst toevoegen? (bijvoorbeeld met extra uitleg)"),React.createElement(E.default.Select,{config:{choices:[{value:"yes",description:"Ja"},{value:"no",description:"Nee"}]},value:e.state.showMoreInfoFields,onChange:function(t){return e.setShowMoreInfoFields(t.value)}})));"yes"==e.state.showMoreInfoFields&&(t=React.createElement("div",null,React.createElement("h3",null,"Meer informatie titel"),React.createElement(E.default.InputWithCounter,{config:{inputType:"text",minLength:0,maxLength:255},value:e.props.currentTarget.moreInfo&&e.props.currentTarget.moreInfo.title,onChange:function(t){return e.handleFieldChange({moreInfoTitle:t.value})},ref:function(t){return e.moreInfoField=t}}),React.createElement("h3",null,"Meer informatie text"),React.createElement(E.default.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:e.props.currentTarget.moreInfo&&e.props.currentTarget.moreInfo.text,onChange:function(t){return e.handleFieldChange({moreInfoText:t.value})},ref:function(t){return e.moreInfoField=t}})));var n=null;if("continuous"==e.props.currentTarget.type&&(n=React.createElement("div",null,React.createElement("h3",null,"Label minimale waarde"),React.createElement(E.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:255},value:e.props.currentTarget.minLabel,onChange:function(t){return e.props.onChange({minLabel:t.value})},ref:function(t){return e.minLabelField=t}}),React.createElement("h3",null,"Label maximale waarde"),React.createElement(E.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:e.props.currentTarget.maxLabel,onChange:function(t){return e.props.onChange({maxLabel:t.value})},ref:function(t){return e.maxLabelField=t}}))),"a-to-b"==e.props.currentTarget.type&&(n=React.createElement("div",{className:"osc-column-container"},React.createElement("div",{className:"osc-columns"},React.createElement("div",{className:"osc-column osc-2-columns"},React.createElement("h3",null,"Label voor A"),React.createElement(E.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:e.props.currentTarget.values&&e.props.currentTarget.values.A&&(void 0!==e.props.currentTarget.values.A.label?e.props.currentTarget.values.A.label:"A"),onChange:function(t){return e.handleFieldChange({labelA:t.value})},ref:function(t){return e.labelField=t}}),React.createElement("h3",null,"Label onder slider A"),React.createElement(E.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:e.props.currentTarget.values&&e.props.currentTarget.values.A&&(void 0!==e.props.currentTarget.values.A.labelBelow?e.props.currentTarget.values.A.labelBelow:"0"),onChange:function(t){return e.handleFieldChange({labelBelowA:t.value})},ref:function(t){return e.labelBelowField=t}}),React.createElement("h3",null,"Uitleg bij A"),React.createElement(E.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:e.props.currentTarget.values&&e.props.currentTarget.values.A&&e.props.currentTarget.values.A.questionText,onChange:function(t){return e.handleFieldChange({questionTextA:t.value})},ref:function(t){return e.minLabelField=t}}),React.createElement("h3",null,"Afbeelding bij A"),React.createElement(i.Suspense,{fallback:React.createElement("div",null,"Loading...")},React.createElement(U,{config:e.config,value:e.props.currentTarget.values&&e.props.currentTarget.values.A&&e.props.currentTarget.values.A.questionImage,onChange:function(t){return e.handleFieldChange({questionImageA:t.value})},ref:function(t){return e.questionImageAField=t}}))),React.createElement("div",{className:"osc-column osc-2-columns"},React.createElement("h3",null,"Label voor B"),React.createElement(E.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:e.props.currentTarget.values&&e.props.currentTarget.values.B&&(void 0!==e.props.currentTarget.values.B.label?e.props.currentTarget.values.B.label:"B"),onChange:function(t){return e.handleFieldChange({labelB:t.value})},ref:function(t){return e.labelField=t}}),React.createElement("h3",null,"Label onder slider B"),React.createElement(E.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:e.props.currentTarget.values&&e.props.currentTarget.values.B&&(void 0!==e.props.currentTarget.values.B.labelBelow?e.props.currentTarget.values.B.labelBelow:"100"),onChange:function(t){return e.handleFieldChange({labelBelowB:t.value})},ref:function(t){return e.labelBelowField=t}}),React.createElement("h3",null,"Uitleg bij B"),React.createElement(E.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:e.props.currentTarget.values&&e.props.currentTarget.values.B&&e.props.currentTarget.values.B.questionText,onChange:function(t){return e.handleFieldChange({questionTextB:t.value})},ref:function(t){return e.minLabelField=t}}),React.createElement("h3",null,"Afbeelding bij B"),React.createElement(i.Suspense,{fallback:React.createElement("div",null,"Loading...")},React.createElement(U,{config:e.config,value:e.props.currentTarget.values&&e.props.currentTarget.values.B&&e.props.currentTarget.values.B.questionImage,onChange:function(t){return e.handleFieldChange({questionImageB:t.value})},ref:function(t){return e.questionImageBField=t}})))))),"enum-buttons"==e.props.currentTarget.type||"enum-radio"==e.props.currentTarget.type){var o=e.props.currentTarget.dimensions||"['x']";n=React.createElement("div",null,React.createElement("h3",null,"Opties"),React.createElement("div",{className:"osc-overview"},React.createElement("div",{className:"osc-overview-question-options"},React.createElement("div",{className:"osc-overview-line"},React.createElement("div",{className:"osc-overview-line-content"},React.createElement("strong",null,"Tekst")),e.props.currentTarget.questionGroup&&1==e.props.currentTarget.questionGroup.answerDimensions&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"Waarde")),e.props.currentTarget.questionGroup&&e.props.currentTarget.questionGroup.answerDimensions>1&&("['x']"==o||"['x','y']"==o)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"X")),(e.props.currentTarget.questionGroup&&e.props.currentTarget.questionGroup.answerDimensions)>1&&("['y']"==o||"['x','y']"==o)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"Y")),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("div",{style:{width:"60px"}}))),e.props.currentTarget.values&&e.props.currentTarget.values.map&&e.props.currentTarget.values.map((function(t,n){var i=function(i,o){var r=o?t[i][o]:t[i];return e.state.valueEditModeIndex==n?React.createElement(E.default.Text,{value:r,onChange:function(t){return e.handleFieldChange({valueIndex:n,valueDimension:o,valueText:t.value,valueValue:t.value})},ref:function(t){return e["osc-question-button-".concat(i,"-").concat(n)]=t}}):r};return React.createElement("div",{className:"osc-overview-line",key:"option-".concat(n)},React.createElement("div",{className:"osc-overview-line-content"},i("text")),("['x']"==o||"['x','y']"==o)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},i("value","x")),("['y']"==o||"['x','y']"==o)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},i("value","y")),React.createElement("div",{className:"osc-overview-line-buttons"},n<e.props.currentTarget.values.length-1?React.createElement("a",{className:"osc-arrow-down-button",onClick:function(t){return e.handleFieldChange({valueIndex:n,move:"down"})}}):React.createElement("div",{className:"osc-no-button"}),n>0?React.createElement("a",{className:"osc-arrow-up-button",onClick:function(t){return e.handleFieldChange({valueIndex:n,move:"up"})}}):React.createElement("div",{className:"osc-no-button"}),React.createElement("a",{className:"osc-edit-button",onClick:function(t){return e.toggleEditMode(n)}}),React.createElement("a",{className:"osc-delete-button",onClick:function(t){return e.handleFieldChange({deleteIndex:n})}})))})),React.createElement("div",{className:"osc-overview-line"},React.createElement("a",{onClick:function(){return e.handleFieldChange({newValue:{text:"",value:{x:"50",y:"50"}}})}},"Nieuwe optie toevoegen")))))}var r=null;return e.props.currentTarget.questionGroup&&e.props.currentTarget.questionGroup.answerDimensions>1&&(r=React.createElement("div",null,React.createElement("h3",null,"Deze vraag heeft invloed in de richting"),React.createElement(E.default.Select,{config:{choices:[{value:"['x']",description:"Alleen X"},{value:"['y']",description:"Alleen Y"},{value:"['x','y']",description:"X en Y"}]},value:e.props.currentTarget.dimensions,onChange:function(t){return e.props.onChange({dimensions:t.value})},ref:function(t){return e.dimensionsField=t}}))),React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(E.default.InputWithCounter,{config:{inputType:"text",minLength:2,maxLength:255},value:e.props.currentTarget.title,onChange:function(t){return e.props.onChange({title:t.value})},ref:function(t){return e.titleField=t}}),React.createElement("h3",null,"Beschrijving"),React.createElement(E.default.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:e.props.currentTarget.description,onChange:function(t){return e.props.onChange({description:t.value})},ref:function(t){return e.descriptionField=t}}),t,React.createElement("h3",null,"Afbeelding boven de vraag"),React.createElement(i.Suspense,{fallback:React.createElement("div",null,"Loading...")},React.createElement(U,{config:e.config,value:e.props.currentTarget.images,onChange:function(t){return e.props.onChange({images:t.value})},ref:function(t){return e.imagesField=t}})),React.createElement("h3",null,"Type vraag"),React.createElement(E.default.Select,{config:{choices:[{value:"",description:"Maak een keuze"},{value:"a-to-b",description:"van a naar b slider"},,{value:"enum-radio",description:"radio buttons"}],required:!0},value:e.props.currentTarget.type,onChange:function(t){return e.handleFieldChange({type:t.value})},ref:function(t){return e.typeField=t}}),n,r)}}]),n}(g.Z);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var W=function(e){(0,h.Z)(n,e);var t=z(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"render",value:function(){var e=this;return React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(E.default.InputWithCounter,{config:{inputType:"input",minLength:2,maxLength:255},value:e.props.currentTarget.title,onChange:function(t){return e.props.onChange({title:t.value})},ref:function(t){return e.titleField=t}}),React.createElement("h3",null,"Beschrijving"),React.createElement(E.default.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:e.props.currentTarget.description,onChange:function(t){return e.props.onChange({description:t.value})},ref:function(t){return e.descriptionField=t}}),React.createElement("h3",null,"Aantal dimensies voor antwoorden"),React.createElement(E.default.Select,{config:{choices:[{value:"1",description:"1 - Lineair"},{value:"2",description:"2 - Matrix"}]},value:e.props.currentTarget.answerDimensions,onChange:function(t){return e.props.onChange({answerDimensions:t.value})},ref:function(t){return e.answerDimensionsField=t}}),React.createElement("h3",null,"Volgorde nummer"),React.createElement(E.default.Text,{config:{},value:e.props.currentTarget.seqnr,onChange:function(t){return e.props.onChange({seqnr:t.value})},ref:function(t){return e.seqnrField=t}}))}}]),n}(g.Z);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var K=function(e){(0,h.Z)(n,e);var t=F(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"render",value:function(){var e=this,t=null;return(!e.props.questionGroups||e.props.questionGroups.length<1)&&(t=React.createElement("a",{href:"#",onClick:function(t){return e.props.setCurrentForm({what:"question-group"})}},"Nieuwe vraaggroep")),React.createElement("div",{className:"osc-overview"},React.createElement("h2",null,"Vraaggroepen"),Object.keys(e.props.questionGroups).map((function(t,n){var i=e.props.questionGroups[t],o=React.createElement("div",{className:"osc-overview-questions"},React.createElement("div",{className:"osc-overview-line"},React.createElement("h4",null,"Vragen")),Object.keys(i.questions).map((function(t,n){var o=i.questions[t];return React.createElement("div",{className:"osc-overview-line",key:"question-".concat(o.id)},React.createElement("div",{className:"osc-overview-line-content"},o.title),React.createElement("div",{className:"osc-overview-line-buttons"},n<i.questions.length-1?React.createElement("a",{className:"osc-arrow-down-button",onClick:function(t){return e.props.updateSeqnr({what:"question",move:"down",questionGroupId:i.id,questionId:o.id})}}):React.createElement("div",{className:"osc-no-button"}),n>0?React.createElement("a",{className:"osc-arrow-up-button",onClick:function(t){return e.props.updateSeqnr({what:"question",move:"up",questionGroupId:i.id,questionId:o.id})}}):React.createElement("div",{className:"osc-no-button"}),React.createElement("a",{className:"osc-edit-button",onClick:function(t){return e.props.setCurrentForm({what:"question",questionGroupId:i.id,questionId:o.id})}}),React.createElement("a",{className:"osc-delete-button",onClick:function(t){return e.props.deleteElement({what:"question",questionGroupId:i.id,questionId:o.id,title:o.title})}})))})),React.createElement("div",{className:"osc-overview-line"},React.createElement("a",{onClick:function(t){return e.props.setCurrentForm({what:"question",questionGroupId:i.id})}},"Nieuwe vraag"))),r=React.createElement("div",{className:"osc-overview-choices"},React.createElement("h4",null,"Keuze opties"),Object.keys(i.choices).map((function(t,n){var o=i.choices[t];return React.createElement("div",{className:"osc-overview-line",key:"choice-".concat(o.id)},React.createElement("div",{className:"osc-overview-line-content"},o.title),React.createElement("div",{className:"osc-overview-line-buttons"},n<i.choices.length-1?React.createElement("a",{className:"osc-arrow-down-button",onClick:function(t){return e.props.updateSeqnr({what:"choice",move:"down",questionGroupId:i.id,choiceId:o.id})}}):React.createElement("div",{className:"osc-no-button"}),n>0?React.createElement("a",{className:"osc-arrow-up-button",onClick:function(t){return e.props.updateSeqnr({what:"choice",move:"up",questionGroupId:i.id,choiceId:o.id})}}):React.createElement("div",{className:"osc-no-button"}),React.createElement("a",{className:"osc-edit-button",onClick:function(t){return e.props.setCurrentForm({what:"choice",questionGroupId:i.id,choiceId:o.id})}}),React.createElement("a",{className:"osc-delete-button",onClick:function(t){return e.props.deleteElement({what:"choice",questionGroupId:i.id,choiceId:o.id,title:o.title})}})))})),React.createElement("div",{className:"osc-overview-line",key:"choice-new"},React.createElement("a",{onClick:function(t){return e.props.setCurrentForm({what:"choice",questionGroupId:i.id})}},"Nieuwe keuze optie"))),a=React.createElement("div",{className:"osc-no-button"});return 0==Object.keys(i.choices).length&&0==Object.keys(i.questions).length&&1!=e.props.questionGroups.length&&(a=React.createElement("a",{className:"osc-delete-button",onClick:function(t){return e.props.deleteElement({what:"question-group",questionGroupId:i.id,title:i.title})}})),React.createElement("div",{className:"osc-overview-question-group",key:"questiongroup-".concat(i.id)},React.createElement("div",{className:"osc-overview-line"},React.createElement("div",{className:"osc-overview-line-content"},React.createElement("h3",null,i.title)),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("a",{className:"osc-edit-button",onClick:function(t){return e.props.setCurrentForm({what:"question-group",questionGroupId:i.id})}}),a)),o,r)})),React.createElement("br",null),React.createElement("br",null),t)}}]),n}(g.Z);function H(e){var t=e.config,n="".concat(t.api&&t.api.url,"/api/site/").concat(t.siteId,"/choicesguide/").concat(t.choicesGuideId,"?includeChoices=1&includeQuestions=1"),i=v.ZP.api.getHeaders();return fetch(n,{headers:i}).then((function(e){return e.json()})).then((function(e){var t={choicesGuideId:e.id,images:e.images,choicesGuideConfig:e.config,title:e.title,description:e.description,choices:e.choices||[],questionGroups:e.questiongroups||[],status:"active"};return t.questionGroups&&t.questionGroups.map&&t.questionGroups.map((function(e){e.questions&&e.questions.map&&e.questions.map((function(e){"continuous"==e.type&&(e.type="a-to-b"),"enum-buttons"==e.type&&(e.type="enum-radio"),"a-to-b"==e.type&&(e.values&&e.values.A&&(e.values.A.labelBelow=void 0!==e.values.A.labelBelow?e.values.A.labelBelow:e.minLabel),e.values&&e.values.B&&(e.values.B.labelBelow=void 0!==e.values.B.labelBelow?e.values.B.labelBelow:e.maxLabel))}))})),t.questionGroups&&t.questionGroups.map&&t.questionGroups.map((function(e){if(e.questions&&e.questions.map){var t=e.questions.map((function(e){return e.id}));e.choices&&e.choices.map&&e.choices.map((function(e){e.answers&&Object.keys(e.answers).map((function(e){return parseInt(e)})).filter((function(e){return-1==t.indexOf(e)})).map((function(t){return delete e.answers[t]}))}))}})),t}))}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var Q=function(e){(0,h.Z)(n,e);var t=J(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e,{siteId:null,loginUrl:null,noOfQuestionsToShow:100,api:{url:null},image:{}})).handleFieldChange=i.handleFieldChange.bind((0,d.Z)(i)),i.setCurrentForm=i.setCurrentForm.bind((0,d.Z)(i)),i.deleteElement=i.deleteElement.bind((0,d.Z)(i)),i.updateSeqnr=i.updateSeqnr.bind((0,d.Z)(i)),i.state={choicesGuideId:i.props.data.choicesGuideId,currentTarget:{},busy:!1},i.onFinished=i.props.onFinished,i}return(0,u.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.fetchData();window.addEventListener("beforeunload",(function(e){return n.state.changed?(e.preventDefault(),e.returnValue="Are you sure you want to exit?",e):null}),{capture:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",self.unloadListener)}},{key:"fetchData",value:function(){var e=this;H({config:e.config}).then((function(t){e.setState(V(V({},t),{},{busy:!1}),(function(){e.setCurrentForm({what:"choices-guide"})}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}},{key:"handleFieldChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,i=n.state.currentTarget;Object.keys(e).forEach((function(o){t=t||n.state.changed||i[o]!=e[o]&&"choicesGuideConfig"!=o,i[o]=e[o]})),n.setState({currentTarget:i,changed:t})}},{key:"updateSeqnr",value:function(e){var t=this;if("choices-guide"==t.state.currentTarget.what){var n,i,o=this.state.questionGroups,r=this.state.questionGroups.find((function(t){return t.id==e.questionGroupId}))||{},a=r["".concat(e.what,"s")]&&r["".concat(e.what,"s")],s=e["".concat(e.what,"Id")],c=a&&a.findIndex((function(e){return e.id==s}));"up"==e.move&&c>0&&(n=a[c-1],i=a[c]),"down"==e.move&&c<a.length-1&&(n=a[c],i=a[c+1]);var l=n.seqnr;n.seqnr=i.seqnr,i.seqnr=l,r["".concat(e.what,"s")]=a.sort((function(e,t){return e.seqnr-t.seqnr})),t.setState({questionGroups:o});var u=t.createApiUrl(V(V({},e),{},{questionId:n.id,choiceId:n.id})),d=t.createApiUrl(V(V({},e),{},{questionId:i.id,choiceId:i.id})),h=v.ZP.api.getHeaders(t.config);fetch(u,{method:"PUT",headers:h,body:JSON.stringify({seqnr:n.seqnr})}).then((function(e){if(e.ok)return e.json();throw e.text()})).catch(t.apiError),fetch(d,{method:"PUT",headers:h,body:JSON.stringify({seqnr:i.seqnr})}).then((function(e){if(e.ok)return e.json();throw e.text()})).catch(t.apiError)}}},{key:"setCurrentForm",value:function(e){var t,n,i;switch(e.what){case"choices-guide":e.title=this.state.title,e.description=this.state.description,e.images=this.state.images?this.state.images:"",e.choicesGuideConfig=this.state.choicesGuideConfig?this.state.choicesGuideConfig:{};break;case"choice":n=e.questionGroupId?(t=this.state.questionGroups.find((function(t){return t.id==e.questionGroupId}))||{}).choices&&t.choices.find((function(t){return t.id==e.choiceId}))||{}:this.state.choices.find((function(t){return t.id==e.choicesId}))||{},e.questionGroup=t,e.title=n.title,e.description=n.description,e.images=n.images,e.answers=n.answers,e.seqnr=void 0!==n.seqnr?n.seqnr:t.choices&&t.choices[t.choices.length-1]&&parseInt(t.choices[t.choices.length-1].seqnr)+10||10;break;case"question-group":t=this.state.questionGroups.find((function(t){return t.id==e.questionGroupId}))||{},e.title=t.title,e.description=t.description,e.answerDimensions=t.answerDimensions,e.seqnr=void 0!==t.seqnr?t.seqnr:10;break;case"question":i=(t=this.state.questionGroups.find((function(t){return t.id==e.questionGroupId}))||{}).questions&&t.questions.find((function(t){return t.id==e.questionId}))||{},e.questionGroup=t,e.title=i.title,e.description=i.description,e.moreInfo=i.moreInfo,e.images=i.images,e.minLabel=i.minLabel,e.maxLabel=i.maxLabel,e.type=i.type,e.dimensions=i.dimensions,e.values=i.values,e.seqnr=void 0!==i.seqnr?i.seqnr:t.questions&&t.questions[t.questions.length-1]&&parseInt(t.questions[t.questions.length-1].seqnr)+10||10}this.setState({currentTarget:e,changed:!1},(function(){window.scrollTo(0,0)}))}},{key:"validate",value:function(e){var t=e.showErrors,n=e.scrollTo,i=!0,o=null,r=this.formfields;return Object.keys(this.state.currentTarget).forEach((function(e){r[e+"Field"]&&r[e+"Field"].validate&&!r[e+"Field"].validate({showErrors:t})&&(i=!1,o||(o=e))})),n&&o&&o.instance&&o.instance.scrollIntoView&&o.instance.scrollIntoView({behavior:"smooth"}),i}},{key:"canSubmit",value:function(){var e=this.config.user||{};return v.ZP.user.hasRole(e,"moderator")}},{key:"createApiUrl",value:function(e){var t,n=e.what,i=e.questionGroupId,o=e.choiceId,r=e.questionId,a=this;switch(n){case"question-group":t="".concat(a.config.api&&a.config.api.url,"/api/site/").concat(a.config.siteId,"/choicesguide/").concat(a.state.choicesGuideId,"/questiongroup/").concat(i);break;case"choice":t="".concat(a.config.api&&a.config.api.url,"/api/site/").concat(a.config.siteId,"/choicesguide/").concat(a.state.choicesGuideId,"/questiongroup/").concat(i,"/choice/").concat(o);break;case"question":t="".concat(a.config.api&&a.config.api.url,"/api/site/").concat(a.config.siteId,"/choicesguide/").concat(a.state.choicesGuideId,"/questiongroup/").concat(i,"/question/").concat(r)}return t}},{key:"submitForm",value:function(){var e=this;e.setState({busy:!0,submitError:null},(function(){var t,n,i;if(!e.validate({showErrors:!0,scrollTo:!0}))return e.setState({busy:!1});if(!e.canSubmit())return alert("Je mag dit niet");switch(e.state.currentTarget.what){case"choices-guide":i=e.state.choicesGuideId,t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/choicesguide"),n={title:e.state.currentTarget.title,description:e.state.currentTarget.description,images:e.state.currentTarget.images,config:e.state.currentTarget.choicesGuideConfig};break;case"choice":i=e.state.currentTarget.choiceId,t=e.state.currentTarget.questionGroupId?"".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/choicesguide/").concat(e.state.choicesGuideId,"/questiongroup/").concat(e.state.currentTarget.questionGroupId,"/choice"):"".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/choicesguide/").concat(e.state.choicesGuideId,"/choice"),n={title:e.state.currentTarget.title,description:e.state.currentTarget.description,images:e.state.currentTarget.images,answers:e.state.currentTarget.answers,seqnr:e.state.currentTarget.seqnr};try{n.answers=JSON.parse(n.answers)}catch(e){}break;case"question-group":i=e.state.currentTarget.questionGroupId,t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/choicesguide/").concat(e.state.choicesGuideId,"/questiongroup"),n={title:e.state.currentTarget.title,description:e.state.currentTarget.description,answerDimensions:e.state.currentTarget.answerDimensions,seqnr:e.state.currentTarget.seqnr};break;case"question":i=e.state.currentTarget.questionId,t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/choicesguide/").concat(e.state.choicesGuideId,"/questiongroup/").concat(e.state.currentTarget.questionGroupId,"/question"),n={title:e.state.currentTarget.title,description:e.state.currentTarget.description,moreInfo:e.state.currentTarget.moreInfo,images:e.state.currentTarget.images,minLabel:e.state.currentTarget.minLabel,maxLabel:e.state.currentTarget.maxLabel,type:e.state.currentTarget.type,dimensions:e.state.currentTarget.dimensions,values:e.state.currentTarget.values,seqnr:e.state.currentTarget.seqnr};try{n.values=JSON.parse(n.values)}catch(e){}}t+=i?"/".concat(i):"";var o=v.ZP.api.getHeaders(e.config);fetch(t,{method:i?"PUT":"POST",headers:o,body:JSON.stringify(n)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.setState({busy:!1,changed:!1}),"choices-guide"==e.state.currentTarget.what?e.onFinished():e.fetchData()})).catch(e.apiError)}))}},{key:"deleteElement",value:function(e){var t=e.what,n=e.questionGroupId,i=e.choiceId,o=e.questionId,r=e.title,a=this;if(a.setState({submitError:null}),confirm("U gaat "+t+" "+r+" verwijderen. Weet u het zeker?")){var s=a.createApiUrl({what:t,questionGroupId:n,choiceId:i,questionId:o}),c=v.ZP.api.getHeaders(a.config);fetch(s,{method:"DELETE",headers:c}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(e){a.fetchData()})).catch(a.apiError)}}},{key:"apiError",value:function(e){e.then((function(e){try{e=JSON.parse(e),"object"==(0,y.Z)(e)&&(e=e.message)}catch(e){}return self.setState({submitError:{message:e}}),console.log(e)})),self.setState({busy:!1})}},{key:"render",value:function(){var e=this,t=null,n=null,i=null,o=React.createElement("button",{className:"osc-button-white",onClick:function(){e.setCurrentForm({what:"choices-guide"})}},"Terug"),r=React.createElement("button",{className:"osc-button-blue",onClick:function(t){return e.submitForm()}},"Opslaan");switch(e.state.currentTarget.what){case"choices-guide":t="Bewerk keuzewijzer",n=React.createElement(N,{config:this.config,currentTarget:e.state.currentTarget,onChange:e.handleFieldChange,ref:function(t){e.formfields=t}}),i=React.createElement(K,{questionGroups:e.state.questionGroups,setCurrentForm:e.setCurrentForm,deleteElement:e.deleteElement,updateSeqnr:e.updateSeqnr,ref:function(t){e.formfields=t}}),o=React.createElement("button",{className:"osc-button-white",onClick:function(){e.onFinished&&e.onFinished()}},"Terug");break;case"choice":t="Bewerk Keuze",n=React.createElement(Z,{config:this.config,currentTarget:e.state.currentTarget,onChange:e.handleFieldChange,ref:function(t){e.formfields=t}});break;case"question-group":t="Bewerk Vragengroep",n=React.createElement(W,{config:this.config,currentTarget:e.state.currentTarget,onChange:e.handleFieldChange,ref:function(t){e.formfields=t}});break;case"question":t="Bewerk Vraag",n=React.createElement(q,{config:this.config,currentTarget:e.state.currentTarget,onChange:e.handleFieldChange,ref:function(t){e.formfields=t}});break;default:o=React.createElement("button",{className:"osc-button-white",onClick:function(){e.onFinished&&e.onFinished()}},"Terug"),r=null}var a=null;return e.state.submitError&&(a=React.createElement("div",{className:"osc-message osc-error"},e.state.submitError.message)),React.createElement("div",{id:this.divId,className:"osc-form".concat(this.state.busy?" osc-busy":"")},React.createElement("h2",null,t),n,i,a,React.createElement("br",null),React.createElement("br",null),o,r)}}]),n}(g.Z),Y=n(3778),X=n(3377);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var ne=function(e){(0,h.Z)(n,e);var t=te(n);function n(e){var i;(0,l.Z)(this,n),i=t.call(this,e,{siteId:null,loginUrl:null,noOfQuestionsToShow:100,api:{url:null},choices:{title:{noPreferenceYet:"Je hebt nog geen keuze gemaakt",preference:"<b>Jouw voorkeur:</b>{preferredChoice}",inBetween:"Je staat precies tussen meerdere voorkeuren in"},withPercentage:!1,minLabel:null,maxLabel:null}});var o=(0,d.Z)(i);!o.config.aspectRatio&&o.config.choices&&o.config.choices.type&&"plane"==o.config.choices.type&&(o.config.aspectRatio="10x7");var r=v.ZP.localStorage.get("osc-choices-guide.values")||{},a=v.ZP.localStorage.get("osc-choices-guide.scores")||{};return o.state={title:"Loading....",questionGroups:[],choices:[],currentQuestionGroupIndex:void 0,currentQuestion:void 0,status:"init",values:r[o.config.choicesGuideId],scores:a[o.config.choicesGuideId]},o.liveUpdates=o.liveUpdates.bind((0,d.Z)(i)),o.hideEditForm=o.hideEditForm.bind((0,d.Z)(i)),i}return(0,u.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.liveUpdateListener=function(e){n.liveUpdates(e.detail)},document.addEventListener("osc-choices-guide-live-updates",n.liveUpdateListener),n.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-choices-guide-live-updates",self.liveUpdateListener)}},{key:"fetchData",value:function(){var e=this;H({config:e.config}).then((function(t){if(!t.choicesGuideId)return e.setState({status:"panic",message:"Er is geen keuzewijzer gevonden. Maak er één aan in het admin deel van deze site, en koppel deze dan hier in 'Bewerk keuzewijzer'."});e.setState(t,(function(){e.startGuide()}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}},{key:"startGuide",value:function(){var e=this,t={currentQuestionGroupIndex:0};e.setState(t,(function(){e.liveUpdates();var t=new window.CustomEvent("osc-choices-guide-is-ready");document.dispatchEvent(t)}))}},{key:"showEditForm",value:function(){this.setState({status:"edit"})}},{key:"hideEditForm",value:function(){var e=v.ZP.localStorage.get("osc-choices-guide.values")||{},t=v.ZP.localStorage.get("osc-choices-guide.scores")||{};this.setState({title:"Loading....",questionGroups:[],choices:[],currentQuestionGroupIndex:void 0,status:"init",values:e[this.config.choicesGuideId],scores:t[this.config.choicesGuideId]},(function(){this.fetchData()}))}},{key:"gotoNextQuestion",value:function(){var e=this,t={};t.values=m()(e.state.values||{},e.questionGroupElement.getAnswers()),e.setState(t),e.choicesElement.calculateScores(t.values);var n=e.questionGroupElement.gotoNextQuestion(),i=n.isReady,o=n.currentQuestion;e.setState({currentQuestion:o},(function(){i?e.gotoNextGroup():window.scrollTo(0,0)}))}},{key:"gotoPreviousQuestion",value:function(){var e=this;if("result"==this.state.status)return this.gotoPreviousGroup();var t={};t.values=m()(this.state.values||{},this.questionGroupElement.getAnswers()),this.setState(t),this.choicesElement.calculateScores(t.values);var n=this.questionGroupElement.gotoPreviousQuestion(),i=n.isBeginning,o=n.currentQuestion;this.setState({currentQuestion:o},(function(){i?e.gotoPreviousGroup():window.scrollTo(0,0)}))}},{key:"gotoNextGroup",value:function(){var e=this,t=ee({},this.state);t.currentQuestionGroupIndex<t.questionGroups.length-1?(t.values=m()(t.values||{},this.questionGroupElement.getAnswers()),t.currentQuestionGroupIndex++,this.setState(t,(function(){e.liveUpdates(),window.scrollTo(0,0)}))):this.gotoResult()}},{key:"gotoPreviousGroup",value:function(){var e=this,t={};t.currentQuestionGroupIndex=this.state.currentQuestionGroupIndex-1,"result"==this.state.status&&(t.currentQuestionGroupIndex=this.state.questionGroups.length-1,t.status="active"),this.setState(t,(function(){e.liveUpdates(),window.scrollTo(0,0)}))}},{key:"gotoResult",value:function(){document.location.href=this.config.afterUrl}},{key:"liveUpdates",value:function(){var e=this,t=m()(e.state.values||{},e.questionGroupElement.getAnswers()),n=e.choicesElement.calculateScores(t).scores;e.setState({scores:n,firstAnswerGiven:Object.keys(t).length>0},(function(){var i=v.ZP.localStorage.get("osc-choices-guide.values")||{};i[e.config.choicesGuideId]=t,v.ZP.localStorage.set("osc-choices-guide.values",i);var o=v.ZP.localStorage.get("osc-choices-guide.scores")||{};o[e.config.choicesGuideId]=n,v.ZP.localStorage.set("osc-choices-guide.scores",o),e.updateChoicesTitle()}))}},{key:"updateChoicesTitle",value:function(){var e=this,t=e.config.choices.title.noPreferenceYet,n=e.choicesElement&&e.choicesElement.getPreferedChoice({});e.state.firstAnswerGiven&&(t=n?e.config.choices.title.preference.replace("{preferredChoice}",n&&n.getTitle(e.state.scores[n.config.divId])||t):e.config.choices.title.inBetween),e.setState({choicesTitle:t})}},{key:"onChoicesClick",value:function(e){this.choicesAccordeon.className.match(" osc-closed")?this.choicesAccordeon.className=this.choicesAccordeon.className.replace(" osc-closed"," osc-open"):this.choicesAccordeon.className=this.choicesAccordeon.className.replace(" osc-open"," osc-closed");var t=new window.CustomEvent("osc-choices-click",{detail:{}});document.dispatchEvent(t)}},{key:"render",value:function(){var e,t=this,n=t.state.choices;t.state.currentQuestionGroupIndex>=0&&(e=t.state.questionGroups[t.state.currentQuestionGroupIndex])&&(e.values=t.state.values||{},e&&e.choices&&(n=e.choices));var i=null,o=t.state.images;o&&o.length&&(Array.isArray(o)||(o=[o]),i=React.createElement(b.Image,{className:"osc-top-image-spacer",width:"100%",image:o[0]}));var r=null;if("edit"==t.state.status)r=React.createElement("div",{className:"osc-choices-guide-content"},React.createElement(Q,{config:t.config,onFinished:t.hideEditForm,data:ee({},t.state)}));else{if("panic"==t.state.status)r=React.createElement("div",{className:"osc-choices-guide-content"},React.createElement("div",{className:"osc-alert osc-alert-warning"},t.state.message));else if("init"==t.state.status)r=React.createElement("div",{className:"osc-choices-guide-content"},React.createElement("div",{className:"osc-intro"},"Laden..."));else{var a=React.createElement("div",{id:"osc-choices-container-"+this.divId,className:"osc-choices-container osc-accordeon osc-closed ".concat("osc-type-"+t.config.choices.type),ref:function(e){t.choicesAccordeon=e}},React.createElement("div",{onClick:function(e){return t.onChoicesClick(e)},className:"osc-accordeon-button",dangerouslySetInnerHTML:{__html:t.state.choicesTitle}}),React.createElement("div",{className:"osc-accordeon-content"},React.createElement(S,{config:ee(ee({},t.config.choices),{},{startWithAllQuestionsAnswered:t.config.startWithAllQuestionsAnswered}),choices:(0,s.Z)(n),scores:ee({},t.state.scores),firstAnswerGiven:!!t.state.firstAnswerGiven,ref:function(e){t.choicesElement=e},key:"choices"}))),c=React.createElement(O,{config:t.config,data:e,ref:function(e){t.questionGroupElement=e},key:"group".concat(t.state.currentQuestionsGroupIndex)}),l=null;t.config.user&&t.config.user.role&&"admin"==t.config.user.role&&(l=React.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(e){return t.showEditForm()}},"Bewerk keuzewijzer"));var u=null,d=null,h=null;t.state.currentQuestionGroupIndex>0||t.state.currentQuestion>0?(d=function(){t.gotoPreviousQuestion()},h="Terug"):t.config.beforeUrl&&(u=t.config.beforeUrl,h="Introductie");var f=null,_=null;"init"==t.state.status?(f=null,_=null):(f=function(){t.gotoNextQuestion()},_="Volgende");var p=null;(h||_)&&(p=React.createElement(X.default,{previousAction:d,previousUrl:u,previousLabel:h,nextAction:f,nextUrl:null,nextLabel:_})),r=React.createElement("div",{className:"osc-choices-guide-content"},l,a,c,p)}}return React.createElement("div",{id:this.divId,className:"osc-choices-guide"},React.createElement(Y.default,null),i,r)}}]),n}(g.Z),ie=n(7301);var oe=function(){return oe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oe.apply(this,arguments)};function re(e,t,n,i){return new(n||(n=ie))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function ae(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}Object.create;Object.create;var se=n(7301);function ce(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function le(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function ue(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function de(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function he(e,t){return[e[0]^t[0],e[1]^t[1]]}function fe(e){return e=he(e,[0,e[0]>>>1]),e=he(e=le(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=he(e=le(e,[3301882366,444984403]),[0,e[0]>>>1])}function _e(e,t){t=t||0;var n,i=(e=e||"").length%16,o=e.length-i,r=[0,t],a=[0,t],s=[0,0],c=[0,0],l=[2277735313,289559509],u=[1291169091,658871167];for(n=0;n<o;n+=16)s=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],c=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],s=ue(s=le(s,l),31),r=ce(r=ue(r=he(r,s=le(s,u)),27),a),r=ce(le(r,[0,5]),[0,1390208809]),c=ue(c=le(c,u),33),a=ce(a=ue(a=he(a,c=le(c,l)),31),r),a=ce(le(a,[0,5]),[0,944331445]);switch(s=[0,0],c=[0,0],i){case 15:c=he(c,de([0,e.charCodeAt(n+14)],48));case 14:c=he(c,de([0,e.charCodeAt(n+13)],40));case 13:c=he(c,de([0,e.charCodeAt(n+12)],32));case 12:c=he(c,de([0,e.charCodeAt(n+11)],24));case 11:c=he(c,de([0,e.charCodeAt(n+10)],16));case 10:c=he(c,de([0,e.charCodeAt(n+9)],8));case 9:c=le(c=he(c,[0,e.charCodeAt(n+8)]),u),a=he(a,c=le(c=ue(c,33),l));case 8:s=he(s,de([0,e.charCodeAt(n+7)],56));case 7:s=he(s,de([0,e.charCodeAt(n+6)],48));case 6:s=he(s,de([0,e.charCodeAt(n+5)],40));case 5:s=he(s,de([0,e.charCodeAt(n+4)],32));case 4:s=he(s,de([0,e.charCodeAt(n+3)],24));case 3:s=he(s,de([0,e.charCodeAt(n+2)],16));case 2:s=he(s,de([0,e.charCodeAt(n+1)],8));case 1:s=le(s=he(s,[0,e.charCodeAt(n)]),l),r=he(r,s=le(s=ue(s,31),u))}return r=ce(r=he(r,[0,e.length]),a=he(a,[0,e.length])),a=ce(a,r),r=ce(r=fe(r),a=fe(a)),a=ce(a,r),("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}var pe=window;function me(e){return parseInt(e)}function ge(e){return parseFloat(e)}function ve(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}var ye=window,be=navigator;document;function Ee(){return ve(["MSCSSMatrix"in ye,"msSetImmediate"in ye,"msIndexedDB"in ye,"msMaxTouchPoints"in be,"msPointerEnabled"in be])>=4}var we=window,Le=document;function Pe(e,t,n){(function(e){return e&&"function"==typeof e.setValueAtTime})(t)&&t.setValueAtTime(n,e.currentTime)}function ke(e){return new se((function(t,n){e.oncomplete=function(e){return t(e.renderedBuffer)};var i=3,o=function(){switch(e.startRendering(),e.state){case"running":setTimeout((function(){return n(Oe("timeout"))}),1e3);break;case"suspended":Le.hidden||i--,i>0?setTimeout(o,500):n(Oe("suspended"))}};o()}))}function Ce(e){for(var t=0,n=4500;n<5e3;++n)t+=Math.abs(e[n]);return t}function Oe(e){var t=new Error(e);return t.name=e,t}var Me=document,xe=["monospace","sans-serif","serif"],Re=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"],Ie={fontStyle:"normal",fontWeight:"normal",letterSpacing:"normal",lineBreak:"auto",lineHeight:"normal",textTransform:"none",textAlign:"left",textDecoration:"none",textShadow:"none",whiteSpace:"normal",wordBreak:"normal",wordSpacing:"normal",position:"absolute",left:"-9999px",fontSize:"48px"};function Te(e){return e.toDataURL()}var Se=navigator,De=window;var Ae=navigator;var Ze=window;var Be=window;var Ne=window;var je=document;var Ue={osCpu:function(){return navigator.oscpu},languages:function(){var e=[],t=Ae.language||Ae.userLanguage||Ae.browserLanguage||Ae.systemLanguage;if(void 0!==t&&e.push([t]),Array.isArray(Ae.languages))ve(["webkitPersistentStorage"in be,"webkitTemporaryStorage"in be,0===be.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in ye,"BatteryManager"in ye,"webkitMediaStream"in ye,"webkitSpeechGrammar"in ye])>=5&&ve([!("MediaSettingsRange"in ye),"RTCEncodedAudioFrame"in ye,""+ye.Intl=="[object Intl]",""+ye.Reflect=="[object Reflect]"])>=3||e.push(Ae.languages);else if("string"==typeof Ae.languages){var n=Ae.languages;n&&e.push(n.split(","))}return e},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return e=ge(navigator.deviceMemory),t=void 0,"number"==typeof e&&isNaN(e)?t:e;var e,t},screenResolution:function(){var e=[me(Ze.screen.width),me(Ze.screen.height)];return e.sort().reverse(),e},availableScreenResolution:function(){if(Be.screen.availWidth&&Be.screen.availHeight){var e=[me(Be.screen.availWidth),me(Be.screen.availHeight)];return e.sort().reverse(),e}},hardwareConcurrency:function(){try{var e=me(navigator.hardwareConcurrency);return isNaN(e)?1:e}catch(e){return 1}},timezoneOffset:function(){var e=(new Date).getFullYear();return Math.max(ge(new Date(e,0,1).getTimezoneOffset()),ge(new Date(e,6,1).getTimezoneOffset()))},timezone:function(){var e;if(null===(e=Ne.Intl)||void 0===e?void 0:e.DateTimeFormat)return(new Ne.Intl.DateTimeFormat).resolvedOptions().timeZone},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!(Ee()||ve(["msWriteProfilerMark"in ye,"MSStream"in ye,"msLaunchUri"in be,"msSaveBlob"in be])>=3&&!Ee()))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){return navigator.platform},plugins:function(){if(Ee())return[];if(navigator.plugins){for(var e=[],t=0;t<navigator.plugins.length;++t){var n=navigator.plugins[t];if(n){for(var i=[],o=0;o<n.length;++o){var r=n[o];i.push({type:r.type,suffixes:r.suffixes})}e.push({name:n.name,description:n.description,mimeTypes:i})}}return e}},canvas:function(){var e=function(){var e=document.createElement("canvas");return e.width=240,e.height=140,e.style.display="inline",[e,e.getContext("2d")]}(),t=e[0],n=e[1];if(!function(e,t){return!(!t||!e.toDataURL)}(t,n))return{winding:!1,data:""};n.rect(0,0,10,10),n.rect(2,2,6,6);var i=!n.isPointInPath(5,5,"evenodd");n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.font="11pt no-real-font-123";var o="Cwm fjordbank 😃 gly";return n.fillText(o,2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText(o,4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),{winding:i,data:Te(t)}},touchSupport:function(){var e,t=0;void 0!==Se.maxTouchPoints?t=me(Se.maxTouchPoints):void 0!==Se.msMaxTouchPoints&&(t=Se.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:t,touchEvent:e,touchStart:"ontouchstart"in De}},fonts:function(){var e=Me.body,t=Me.createElement("div"),n=Me.createElement("div"),i={},o={},r=function(){var e=Me.createElement("span");e.textContent="mmMwWLliI0O&1";for(var t=0,n=Object.keys(Ie);t<n.length;t++){var i=n[t];e.style[i]=Ie[i]}return e},a=function(e){return xe.some((function(t,n){return e[n].offsetWidth!==i[t]||e[n].offsetHeight!==o[t]}))},s=xe.map((function(e){var n=r();return n.style.fontFamily=e,t.appendChild(n),n}));e.appendChild(t);for(var c=0,l=xe.length;c<l;c++)i[xe[c]]=s[c].offsetWidth,o[xe[c]]=s[c].offsetHeight;var u=function(){for(var e={},t=function(t){e[t]=xe.map((function(e){var i=function(e,t){var n=r();return n.style.fontFamily="'"+e+"',"+t,n}(t,e);return n.appendChild(i),i}))},i=0,o=Re;i<o.length;i++){t(o[i])}return e}();e.appendChild(n);for(var d=[],h=0,f=Re.length;h<f;h++)a(u[Re[h]])&&d.push(Re[h]);return e.removeChild(n),e.removeChild(t),d},audio:function(){return re(this,void 0,void 0,(function(){var e,t,n,i,o,r;return ae(this,(function(a){switch(a.label){case 0:if(!(e=we.OfflineAudioContext||we.webkitOfflineAudioContext))return[2,-2];if(ve(["ApplePayError"in ye,"CSSPrimitiveValue"in ye,"Counter"in ye,0===be.vendor.indexOf("Apple"),"getStorageUpdates"in be,"WebKitMediaKeys"in ye])>=4&&!(ve(["safari"in ye,!("DeviceMotionEvent"in ye),!("ongestureend"in ye),!("standalone"in be)])>=3)&&!(ve(["DOMRectList"in ye,"RTCPeerConnectionIceEvent"in ye,"SVGGeometryElement"in ye,"ontransitioncancel"in ye])>=3))return[2,-1];t=new e(1,44100,44100),(n=t.createOscillator()).type="triangle",Pe(t,n.frequency,1e4),i=t.createDynamicsCompressor(),Pe(t,i.threshold,-50),Pe(t,i.knee,40),Pe(t,i.ratio,12),Pe(t,i.reduction,-20),Pe(t,i.attack,0),Pe(t,i.release,.25),n.connect(i),i.connect(t.destination),n.start(0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,ke(t)];case 2:return o=a.sent(),[3,5];case 3:if("timeout"===(r=a.sent()).name||"suspended"===r.name)return[2,-3];throw r;case 4:return n.disconnect(),i.disconnect(),[7];case 5:return[2,Ce(o.getChannelData(0))]}}))}))},pluginsSupport:function(){return void 0!==navigator.plugins},productSub:function(){return navigator.productSub},emptyEvalLength:function(){return eval.toString().length},errorFF:function(){try{throw"a"}catch(e){try{return e.toSource(),!0}catch(e){return!1}}},vendor:function(){return navigator.vendor},chrome:function(){return void 0!==window.chrome},cookiesEnabled:function(){try{je.cookie="cookietest=1; SameSite=Strict;";var e=-1!==je.cookie.indexOf("cookietest=");return je.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}};function qe(){return function(e,t,n){return re(this,void 0,void 0,(function(){var i,o,r,a,s,c,l,u,d;return ae(this,(function(h){switch(h.label){case 0:i=Date.now(),o={},r=0,a=Object.keys(e),h.label=1;case 1:if(!(r<a.length))return[3,7];if(s=a[r],function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return!0;return!1}(n,s))return[3,6];c=void 0,h.label=2;case 2:return h.trys.push([2,4,,5]),d={},[4,e[s](t)];case 3:return d.value=h.sent(),c=d,[3,5];case 4:return l=h.sent(),c=l&&"object"==typeof l&&"message"in l?{error:l}:{error:{message:l}},[3,5];case 5:u=Date.now(),o[s]=oe(oe({},c),{duration:u-i}),i=u,h.label=6;case 6:return r++,[3,1];case 7:return[2,o]}}))}))}(Ue,void 0,[])}function ze(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?oe({name:(n=t).name,message:n.message,stack:null===(i=n.stack)||void 0===i?void 0:i.split("\n")},n):t;var n,i}),2)}function We(e){return _e(function(e){for(var t="",n=0,i=Object.keys(e);n<i.length;n++){var o=i[n],r=e[o],a=r.error?"error":JSON.stringify(r.value);t+=(t?"|":"")+o.replace(/([:|\\])/g,"\\$1")+":"+a}return t}(e))}var Fe=function(){function e(){}return e.prototype.get=function(e){return void 0===e&&(e={}),re(this,void 0,void 0,(function(){var t,n;return ae(this,(function(i){switch(i.label){case 0:return[4,qe()];case 1:return t=i.sent(),n=function(e){var t;return{components:e,get visitorId(){return void 0===t&&(t=We(this.components)),t},set visitorId(e){t=e}}}(t),e.debug&&console.log("Copy the text below to get the debug data:\n\n```\nversion: 3.0.5\nuserAgent: "+navigator.userAgent+"\ngetOptions: "+JSON.stringify(e,void 0,2)+"\nvisitorId: "+n.visitorId+"\ncomponents: "+ze(t)+"\n```"),[2,n]}}))}))},e}();const Ke={load:function(e){var t=(void 0===e?{}:e).delayFallback,n=void 0===t?50:t;return re(this,void 0,void 0,(function(){return ae(this,(function(e){switch(e.label){case 0:return[4,(t=n,i=2*n,void 0===i&&(i=1/0),new se((function(e){pe.requestIdleCallback?pe.requestIdleCallback((function(){return e()}),{timeout:i}):setTimeout(e,Math.min(t,i))})))];case 1:return e.sent(),[2,new Fe]}var t,i}))}))},hashComponents:We,componentsToDebugString:ze};function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,f.Z)(this,n)}}var Je=function(e){(0,h.Z)(n,e);var t=Ve(n);function n(e){var i;(0,l.Z)(this,n),(i=t.call(this,e,{type:"default",submission:{type:"none",requireLoginSettings:{title:"Stemcode",description:"Om te kunnen stemmen vult u de stemcode in die u per post hebt ontvangen. Wij controleren uw stemcode op geldigheid. Als dat gelukt is kunt u stemmen.",buttonTextLogin:"Vul uw stemcode in",buttonTextLoggedIn:"Geldige stemcode",buttonTextAlreadySubmitted:"Ongeldige stemcode",changeLoginLinkText:"Vul een andere stemcode in",loggedInMessage:"Het controleren van uw stemcode is gelukt! Klik op onderstaande knop om uw keuze in te sturen.",notYetLoggedInError:"Klik hierboven om uw stem te valideren.",alreadySubmittedMessage:"Deze stemcode is al gebruikt om te stemmen. Een stemcode kan maar één keer gebruikt worden."}},choices:{title:{noPreferenceYet:"U hebt nog geen keuze gemaakt",preference:"Uw voorkeur is {preferredChoice}",inBetween:"U staat precies tussen meerdere voorkeuren in"},withPercentage:!0,minLabel:null,maxLabel:null}})).config.loginUrl=i.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),i.config.logoutUrl=i.config.logoutUrl||"/oauth/logout?returnTo="+encodeURIComponent(document.location.href);var o=v.ZP.localStorage.get("osc-choices-guide.values")||{};o=o[i.config.choicesGuideId]||{};var r=v.ZP.localStorage.get("osc-choices-guide.scores")||{};r=r[i.config.choicesGuideId]||{};var a,s=v.ZP.localStorage.get("osc-choices-guide.formvalues")||{};s=s[i.config.choicesGuideId]||{};var c=window.location.search.match(/(\?|\&)resultdata=([^\?\&]+)/);if(c){var u=window.atob(c[2]);try{u=JSON.parse(u)}catch(e){}a=u.scrollToLogin,s=u.formValues,o=u.result.answers,r=u.result.scores}return i.config.initFormValues=s,"form"==i.config.submission.type&&i.initForm(),i.state={title:"",answers:o,scores:r,scrollToLogin:a,questionGroupId:i.config.questionGroupId},i}return(0,u.Z)(n,[{key:"componentDidMount",value:function(e,t){this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=this;H({config:t.config}).then((function(n){var i=n.questionGroups&&n.questionGroups[0]&&n.questionGroups[0].id;t.setState(Ge(Ge({},n),{},{questionGroupId:i}),(function(){t.config.submission.type=n.choicesGuideConfig.submissionType||t.config.submission.type,"form"==t.config.submission.type&&e.initForm(),t.startGuide()}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}},{key:"initForm",value:function(){var e=this.config.initFormValues||{};this.onFormChange=this.onFormChange.bind(this);this.config.submission.form.fields.forEach((function(t){var n=t.name||t.title.toLowerCase();void 0!==e[n]&&(t.value=e[n])}))}},{key:"startGuide",value:function(){var e,t,n=this,i=n.choicesElement&&n.choicesElement.calculateScores(n.state.answers);e=i.scores,t=i.planePos;var o="";if(n.choicesElement){var r=n.choicesElement.getPreferedChoice({scores:e,planePos:t});o=r?n.config.choices.title.preference.replace("{preferredChoice}",r&&r.getTitle(n.state.scores[r.config.divId])||o):n.config.choices.title.inBetween,n.setState({title:o});var a=new window.CustomEvent("osc-choices-guide-result-is-ready",{detail:{preferredChoice:{name:undefined,title:o,preferredChoiceId:-1},answers:n.state.answers,scores:n.state.scores}});if(document.dispatchEvent(a),n.state.scrollToLogin){var s=document.querySelector(".osc-require-login");s&&s.scrollIntoView({behavior:"smooth"})}"auto"==n.config.submission.type&&n.submitResult()}}},{key:"submitResult",value:function(){var e,t,n,i=this,o=!(!i.state.choicesGuideConfig||!i.state.choicesGuideConfig.requiredUserRole);if(o&&!i.isUserLoggedIn()){var r=document.querySelector(".osc-require-login");r&&r.scrollIntoView({behavior:"smooth"}),t={submissionError:{message:i.config.submission.requireLoginSettings.notYetLoggedInError,type:"unknown"}}}"form"==i.config.submission.type&&(e=i.form.getValues(),i.form.validate({showErrors:!0,scrollTo:!0})||(n=!0));t||n?i.setState(t,(function(){i.form.validate({showErrors:!0,scrollTo:!0})})):Ke.load().then((function(t){t.get().then((function(t){var n=t.visitorId,r="".concat(i.config.api&&i.config.api.url,"/api/site/").concat(i.config.siteId,"/choicesguide/").concat(i.config.choicesGuideId,"/result"),a=v.ZP.api.getHeaders(i.config),s={result:{answers:i.state.answers,scores:i.state.scores},extraData:e,userFingerprint:n};fetch(r,{method:"POST",headers:a,body:JSON.stringify(s)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(e){if("form"==i.config.submission.type)return v.ZP.localStorage.remove("osc-choices-guide.values"),v.ZP.localStorage.remove("osc-choices-guide.scores"),v.ZP.localStorage.remove("osc-choices-guide.formvalues"),o?i.logout({afterUrl:i.config.afterUrl}):document.location.href=i.config.afterUrl})).catch((function(e){if(!e.then)return console.log(e);e.then((function(e){try{e=JSON.parse(e)}catch(e){}var t=Array.isArray(e)&&e[0]&&e[0].message||e[0]||e.message||e;i.setState({submissionError:{message:t.toString(),type:"U heeft uw mening al ingestuurd"==t?"alreadySubmitted":"unknown"}},(function(){return console.log(e)}))}))}))}))}))}},{key:"isUserLoggedIn",value:function(){return this.config.user&&this.config.user.role&&"anonymous"!=this.config.user.role}},{key:"gotoLoginUrl",value:function(){var e=this.config.loginUrl,t={scrollToLogin:!0,formValues:this.form.getValues(),result:{answers:this.state.answers,scores:this.state.scores}};try{t=JSON.stringify(t)}catch(e){}var n=e.match(/returnTo=([^\?\&]+)/);if(n){var i=decodeURIComponent(n[1]);i+=i.match(/\?/)?"&":"?",i+="resultdata="+window.btoa(t.replace(/=+$/,"")),i=encodeURIComponent(i),e=e.replace(/returnTo=[^\?\&]+/,"returnTo="+i)}else if(e.match(/\{returnTo\}/)){var o=window.location.href;o+=o.match(/\?/)?"&":"?",o+="resultdata="+window.btoa(t.replace(/=+$/,"")),o=encodeURIComponent(o),e=e.replace(/\{returnTo\}/,"returnTo="+o)}else e+=e.match(/\?/)?"&":"?",e+="resultdata="+window.btoa(t).replace(/=+$/,"");document.location.href=e}},{key:"logout",value:function(e){var t=e.afterUrl,n=this.config.logoutUrl||"/oauth/logout";fetch(n,{headers:{"Content-type":"application/json"},method:"GET"}).then((function(e){return document.location.href=t})).catch((function(e){return document.location.href=t}))}},{key:"onFormChange",value:function(){var e=this,t=v.ZP.localStorage.get("osc-choices-guide.formvalues")||{};t[e.config.choicesGuideId]=e.form.getValues(),v.ZP.localStorage.set("osc-choices-guide.formvalues",t),e.setState({random:Math.random()})}},{key:"render",value:function(){var e,t=this,n=(t.props&&t.props.data,t.state.choices);t.state.questionGroups&&(e=t.state.questionGroups.find((function(e){return e.id==t.state.questionGroupId})))&&(e.values=t.state.values||{},e&&e.choices&&(n=e.choices));var i=!(!t.state.choicesGuideConfig||!t.state.choicesGuideConfig.requiredUserRole),o=null;n&&(o=React.createElement(S,{config:Ge(Ge({},t.config.choices),{},{startWithAllQuestionsAnswered:t.config.startWithAllQuestionsAnswered}),scores:Ge({},t.state.scores),choices:(0,s.Z)(n),firstAnswerGiven:!0,ref:function(e){t.choicesElement=e},key:"choices"}));var r=null;t.config.moreInfoUrl&&t.config.moreInfoLabel&&(r=React.createElement("div",{className:"osc-more-info-link"},React.createElement("a",{href:t.config.moreInfoUrl},t.config.moreInfoLabel)));var a=null,c=null,l=null;if("form"==t.config.submission.type){if(a=React.createElement(E.default.Form,{config:t.config.submission.form,onChange:t.onFormChange,ref:function(e){t.form=e}}),i)if(t.isUserLoggedIn()){var u="osc-success",d=t.config.submission.requireLoginSettings.buttonTextLoggedIn,h=t.config.submission.requireLoginSettings.loggedInMessage;t.state.submissionError&&(u="osc-error","alreadySubmitted"==t.state.submissionError.type?(d=t.config.submission.requireLoginSettings.buttonTextAlreadySubmitted,h=t.config.submission.requireLoginSettings.alreadySubmittedMessage):h=t.state.submissionError.message),c=React.createElement("div",{className:"osc-require-login osc-logged-in osc-logged-in ".concat(u)},React.createElement("h2",null,t.config.submission.requireLoginSettings.title),React.createElement("div",{className:"osc-gray-block"},React.createElement("button",{onClick:function(e){return t.gotoLoginUrl()},className:"osc-button osc-button-white"},d),React.createElement("div",{className:"change-login-link-text"},React.createElement("a",{onClick:function(e){return t.gotoLoginUrl()}},t.config.submission.requireLoginSettings.changeLoginLinkText)),React.createElement("div",{className:"osc-message"},h)))}else{var f="",_="";t.state.submissionError&&(f="osc-error",_=t.state.submissionError.message),c=React.createElement("div",{className:"osc-require-login osc-not-yet-logged-in ".concat(f)},React.createElement("h2",null,t.config.submission.requireLoginSettings.title),React.createElement("div",{className:"osc-gray-block"},t.config.submission.requireLoginSettings.description,React.createElement("br",null),React.createElement("br",null),React.createElement("button",{onClick:function(e){return t.gotoLoginUrl()},className:"osc-button osc-button-white"},t.config.submission.requireLoginSettings.buttonTextLogin),React.createElement("div",{className:"osc-message"},_)))}var p=null,m=null;t.config.beforeUrl&&(p=t.config.beforeUrl,m=t.config.beforeLabel||"Vorige");var g=t.config.afterLabel||"Opslaan",v="form"==t.config.submission.type&&t.form&&!t.form.validate({})||i&&!t.isUserLoggedIn();(m||g)&&(l=React.createElement(X.default,{previousAction:null,previousUrl:p,previousLabel:m,nextAction:function(){t.submitResult()},nextUrl:null,nextLabel:g,nextIsDisabled:v}))}var y=null;return t.state.submissionError&&!i&&(y=React.createElement("div",{className:"osc-message osc-error"},t.state.submissionError.message)),React.createElement("div",{className:"osc-choices-guide"},React.createElement("div",{className:"osc-result"},React.createElement("div",{className:"osc-result-content"},React.createElement("div",{className:"osc-choices-container ".concat("osc-type-"+t.config.choices.type)},React.createElement("h3",{dangerouslySetInnerHTML:{__html:t.state.title}}),o),r,a,c,y)),l)}}]),n}(g.Z);ne.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(ne,{attributes:n,config:t}),e)},Je.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(Je,{attributes:n,config:t}),e)}},7961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(484),o=n(6610),r=n(5991),a=n(3349),s=n(379),c=n(6070),l=n(7608),u=n(1965),d=n.n(u),h=n(3804),f=n.n(h);n(3462);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,c.Z)(this,n)}}var p=function(e){(0,s.Z)(n,e);var t=_(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.Z)(this,n),i=t.call(this,e);var c=(0,a.Z)(i);if(e.attributes&&Object.keys(e.attributes).forEach((function(t){var n=e.attributes[t];c[n.name]=n.value})),"string"==typeof c.config)try{c.config=JSON.parse(c.config)}catch(e){}var l=e.config||{};return l=m(l),c.config=d().recursive({siteId:null,api:{url:null,headers:null,isUserLoggedIn:!1},user:{}},r,s,l),c.divId=c.divId||c.config&&c.config.divId||e.id||"openstad-component-".concat(parseInt(1e8*Math.random())),c.config.divId=null,window[c.divId]=c,i}return(0,r.Z)(n,[{key:"componentDidMount",value:function(e,t){}}]),n}(f().Component);function m(e){return"object"!=(0,i.Z)(e)||Object.keys(e).forEach((function(t){void 0!==e[t]&&null!=e[t]||delete e[t],"object"==(0,i.Z)(e[t])&&(e[t]=m(e[t]))})),e}},1337:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(484),o=n(6610),r=n(5991),a=n(3349),s=n(379),c=n(6070),l=n(7608);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,c.Z)(this,n)}}var d=function(e){(0,s.Z)(n,e);var t=u(n);function n(e){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.Z)(this,n),r=t.call(this,e,{choices:[],name:"",placeholder:"",disabled:!1,required:!1},s);var c=(0,a.Z)(r);return c.state={value:null!=(0,i.Z)(e.value)?e.value:"",error:null},r.onChange=e.onChange,r}return(0,r.Z)(n,[{key:"validate",value:function(e){var t=e.showErrors,n=!this.config.required||!!this.state.value,i="";return!n&&t&&(i=!0),this.setState({isValid:n,error:i}),n}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},t.setState(e,(function(){t.validate({})})),"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}}]),n}(n(7961).Z)},1588:(e,t,n)=>{"use strict";n.d(t,{default:()=>z});n(7147);var i=n(3804),o=n.n(i),r=(n(7196),n(4393),n(6156)),a=n(6610),s=n(5991),c=n(3349),l=n(379),u=n(6070),d=n(7608),h=n(7961),f=n(1965),_=n.n(f),p=n(1337);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var g=function(e){(0,l.Z)(n,e);var t=m(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this;return React.createElement("input",{type:"hidden",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}})}}]),n}(p.Z);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var y=function(e){(0,l.Z)(n,e);var t=v(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).state={value:i.props.value},i.onKeyUpx=i.onKeyUpx.bind((0,c.Z)(i)),i}return(0,s.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this.props.value;n=this.filterHTML(n),this.input.innerHTML=n}},{key:"filterHTML",value:function(e){return e=(e=(e=e.replace(/<(\/?\s*(?:a [^>]+|a|b|i|strong|em|p|div|br|ul|li)\s*\/?)>/g,"[[[$1]]]")).replace(/<[^>]+>/g,"")).replace(/\[\[\[([^\]]+)\]\]\]/g,"<$1>")}},{key:"executeAction",value:function(e,t,n){e.preventDefault(),e.stopPropagation(),document.execCommand(t,!1,n),this.onKeyUp()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e),this.props.onChange&&this.props.onChange({value:this.state.value})}},{key:"onKeyUpx",value:function(){var e=this.input.innerHTML;e=this.filterHTML(e),this.setState({value:e}),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"osc-html-editor"},React.createElement("div",{className:"osc-html-editor-buttons"},React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-bold",onMouseDown:function(t){return e.executeAction(t,"bold")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-italic",onMouseDown:function(t){return e.executeAction(t,"italic")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-insertunorderedlist",onMouseDown:function(t){return e.executeAction(t,"insertunorderedlist")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-createlink",onMouseDown:function(t){return e.executeAction(t,"createlink",prompt("Lank naar","http://"))}}," ")),React.createElement("div",{className:"osc-html-editor-content",contentEditable:!0,onFocus:function(t){return e.onFocus(t)},onBlur:function(t){return e.onBlur(t)},onKeyUp:function(t){return e.onKeyUpx()},ref:function(t){return e.input=t}}))}}]),n}(h.Z);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var E=function(e){(0,l.Z)(n,e);var t=b(n);function n(e){var i;(0,a.Z)(this,n),i=t.call(this,e,{name:"tekst",inputType:"input",minLength:5,maxLength:1024,placeholder:""});var o=(0,c.Z)(i);return o.id=e.id||"osc-formfields-plaintext-with-counter-"+parseInt(1e6*Math.random()),o.state={focused:!1,value:e.value||"",valueLength:e.value&&e.value.length||0},o.key=e.useKey||(o.id||"osc-input-with-counter-")+parseInt(1e7*Math.random),i.onChange=e.onChange,o.handleOnChange=o.handleOnChange.bind((0,c.Z)(i)),o.onInputFocus=o.onInputFocus.bind((0,c.Z)(i)),o.onInputBlur=o.onInputBlur.bind((0,c.Z)(i)),o.onInputKeyUp=o.onInputKeyUp.bind((0,c.Z)(i)),i}return(0,s.Z)(n,[{key:"isValid",value:function(){var e={isValid:!0,warning:null};return this.state.value.length<this.config.minLength&&(e.warning="De tekst is te kort",e.isValid=!1),this.state.value.length>this.config.maxLength&&(e.warning="De tekst is te lang",e.isValid=!1),this.setState(e),e.isValid}},{key:"validate",value:function(){return this.setState({showWarning:!0}),this.isValid()}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},this.setState(e,(function(){"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}))}},{key:"onInputFocus",value:function(){var e={focused:!0,showWarning:!1};this.setState(e)}},{key:"onInputBlur",value:function(){var e={focused:!1};this.setState(e)}},{key:"onInputKeyUp",value:function(e){var t={};t.value=e||this.input.value,t.isValid=t.value.length>=this.config.minLength&&t.value.length<=this.config.maxLength,this.setState(t)}},{key:"render",value:function(){var e=this,t=this,n=null,i=null;if(t.state.focused)if(t.state.value.length<t.config.minLength)n=React.createElement("div",{className:"osc-form-counter osc-form-error"},"Nog minimaal ",React.createElement("span",{className:""},t.config.minLength-t.state.value.length)," tekens");else{var o=t.state.value.length>t.config.maxLength?"osc-form-error":"";n=React.createElement("div",{className:"osc-form-counter "+o},"Je hebt nog ",React.createElement("span",{className:""},t.config.maxLength-t.state.value.length)," tekens over.")}t.state.showWarning&&t.state.warning&&(i=React.createElement("div",{className:"osc-form-warning",ref:function(t){return e["form-warning"]=t}},t.state.warning));var r=null;switch(t.config.inputType){case"htmlarea":r=React.createElement(y,{value:this.state.value,onChange:t.handleOnChange,onFocus:t.onInputFocus,onBlur:t.onInputBlur,onKeyUp:t.onInputKeyUp});break;case"textarea":r=React.createElement("textarea",{key:t.key,ref:function(e){return t.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(e){return t.handleOnChange({value:t.input.value})},onKeyUp:function(e){return t.onInputKeyUp()},onFocus:function(e){return t.onInputFocus(e)},onBlur:function(e){return t.onInputBlur(e)}});break;default:r=React.createElement("input",{key:t.key,ref:function(e){return t.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(e){return t.handleOnChange({value:t.input.value})},onKeyUp:function(e){return t.onInputKeyUp()},onFocus:function(e){return t.onInputFocus(e)},onBlur:function(e){return t.onInputBlur(e)}})}return React.createElement("div",{id:t.id,ref:function(e){return t.instance=e},className:"osc-input-with-counter"},React.createElement("div",{className:"osc-form-feedback"},r,n,i))}}]),n}(h.Z);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var L=function(e){(0,l.Z)(n,e);var t=w(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-radios"},e.config.choices.map((function(t){return t.dangerousDescription?React.createElement("div",{className:"osc-radio-container",key:t.value},React.createElement("div",{className:"osc-radio-input".concat(e.state.value==t.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:e.divId,value:t.value,onChange:function(n){return e.handleOnChange({value:t.value})}})),React.createElement("div",{className:"osc-radio-text",dangerouslySetInnerHTML:{__html:t.dangerousDescription}})):React.createElement("div",{className:"osc-radio-container",key:t.value},React.createElement("div",{className:"osc-radio-input".concat(e.state.value==t.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:e.divId,value:t.value,onChange:function(n){return e.handleOnChange({value:t.value})}})),React.createElement("div",{className:"osc-radio-text"},t.dangerousDescription?null:t.description||t.title||t.value))})),t)}}]),n}(p.Z);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var k=function(e){(0,l.Z)(n,e);var t=P(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"validate",value:function(e){var t=e.showErrors,n=!0,i="";return this.state.value?this.state.value.match(/^\s*\d{4}\s*[a-zA-Z][a-zA-Z]\s*$/)||(n=!1,t&&(i="Dit is geen postcode")):this.config.required&&(n=!1,t&&(i="Je hebt nog niets ingevuld")),this.setState({isValid:n,error:i}),n}},{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},e.state.error)),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}}),t)}}]),n}(p.Z);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var O=function(e){(0,l.Z)(n,e);var t=C(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this.state.value||this.config.choices[0]&&this.config.choices[0].value;this.handleOnChange({value:e})}},{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-select"},React.createElement("select",{value:this.state.value||"",disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}},e.config.choices.map((function(e,t){var n=e.description||e.title||e.value;return React.createElement("option",{value:e.value||"",key:"".concat(n,"-").concat(e.value,"-").concat(t)},n)}))),t)}}]),n}(p.Z);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var x=function(e){(0,l.Z)(n,e);var t=M(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}}),t)}}]),n}(p.Z);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var I=function(e){(0,l.Z)(n,e);var t=R(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textarea"},React.createElement("textarea",{value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}},this.state.value),t)}}]),n}(p.Z);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var A=o().lazy((function(){return Promise.all([n.e(439),n.e(779)]).then(n.bind(n,6779))})),Z=function(e){(0,l.Z)(n,e);var t=D(n);function n(e){var i;(0,a.Z)(this,n),i=t.call(this,e,{inputType:null,validateAction:null,changeAction:null,required:!1,title:null,description:null,choices:[]});var o=(0,c.Z)(i),r=i.config.config;return delete i.config.config,i.config=_().recursive(i.config,r),o.config.name=o.config.name||o.config.title.toLowerCase(),o.state={value:e.initValue||void 0},o.handleOnChange=o.handleOnChange.bind(o),o.onChange=e.onChange,i}return(0,s.Z)(n,[{key:"validate",value:function(e){var t=e.showErrors;return!this.input||this.input.validate({showErrors:t})}},{key:"handleOnChange",value:function(e){"function"==typeof this.onChange&&this.onChange(e)}},{key:"render",value:function(){var e=this,t=null;e.config.title&&(t=o().createElement("h3",{className:"osc-form-title"},e.config.title));var n=null;e.config.description&&(n=o().createElement("div",{className:"osc-form-description",dangerouslySetInnerHTML:{__html:e.config.description}}));var r=null;switch(e.config.inputType){case"hidden":r=o().createElement(g,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"html-with-counter":case"htmlarea-with-counter":r=o().createElement(E,{config:S(S({},e.config),{},{inputType:"htmlarea"}),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"image-upload":r=o().createElement(i.Suspense,{fallback:o().createElement("div",null,"Loading...")},o().createElement(A,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}}));break;case"input-with-counter":case"text-with-counter":r=o().createElement(E,{config:S({inputType:"input"},e.config),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"postcode":r=o().createElement(k,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"radios":r=o().createElement(L,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"select":case"multiple-choice":r=o().createElement(O,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"text":r=o().createElement(x,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"textarea":r=o().createElement(I,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"textarea-with-counter":r=o().createElement(E,{config:S(S({},e.config),{},{inputType:"textarea"}),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;default:console.log("Form field "+e.config.inputType+"not yet implemented")}return o().createElement("div",{id:e.id,ref:function(t){return e.instance=t},className:"osc-form-field"},t,n,r)}}]),n}(h.Z);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var j=function(e){(0,l.Z)(n,e);var t=N(n);function n(e){var i;(0,a.Z)(this,n),i=t.call(this,e,{title:null,intro:null,fields:[]});var o=(0,c.Z)(i),r=e.values;return!r&&o.config.fields&&o.config.fields.length&&(r={},o.config.fields.map((function(e,t){var n=e.name||e.title.toLowerCase();r[n]=e.value}))),o.state={values:r||{}},o.handleOnChange=o.handleOnChange.bind((0,c.Z)(i)),o.fields=[],i}return(0,s.Z)(n,[{key:"getValues",value:function(){return this.state.values}},{key:"validate",value:function(e){var t=e.showErrors,n=e.scrollTo,i=!0,o=null;return this.fields.forEach((function(e){e.validate({showErrors:t})||(i=!1,o||(o=e))})),n&&o&&o.instance&&o.instance.scrollIntoView&&o.instance.scrollIntoView({behavior:"smooth"}),i}},{key:"handleOnChange",value:function(e){var t=this,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state.values);n[e.name]=e.value,this.setState({values:n},(function(){"function"==typeof t.props.onChange&&t.props.onChange(e)}))}},{key:"render",value:function(){var e=this,t=null;e.config.title&&(t=React.createElement("h2",{className:"osc-form-title"},e.config.title));var n=null;e.config.intro&&(n=React.createElement("div",{className:"osc-form-intro",dangerouslySetInnerHTML:{__html:e.config.intro}}));var i=null;return e.config.fields&&e.config.fields.length&&(i=React.createElement("div",{className:"osc-form-fields"},e.config.fields.map((function(t,n){return React.createElement(Z,(0,r.Z)({config:t,initValue:t.value,onChange:e.handleOnChange,ref:function(t){return e.input=t},key:"osc-form-field-".concat(n)},"ref",(function(t){e.fields[n]=t})))})))),React.createElement("div",{id:e.divId,className:"osc-form",ref:function(t){return e.instance=t}},t,n,i)}}]),n}(h.Z);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var q=function(e){(0,l.Z)(n,e);var t=U(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).state={value:i.props.value,touched:i.props.touched||!1},i.handleChange=i.handleChange.bind((0,c.Z)(i)),i}return(0,s.Z)(n,[{key:"handleChange",value:function(e){var t=e.target.value;"function"==typeof this.props.onChange&&this.props.onChange(t),this.setState({value:t,touched:!0})}},{key:"doTouch",value:function(){"function"==typeof this.props.onChange&&this.props.onChange(50),this.setState({touched:!0})}},{key:"calcProgress",value:function(e,t,n){return 2*(n-e)/(t-e)-1}},{key:"render",value:function(){var e=this,t=e.state,n=t.value,i=t.touched,o=e.props,r=o.min,a=o.max,s=o.step;return React.createElement("div",{className:"".concat(e.props.className," osc-slider")},React.createElement("div",{className:"osc-slider-track-container"},React.createElement("div",{className:"osc-slider-track"}),React.createElement("div",{className:"osc-slider-track-progress-container"},React.createElement("div",{className:"osc-slider-track-progress",style:{transform:"scaleX("+e.calcProgress(r,a,n)+")"}})),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-left"}),React.createElement("div",{className:"osc-slider-track-dot-start osc-slider-track-dot-center"}),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-right"})),React.createElement("input",{type:"range",min:r,max:a,step:s,value:n,onClick:function(){i||e.doTouch()},onChange:e.handleChange,className:i?"osc-slider-input-range":"osc-slider-input-range osc-slider-untouched",ref:function(t){return e.input=t}}))}}]),n}(h.Z);const z={Form:j,FormField:Z,Hidden:g,InputWithCounter:E,Postcode:k,Radios:L,Select:O,Text:x,Textarea:I,Slider:q}},3301:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeaDetails});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5991),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7961),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2150),_poll_index_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9738),_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1662),_vote_buttons_jsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1708),_image_index_jsx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4315);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeaDetails=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__.Z)(IdeaDetails,_OpenStadComponent);var _super=_createSuper(IdeaDetails);function IdeaDetails(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_10__.Z)(this,IdeaDetails),(t=_super.call(this,e,{siteId:null,ideaId:null,idea:{showVoteButtons:!0,showLabels:!1,shareChannelsSelection:["facebook","twitter","mail","whatsapp"],metaDataTemplate:null},image:{allowMultipleImages:!1},argument:{isActive:!0,formIntro:"Mijn reactie op deze inzending is ...",ignoreReactionsForIdeaIds:"",closeReactionsForIdeaIds:""},poll:{canAddPolls:!1},vote:{},labels:{},types:null,typeField:"typeId",typeLabel:"Thema"})).state={idea:t.props.idea,ideaId:e.idea&&e.idea.id||t.config.ideaId,showPollForm:!1},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_11__.Z)(IdeaDetails,[{key:"componentDidMount",value:function(){var e=this;e.reactionAddedListener=function(t){e.onReactionStored(t.detail,!0)},document.addEventListener("osc-new-reaction-stored",e.reactionAddedListener),e.reactionEditedListener=function(t){e.onReactionStored(t.detail)},document.addEventListener("osc-reaction-edited",e.reactionEditedListener),e.reactionDeletedListener=function(t){e.onReactionDeleted(t.detail)},document.addEventListener("osc-reaction-deleted",e.reactionDeletedListener),e.pollCreatedListener=function(t){e.onPollCreated(t.detail)},document.addEventListener("osc-new-poll-stored",e.pollCreatedListener),e.pollDeletedListener=function(t){e.onPollDeleted(t.detail)},document.addEventListener("osc-poll-deleted",e.pollDeletedListener),e.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.reactionAddedListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener),document.removeEventListener("osc-new-poll-stored",this.pollCreatedListener),document.removeEventListener("osc-poll-deleted",this.pollDeletedListener)}},{key:"componentDidUpdate",value:function(e,t){var n=this,i=e.idea&&e.idea.id,o=n.props.idea&&n.props.idea.id;o&&i!==o&&n.setState({ideaId:o},(function(){n.fetchData()}))}},{key:"dispatchEditIdeaButtonClick",value:function(e){if(e.stopPropagation(),this.config.editIdeaLink)document.location.href=this.config.editIdeaLink;else{var t=new window.CustomEvent("osc-edit-idea-button-click",{detail:this.state.idea});document.dispatchEvent(t)}}},{key:"showPollForm",value:function(){this.setState({showPollForm:!0})}},{key:"hidePollForm",value:function(){this.setState({showPollForm:!1})}},{key:"dispatchAddPollClick",value:function(e){e.stopPropagation(),this.showPollForm()}},{key:"scrollToReactions",value:function(){var e=document.querySelector("#reactions");e&&e.scrollIntoView()}},{key:"onReactionStored",value:function(e,t){t&&this.state.idea.argCount++,this.setState({idea:this.state.idea})}},{key:"onReactionDeleted",value:function(e){this.state.idea.argCount--,this.setState({idea:this.state.idea})}},{key:"onPollCreated",value:function(){this.hidePollForm(),this.fetchData()}},{key:"onPollDeleted",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=e.state.ideaId||this.state.idea&&this.state.idea.id;if(t){var n="".concat(e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(t,"?includeVoteCount=1&includeArguments=1&includeArgsCount=1&includeUser=1&includeUserVote=1");e.config.poll.canAddPolls&&(n+="&includePoll=1");var i=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.api.getHeaders(e.config);fetch(n,{headers:i}).then((function(e){if(!e.ok)throw Error("Error fechting detail");return e.json()})).then((function(t){var n=t;e.setState({idea:n},(function(){_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.localStorage.get("osc-login-pending-scroll-to-reactions")&&(document.getElementById("reactions")&&document.getElementById("reactions").scrollIntoView(),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.localStorage.set("osc-login-pending-scroll-to-reactions",!1))}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}}},{key:"deleteIdea",value:function(){var e=this,t=this;if(t.config.user&&t.config.user.role&&"admin"==t.config.user.role&&(this.state.idea||this.state.idea.id)){var n="".concat(t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(this.state.idea.id),i=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.api.getHeaders(t.config),o=this.state.idea.id;fetch(n,{method:"DELETE",headers:i}).then((function(e){if(!e.ok)throw Error("Error deleting idea");return e.json()})).then((function(t){if(e.config.afterDeleteIdeaLink)document.location.href=e.config.afterDeleteIdeaLink;else{var n=new window.CustomEvent("osc-idea-deleted",{detail:{ideaId:o}});document.dispatchEvent(n)}})).catch((function(e){console.log("Niet goed"),console.log(e)}))}}},{key:"render",value:function render(){var self=this,idea=self.state.idea;if(!idea)return null;var labelHTML=null;if(self.config.idea.showLabels){var typeId=eval("idea.".concat(self.config.typeField)),typeDef=self.config.types&&self.config.types.find((function(e){return e.id==typeId||e.value==typeId}));if(typeDef){var labelText=typeDef.label,backgroundColor=typeDef.backgroundColor,textColor=typeDef.textColor;labelHTML=React.createElement("div",{className:"osc-idea-label",style:{color:textColor,backgroundColor}},labelText)}}var pollHTML=null,addPollButtonHTML=null;self.config.poll.canAddPolls&&(idea.poll||self.state.showPollForm?pollHTML=React.createElement("div",null,React.createElement("div",{id:"poll",className:"osc-poll-header"},React.createElement("h3",null,self.config.poll.title||"Poll")),React.createElement(_poll_index_jsx__WEBPACK_IMPORTED_MODULE_5__.default,{config:_objectSpread(_objectSpread(_objectSpread({},self.config),self.config.poll),{},{ideaId:self.state.ideaId}),poll:idea.poll})):idea.can&&idea.can.edit&&(addPollButtonHTML=React.createElement("div",{className:"osc-editbuttons-container"},React.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchAddPollClick(e)}},"Poll toevoegen"))));var voteButtonsHTML=null;self.config.idea.showVoteButtons&&(void 0===self.config.vote.voteValues||self.config.vote.voteValues.length>0)&&(voteButtonsHTML=React.createElement("div",{className:"osc-vote-buttons-container"},React.createElement("h3",null,"Likes"),React.createElement(_vote_buttons_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{config:this.config,idea:this.state.idea,name:"likebutton"})));var editButtonsHTML=null;idea.can&&idea.can.edit&&(editButtonsHTML=React.createElement("div",{className:"osc-editbuttons-container"},React.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchEditIdeaButtonClick(e)}},"Bewerk idee"),React.createElement("button",{className:"osc-idea-details-editbutton osc-delete",onClick:function(e){confirm("Weet u het zeker")&&self.deleteIdea(e)}},"Verwijder idee")));var modBreakHTML=null;idea&&idea.modBreak&&(modBreakHTML=React.createElement("div",{className:"osc-modbreak"},idea.modBreakDateHumanized,React.createElement("br",null),React.createElement("br",null),idea.modBreak));var reactionsCountHTML=null;self.config.argument.isActive&&(reactionsCountHTML=React.createElement("div",null,React.createElement("h3",null,"Reacties"),React.createElement("a",{onClick:self.scrollToReactions,className:"osc-no-of-reactions"},idea.argCount||0," reacties")));var reactionsHTML=null;if(self.config.argument.isActive){var config=_objectSpread({},self.config);config.argument.isActive=this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)"))),config.argument.isClosed=this.config.argument.isClosed||this.config.argument.closeReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")));var loginUrl=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.auth.getLoginUrl(self.config);reactionsHTML=React.createElement("div",null,React.createElement("div",{id:"reactions",className:"osc-reactions-header"},React.createElement("h3",null,self.config.argument.title||"Reacties")),React.createElement(_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_6__.default,{config:_objectSpread(_objectSpread({},self.config.argument),{},{title:void 0,api:self.config.api,user:self.config.user,siteId:self.config.siteId,ideaId:idea.id,loginUrl})}))}var shareButtonsHTML=null;if(self.config.idea.shareChannelsSelection.length){var facebookButtonHTML=self.config.idea.shareChannelsSelection.includes("facebook")?React.createElement("li",null,React.createElement("a",{className:"osc-share-facebook",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.location.href)},"Facebook")):null,twitterButtonHTML=self.config.idea.shareChannelsSelection.includes("twitter")?React.createElement("li",null,React.createElement("a",{className:"osc-share-twitter",target:"_blank",href:"https://twitter.com/intent/tweet?text="+encodeURIComponent(document.location.href)},"Twitter")):null,mailButtonHTML=self.config.idea.shareChannelsSelection.includes("mail")?React.createElement("li",null,React.createElement("a",{className:"osc-share-email",target:"_blank",href:"mailto:?subject="+encodeURIComponent(eval("idea.".concat(self.config.titleField)))+"&body="+encodeURIComponent(document.location.href)},"Email")):null,whatsappButtonHTML=self.config.idea.shareChannelsSelection.includes("whatsapp")?React.createElement("li",null,React.createElement("a",{className:"osc-share-whatsapp",target:"_blank",href:"https://wa.me/?text="+encodeURIComponent(document.location.href)},"WhatsApp")):null;shareButtonsHTML=React.createElement("div",{className:"osc-details-sharebuttons"},React.createElement("ul",null,facebookButtonHTML,twitterButtonHTML,mailButtonHTML,whatsappButtonHTML))}var authorHTML=idea.user.displayName;this.config.linkToUserPageUrl&&(authorHTML=React.createElement("a",{href:this.config.linkToUserPageUrl+"/"+idea.user.id,className:"osc-author-link"},authorHTML));var metaDataHTML=self.config.idea.metaDataTemplate;return metaDataHTML&&(metaDataHTML=metaDataHTML.replace(/\{createDate\}/,idea.createDateHumanized),metaDataHTML=metaDataHTML.replace(/\{theme\}/,idea.extraData.theme),metaDataHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.reactTemplate({html:metaDataHTML,username:authorHTML})),React.createElement("div",{id:self.id,className:self.props.className||"osc-info-block-idea-details",ref:function(e){return self.instance=e}},React.createElement("div",{className:"osc-spacer"}),React.createElement("div",{className:"osc-idea-details-container"},React.createElement("div",{className:"osc-idea-details"},React.createElement("h2",null,eval("idea.".concat(self.config.titleField))),React.createElement("div",{className:"osc-details-image-and-stats"},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_8__.IdeaImage,{config:self.config,idea})),labelHTML,shareButtonsHTML,React.createElement("div",{className:"osc-details-stats"},voteButtonsHTML,reactionsCountHTML,editButtonsHTML)),React.createElement("p",{className:""},metaDataHTML),modBreakHTML,React.createElement("p",{className:"osc-details-summary"},idea.summary),React.createElement("p",{className:"osc-details-description",dangerouslySetInnerHTML:{__html:idea.description}}),addPollButtonHTML),pollHTML,reactionsHTML,React.createElement("div",{className:"osc-bottom-spacer"})))}}]),IdeaDetails}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__.Z)},1708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(6610),o=n(5991),r=n(379),a=n(6070),s=n(7608),c=n(7961),l=n(2150),u=n(1224);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var h=function(e){(0,r.Z)(n,e);var t=d(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e,{vote:{isActive:!1,requiredUserRole:"member",voteType:"likes",voteValues:[{label:"like",value:"yes"}]}})).state={value:o.props.value,busy:!1},o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=l.ZP.localStorage.get("osc-ideas-on-map-vote-pending");n&&(this.doVote(null,n),l.ZP.localStorage.remove("osc-ideas-on-map-vote-pending"))}},{key:"doVote",value:function(e,t){var n=this;if(e&&e.stopPropagation(),!this.state.busy&&(this.setState({busy:t}),this.config.vote.isActive)){var i=this,o="".concat(i.config.api.url,"/api/site/").concat(i.config.siteId,"/vote"),r=l.ZP.api.getHeaders(i.config);if(!i.config.user||!i.config.user.role){l.ZP.localStorage.set("osc-ideas-on-map-vote-pending",t);var a=l.ZP.auth.getLoginUrl(i.config);return"anonymous"==i.config.vote.requiredUserRole&&(a+="&useOauth=anonymous"),document.location.href=a}var s={};i.props.idea.userVote&&(s[i.props.idea.userVote.opinion]=-1),fetch(o,{method:"post",headers:r,body:JSON.stringify({ideaId:i.props.idea.id,opinion:t})}).then((function(e){if(!e.ok)throw Error("Stemmen is niet gelukt");return e.json()})).then((function(e){var t;e.length&&(t=e[0]),t&&(s[t.opinion]=1),Object.keys(s).map((function(e){i.props.idea[e]+=s[e]})),i.props.idea.userVote=t||null,n.setState({busy:!1});var o=new window.CustomEvent("osc-idea-liked",{detail:{ideaId:i.props.idea.id,change:s}});document.dispatchEvent(o)})).catch((function(e){alert(e.message)}))}}},{key:"render",value:function(){var e=this,t=this,n="osc-numberplate-button";return this.config.vote.isActive||(n+=" osc-inactive"),this.config.vote.voteValues.map((function(i){var o=void 0!==e.props.idea[i.value]?e.props.idea[i.value]:0,r="osc-vote-button-"+i.value+" "+n;return e.state.busy==i.value&&(r+=" osc-busy"),i.value==(e.props.idea&&e.props.idea.userVote&&e.props.idea.userVote.opinion)&&(r+=" osc-user-has-voted"),React.createElement(u.Z,{config:{label:i.label},number:o,className:r,onClick:function(e){return t.doVote(e,i.value)},key:"like-button-".concat(i.value)})}))}}]),n}(c.Z)},6605:(e,t,n)=>{"use strict";n.d(t,{default:()=>s.Z});n(7147);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=(n(8409),n(3301));s.Z.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(s.Z,{attributes:n,config:t}),e)}},7244:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i=n(6156),o=n(6610),r=n(5991),a=n(379),s=n(6070),c=n(7608),l=n(7961),u=n(6623),d=n(3349),h=(n(1965),n(3804)),f=n.n(h);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var g=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,e,{searchIn:["ideas","addresses"]})).config.doSearchFunction=i.config.doSearchFunction||i.doSearchx.bind((0,d.Z)(i)),i.state={searchValue:"",searchResult:{locations:[],ideas:[]},showSuggestions:!1},i.updateSearchResult=i.updateSearchResult.bind((0,d.Z)(i)),i}return(0,r.Z)(n,[{key:"componentDidMount",value:function(e,t){}},{key:"handleChange",value:function(e){this.updateSearchValue(e),e.length>=3&&this.config.doSearchFunction(e,this.updateSearchResult)}},{key:"handleButtonClick",value:function(e){var t=this;t.state.searchValue&&t.setState({searchValue:""},(function(){t.inputfield.focus()}))}},{key:"updateSearchValue",value:function(e){this.setState({searchValue:e,showSuggestions:e.length>=3})}},{key:"showSuggestions",value:function(){this.setState({showSuggestions:this.state.searchValue.length>=3})}},{key:"hideSuggestions",value:function(){var e=this;setTimeout((function(){e.setState({showSuggestions:!1})}),500)}},{key:"updateSearchResult",value:function(e,t){this.setState(p(p({},this.state),{},{searchResult:t,showSuggestions:e.length>=3}))}},{key:"doSearchx",value:function(e){console.log("search function not defined")}},{key:"onSuggestionClick",value:function(e,t,n){this.updateSearchValue(e),n&&n(t)}},{key:"render",value:function(){var e=this,t=null;if(e.state.showSuggestions){var n=null;this.config.searchIn.includes("ideas")&&this.config.searchIn.includes("addresses")&&(n=f().createElement("div",{className:"osc-search-suggestions-hr"}));var i=null;this.config.searchIn.includes("addresses")&&(i=f().createElement("div",null,"Adressen:",e.state.searchResult.locations.map((function(t,n){var i=t.text.replace(new RegExp(e.state.searchValue,"ig"),(function(e){return"<strong>"+e+"</strong>"}));return f().createElement("div",{className:"osc-search-suggestion osc-search-suggestion-idea",onClick:function(n){return e.onSuggestionClick(t.text,n,t.onClick)},key:"search-result-"+n,dangerouslySetInnerHTML:{__html:i}})}))));var o=null;this.config.searchIn.includes("ideas")&&(o=f().createElement("div",null,this.config.ideaName,":",e.state.searchResult.ideas.map((function(t,n){var i=t.text.replace(new RegExp(e.state.searchValue,"ig"),(function(e){return"<strong>"+e+"</strong>"}));return f().createElement("div",{className:"osc-search-suggestion osc-search-suggestion-idea",onClick:function(n){return e.onSuggestionClick(t.text,n,t.onClick)},key:"search-result-"+n,dangerouslySetInnerHTML:{__html:i}})})))),t=f().createElement("div",{className:"osc-search-suggestions",ref:function(t){return e.suggestions=t}},i,n,o)}return f().createElement("div",{id:e.id,className:e.props.className||"osc-search",ref:function(t){return e.instance=t}},t,f().createElement("input",{type:"text",value:this.state.searchValue,placeholder:e.config.placeholder,onChange:function(){return e.handleChange(e.inputfield.value)},onBlur:function(){return e.hideSuggestions()},onFocus:function(){return e.showSuggestions()},className:"osc-default-input osc-search-input",ref:function(t){return e.inputfield=t}}),f().createElement("button",{className:"osc-search-button".concat(this.state.searchValue?" osc-active":""),onClick:function(t){return e.handleButtonClick(t)},ref:function(t){return e.resetButton=t}}))}}]),n}(l.Z);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var E=function(e){(0,a.Z)(n,e);var t=b(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){var e=this,t=null;e.config.search&&(t=React.createElement("div",{className:"osc-search-container"},React.createElement("div",{className:"osc-search-button",onClick:function(){return e.toggleMobileActiveSelector("search")}}),React.createElement(g,{config:y({},this.config),className:"osc-search".concat("search"==e.state.mobileActiveSelector?" osc-is-active":"")})));var n;n=React.createElement("button",{value:"reset",onClick:function(){return e.resetAll()},className:"osc-button osc-reset-button"},"Alles tonen");var i=null;if(e.config.filter&&e.config.filter.length){var o=e.filters&&e.filters.find((function(e){return e.state.currentValue}));e.filters=[],i=React.createElement("div",{className:"osc-ideas-filters-and-button-container"},React.createElement("div",{className:"osc-ideas-filter-button".concat(o?" osc-active":""),onClick:function(){return e.toggleMobileActiveSelector("filters")}}),React.createElement("div",{className:"osc-ideas-filters-container".concat("filters"==e.state.mobileActiveSelector?" osc-is-active":"")},e.config.filter.map((function(t,n){return React.createElement(u.IdeasFilter,{config:t,className:"osc-align-right-container",key:"osc-ideas-filter-".concat(n),ref:function(t){return e.filters[n]=t}})}))),n)}var r;return r=React.createElement("div",{className:"osc-ideas-filters-and-reset-button-container"},i),React.createElement("div",{className:"osc-ideas-filterbar ".concat(e.props.className||"")},t,r)}}]),n}(u.IdeasFilterbar)},7035:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeasForm});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7329),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7961),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2150),_forms_index_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1588);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeasForm=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__.Z)(IdeasForm,_OpenStadComponent);var _super=_createSuper(IdeasForm);function IdeasForm(props){var _this;(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__.Z)(this,IdeasForm),_this=_super.call(this,props,{user:{},ideaId:null,idea:{titleMinLength:10,titleMaxLength:20,summaryMinLength:20,summaryMaxLength:140,descriptionMinLength:140,descriptionMaxLength:5e3,fields:[]}});var self=(0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__.Z)(_this),fields=self.config.idea.fields=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__.Z)(self.config.idea.fields);fields.forEach((function(e){"image-upload"==e.inputType&&(e.allowMultiple=self.config.image&&self.config.image.allowMultipleImages)})),self.props.idea.extraData||(self.props.idea.extraData={});var state={formfields:{id:self.props.idea.id||"",user:self.props.idea.user||{}},showFormErrorsWarning:!1,isBusy:!1};fields.forEach((function(field){field.name&&(state.formfields[field.name]=eval("self.props.idea."+field.name),field.value=eval("self.props.idea."+field.name))}));var titleField=fields.find((function(e){return"title"==e.name}));titleField&&(titleField.minLength=self.config.idea.titleMinLength,titleField.maxLength=self.config.idea.titleMaxLength);var summaryField=fields.find((function(e){return"summary"==e.name}));summaryField&&(summaryField.minLength=self.config.idea.summaryMinLength,summaryField.maxLength=self.config.idea.summaryMaxLength);var descriptionField=fields.find((function(e){return"description"==e.name}));descriptionField&&(descriptionField.minLength=self.config.idea.descriptionMinLength,descriptionField.maxLength=self.config.idea.descriptionMaxLength);var imageField=fields.find((function(e){return"image-upload"==e.inputType}));if(imageField&&(imageField.config=imageField.config||{},imageField.config.image=self.config.image),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.user.hasRole(self.config.user,"editor")){if(self.config.types&&"typeId"==self.config.typeField){var choices=[];self.config.types.forEach((function(e){var t=e;(!t.auth||t.auth.createableBy&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.user.hasRole(self.config.user,t.auth.createableBy))&&choices.push({title:t.name,value:t.id||t.value})})),self.config.idea.fields.push({name:"typeId",title:"Type inzending",value:self.props.idea.typeId,inputType:"multiple-choice",choices}),state.formfields.typeId=self.props.idea.typeId}self.config.idea.fields.push({name:"modBreak",title:"Moderator reactie",value:self.props.idea.modBreak,inputType:"textarea-with-counter",minLength:0,maxLength:2e3}),state.formfields.modBreak=self.props.idea.modBreak}else self.config.types&&"typeId"==self.config.typeField&&(self.config.idea.fields.push({name:"typeId",value:self.props.idea.typeId,inputType:"hidden"}),state.formfields.typeId=self.props.idea.typeId);return self.state=state,_this}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_10__.Z)(IdeasForm,[{key:"componentDidMount",value:function(e,t){var n=this;n.updateLocationListener=function(e){n.updateLocation(e.detail&&e.detail.location)},document.addEventListener("osc-update-location",n.updateLocationListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-update-location",this.updateLocationListener)}},{key:"updateLocation",value:function(e){if(e){var t=_objectSpread({},this.state);t.formfields.location={coordinates:[e.lat,e.lng]},t.formfields.address=e.address,this.setState(t)}}},{key:"validateIdea",value:function(){var e=this,t=!0;return e.state.formfields.location?e["form-warning-location"].style.display="none":(e["form-warning-location"].style.display="block",t=!1),t}},{key:"submitIdea",value:function(){var e=this,t=this;t.setState({isBusy:!0},(function(){var n=t.form.getValues(),i=t.form.validate({showErrors:!0,scrollTo:!0});if(t.validateIdea()&&i){if(t.setState({showFormErrorsWarning:!1}),!t.config.api.isUserLoggedIn)return alert("Je bent niet ingelogd");var o=t.config.api.url+"/api/site/"+t.config.siteId+"/idea",r=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.api.getHeaders(t.config),a={location:JSON.stringify(_objectSpread({type:"Point"},t.state.formfields.location))};Object.keys(n).forEach((function(e){var t=e.match(/^extraData\.(.+)/);t?(a.extraData||(a.extraData={}),a.extraData[t[1]]=n[e]):a[e]=n[e]}));var s="POST";"number"==typeof e.state.formfields.id&&(s="PUT",o=o+"/"+e.state.formfields.id),fetch(o,{method:s,headers:r,body:JSON.stringify(a)}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){t.setState({isBusy:!1},(function(){var t=new window.CustomEvent("osc-idea-stored",{detail:{idea:e}});document.dispatchEvent(t)}))})).catch((function(e){console.log("Niet goed"),console.log(e),"function"==typeof e.json?e.json().then((function(e){return t.setState({isBusy:!1,showFormErrorsWarning:e.message})})):t.setState({isBusy:!1,showFormErrorsWarning:e.message||e})}))}else t.setState({isBusy:!1,showFormErrorsWarning:!0})}))}},{key:"render",value:function(){var e=this,t=this,n=null;if(t.state.showFormErrorsWarning){var i="Niet alle velden zijn correct ingevuld. Scroll naar boven om te zien wat er mis gaat.";"string"==typeof t.state.showFormErrorsWarning&&(i=t.state.showFormErrorsWarning),n=React.createElement("div",{className:"osc-form-errors-warning"},i)}var o;return o=React.createElement(_forms_index_jsx__WEBPACK_IMPORTED_MODULE_5__.default.Form,{config:{fields:t.config.idea.fields},values:{typeId:t.state.formfields.typeId},ref:function(e){t.form=e}}),React.createElement("div",{id:t.id,className:t.props.className||"osc-infobar-idea-form",ref:function(e){return t.instance=e}},React.createElement("div",{className:"osc-spacer"}),React.createElement("form",{className:"osc-form"},React.createElement("h1",null,"Nieuw punt toevoegen"),React.createElement("div",{className:"osc-form-group"},React.createElement("h2",null,"Naam"),t.state.formfields.user&&t.state.formfields.user.displayName),React.createElement("div",{className:"osc-form-group"},React.createElement("h2",null,"Een locatie vlakbij"),t.state.formfields.address||"Adres wordt gezocht...",React.createElement("div",{className:"osc-form-warning",style:{display:"none"},ref:function(t){return e["form-warning-location"]=t}},"Geen locatie geselecteerd")),o,React.createElement("br",null),n,React.createElement("br",null),React.createElement("a",{className:"osc-button osc-button-blue".concat(t.state.isBusy?" osc-disabled":""),onClick:function(){t.state.isBusy||t.submitIdea()},ref:function(e){return t.submitButton=e}},"Versturen"),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null)))}}]),IdeasForm}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__.Z)},1583:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>OpenStadComponentIdeasOnMap});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(4699),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(484),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7608),merge__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1965),merge__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3804),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),react_device_detect__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9359),_filterbar_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7244),_infobar_jsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4286),_preview_jsx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5068),_component_index_jsx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7961),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2150);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Map=react__WEBPACK_IMPORTED_MODULE_4___default().lazy((function(){return Promise.all([__webpack_require__.e(677),__webpack_require__.e(89)]).then(__webpack_require__.bind(__webpack_require__,7093))})),OpenStadComponentIdeasOnMap=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_11__.Z)(OpenStadComponentIdeasOnMap,_OpenStadComponent);var _super=_createSuper(OpenStadComponentIdeasOnMap);function OpenStadComponentIdeasOnMap(e){var t;(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_12__.Z)(this,OpenStadComponentIdeasOnMap),t=_super.call(this,e,{display:{type:"complete",width:null,height:null},canSelectLocation:!0,onMarkerClickAction:"selectIdea",types:[],typeField:null,titleField:"title",summaryField:"summary",user:{},sort:{},map:{},api:{url:null,headers:null,isUserLoggedIn:!1},idea:{canAddNewIdeas:!0},content:{},search:{addresssesMunicipality:"amsterdam"}});var n=(0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_13__.Z)(t);return n.config.ideaName=n.config.ideaName||"Inzendingen",n.config.doSearchFunction=n.config.doSearchFunction||n.doSearch.bind(n),n.config.typeField=n.config.typeField||"extraData.theme",n.config.types&&n.config.types.length&&n.config.types.forEach((function(e){if(e.value&&!e.name&&(e.name=e.value),e.name&&!e.id&&(e.id=e.name),e.backgroundColor&&!e.color&&(e.color=e.backgroundColor),e.mapicon&&"string"==typeof e.mapicon)try{e.mapicon=JSON.parse(e.mapicon)}catch(t){console.log(e),console.log(t)}if(e.listicon&&"string"==typeof e.listicon)try{e.listicon=JSON.parse(e.listicon)}catch(t){console.log(e),console.log(t)}if(e.buttonicon&&"string"==typeof e.buttonicon)try{e.buttonicon=JSON.parse(e.buttonicon)}catch(t){console.log(e),console.log(t)}})),n.state={status:"default",infobarOnMobileIsOpen:!1,ideas:[],visibleIdeas:[],listedIdeas:[],selectedIdea:null,selectedLocation:null,currentEditIdea:null},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_14__.Z)(OpenStadComponentIdeasOnMap,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("hashchange",(function(t){var n=window.location.hash.match(/(\w)(\d+)$/);if(n){var i=n[2],o=e.state.ideas&&e.state.ideas.find((function(e){return e.id==i}));"D"==n[1]&&e.showIdeaDetails(o),"S"==n[1]&&e.hideIdeaDetails()}else"idea-details"==e.state.status&&e.hideIdeaDetails(),"idea-selected"==e.state.status&&e.setSelectedIdea(null)}),!1),window.addEventListener("osc-map-is-ready",(function(t){e.fetchData({}),e.map.map.on("zoomend",(function(){e.onChangeMapBoundaries()})),e.map.map.on("moveend",(function(){e.onChangeMapBoundaries()}))})),document.addEventListener("osc-map-click",(function(t){e.onMapClick(t.detail)})),document.addEventListener("osc-map-marker-click",(function(t){e.onMarkerClick(t.detail)})),document.addEventListener("osc-map-cluster-click",(function(t){e.onClusterClick(t.detail)})),document.addEventListener("osc-ideas-filter-onchange",(function(t){e.onChangeFilter(t.detail)})),document.addEventListener("osc-set-selected-idea",(function(t){e.onUpdateSelectedIdea(t.detail)})),document.addEventListener("osc-set-selected-location",(function(t){e.setSelectedLocation(null)})),document.addEventListener("osc-new-idea-click",(function(t){e.onNewIdeaClick({idea:t.detail.idea})})),document.addEventListener("osc-selected-idea-click",(function(t){e.onSelectedIdeaClick({idea:t.detail.idea})})),document.addEventListener("osc-click-mobile-switcher",(function(t){e.onClickMobileSwitcher()})),document.addEventListener("osc-idea-tile-click",(function(t){e.onIdeaClick(t.detail.idea)})),document.addEventListener("osc-idea-tile-mouse-enter",(function(t){e.onTileMouseEnter(t.detail.idea)})),document.addEventListener("osc-idea-tile-mouse-leave",(function(t){e.onTileMouseLeave(t.detail.idea)})),document.addEventListener("osc-idea-liked",(function(t){e.onIdeaLiked(t.detail)})),document.addEventListener("osc-new-reaction-stored",(function(t){e.onReactionStored(t.detail,!0)})),document.addEventListener("osc-reaction-edited",(function(t){e.onReactionStored(t.detail)})),document.addEventListener("osc-reaction-deleted",(function(t){e.onReactionDeleted(t.detail)})),document.addEventListener("osc-edit-idea-button-click",(function(t){e.onEditIdeaClick(t.detail)})),document.addEventListener("osc-idea-deleted",(function(t){e.onIdeaDeleted(t.detail)})),document.addEventListener("osc-idea-stored",(function(t){document.location.href="#",e.onIdeaStored(t.detail.idea)}))}},{key:"fetchData",value:function(e){for(var t=e.showIdeaDetails,n=e.showIdeaSelected,i=this,o="".concat(i.config.api.url,"/api/site/").concat(i.config.siteId,"/idea?includeVoteCount=1&includeArgsCount=1&includeUser=1"),r=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__.ZP.api.getHeaders(i.config),a=i.map.getMarkers();a.length>0;){var s=a[0];i.map.removeMarker(s)}i.map.setMarkers([]),fetch(o,{headers:r}).then((function(e){return e.json()})).then((function(e){!(t=t||window.location.hash.match(/^#D(\d+)/)&&window.location.hash.match(/^#D(\d+)/)[1])&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__.ZP.localStorage.get("osc-login-pending-show-details")&&(t=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__.ZP.localStorage.get("osc-login-pending-show-details"),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__.ZP.localStorage.remove("osc-login-pending-show-details")),n=n||window.location.hash.match(/^#S(\d+)/)&&window.location.hash.match(/^#S(\d+)/)[1];var o=e&&e.filter((function(e){return e.location}));i.updateListedIdeas({ideas:o,sortOrder:i.config.sort.defaultValue}),o.map((function(e){e.id==t&&(t=e),e.id==n&&(n=e),e.image=e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[0]||"https://stemvanwest.amsterdam.nl/img/placeholders/idea.jpg",i.map.addIdea(e)})),i.map.setBoundsAndCenter(),i.setState({ideas:o},(function(){if(i.setInfobarOnMobileIsOpen(i.config.startWithListOpenOnMobile),"object"==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_15__.Z)(n)&&null!=n&&(i.setCurrentEditIdea(null),i.setSelectedIdea(n,(function(){}))),"object"==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_15__.Z)(t)&&null!=t&&i.showIdeaDetails(t),window.location.hash.match(/^#newidea/)){var e=window.location.hash.match(/&([^&]+)=([^&]+)/g),o={};e&&e.forEach((function(e){var t=e.split("="),n=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16__.Z)(t,2),i=n[0],r=n[1];i=i.substring(1,i.length),o[i]=decodeURIComponent(r);try{o[i]=JSON.parse(o[i])}catch(e){}})),i.setCurrentEditIdea(o,(function(e){e.location&&i.setSelectedLocation(e.location),i.showIdeaForm()}))}i.onChangeMapBoundaries()}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}},{key:"updateListedIdeas",value:function(e){var t=e.ideas,n=void 0===t?this.getVisibleIdeas():t,i=e.sortOrder,o=void 0===i?this.state.currentSortOrder:i,r=e.center,a=void 0===r?{lat:52.37104644463586,lng:4.900402911007405}:r,s=e.maxLength;o&&(n=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__.ZP.ideasSort({ideas:n,sortOrder:o,center:a})),s&&(n=n.splice(0,s)),this.setState({listedIdeas:n})}},{key:"setSelectedIdea",value:function(e,t){var n=this;n.setCurrentEditIdea(null),n.setSelectedLocation(null);var i=e?"idea-details"==n.state.status?"idea-details":"idea-selected":n.state.status;n.setState({selectedIdea:e,status:i},(function(){if(e?(n.map.fadeMarkers({exception:e}),n.updateListedIdeas({ideas:n.state.ideas.filter((function(t){return t.id!=e.id})),sortOrder:"distance",center:{lat:e.location.coordinates[0],lng:e.location.coordinates[1]},maxLength:5})):(n.map&&n.map.unfadeAllMarkers(),n.updateListedIdeas({ideas:n.getVisibleIdeas()})),t)return t(e)}))}},{key:"setSelectedLocation",value:function(e,t){var n=this;if(e&&e.coordinates&&(e.lat=e.coordinates[0],e.lng=e.coordinates[1]),n.map&&n.map.setSelectedLocation(e),e){e.isPointInArea=n.map.isPointInArea(e,n.config.map.polygon),n.map.fadeMarkers({});var i=n.state.selectedIdea&&n.state.selectedIdea.id;n.updateListedIdeas({ideas:n.state.ideas.filter((function(e){return e.id!=i})),sortOrder:"distance",center:e,maxLength:5}),n.setState({selectedLocation:e},(function(){n.state.currentEditIdea&&n.updateCurrentEditIdea({location:e},(function(t){n.updateLocationAddress(e)})),t&&t(n.state.selectedLocation)}));var o=new window.CustomEvent("osc-update-location",{detail:{location:e}});document.dispatchEvent(o)}else n.setState({selectedLocation:null},(function(){n.map.unfadeAllMarkers(),n.updateListedIdeas({ideas:n.getVisibleIdeas()});var i=new window.CustomEvent("osc-update-location",{detail:{location:e}});document.dispatchEvent(i),t&&t(n.state.selectedLocation)}))}},{key:"updateLocationAddress",value:function(e){e&&(e.coordinates&&(e.lat=e.coordinates[0],e.lng=e.coordinates[1]),this.map.searchAddressByLatLng({latlng:e,addresssesMunicipality:this.config.search.addresssesMunicipality,next:function(t){e.address=t&&t.address||"Geen adres gevonden";var n=new window.CustomEvent("osc-update-location",{detail:{location:e}});document.dispatchEvent(n)}}))}},{key:"showIdeaDetails",value:function(e){var t=this,n=this;n.setSelectedIdea(e),n.openInfobarOnMobile(),n.setState({status:"idea-details"},(function(){t.map.fadeMarkers({exception:e}),n.map.map.invalidateSize(),n.map.map.panTo({lat:e.location.coordinates[0],lng:e.location.coordinates[1]})}))}},{key:"hideIdeaDetails",value:function(){var e=this;e.setState({status:"idea-selected"},(function(){var t=e.state.selectedIdea;t&&e.updateListedIdeas({ideas:e.state.ideas.filter((function(e){return e.id!=t.id})),sortOrder:"distance",center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5}),e.map.showMarkers({}),e.map.map.invalidateSize()}))}},{key:"setCurrentEditIdea",value:function(e,t){var n=e;return this.setState({currentEditIdea:n},(function(){if(t)return t(n)}))}},{key:"updateCurrentEditIdea",value:function(e,t){var n=this.state.currentEditIdea;return n=merge__WEBPACK_IMPORTED_MODULE_3___default().recursive(n,e),this.setCurrentEditIdea(n,t)}},{key:"showIdeaForm",value:function(){var e=this,t=e.state.currentEditIdea;if(e.config.idea.formUrl){var n=e.config.idea.formUrl;n=(n=(n=(n=n.replace(/:ideaId/,"number"==typeof t.id?t.id:"")).replace(/:location/,t.location?JSON.stringify({lat:t.location.coordinates[0],lng:t.location.coordinates[1]}):"")).replace(/:typeId/,t.typeId)).replace(/:address/,t.address),document.location.href=n}else e.setState({status:"idea-form"},(function(){e.map.map.invalidateSize(),e.map.hideMarkers({exception:{location:t&&t.location&&{lat:t.location.coordinates[0],lng:t.location.coordinates[1]}||e.map.selectedLocation}});var n=t.location||e.state.selectedLocation;e.updateLocationAddress(n)}))}},{key:"hideIdeaForm",value:function(){var e=this;if(this.state.currentEditIdea&&"number"==typeof this.state.currentEditIdea.id){var t=e.state.ideas.find((function(t){return t.id==e.state.currentEditIdea.id}));e.showIdeaDetails(t),document.location.href="#D"+t.id}else{var n=e.state.currentEditIdea&&e.state.currentEditIdea.location||e.state.selectedLocation;n?(n.isPointInArea=this.map.isPointInArea(n,this.config.map.polygon),e.setState({status:"location-selected"},(function(){e.map.showMarkers({})}))):e.setState({status:"default"},(function(){e.map.showMarkers({}),e.setCurrentEditIdea(null)}))}}},{key:"setInfobarOnMobileIsOpen",value:function(e,t){this.setState({infobarOnMobileIsOpen:e}),t&&t()}},{key:"openInfobarOnMobile",value:function(e){this.setState({infobarOnMobileIsOpen:!0}),e&&e()}},{key:"closeInfobarOnMobile",value:function(e){this.setState({infobarOnMobileIsOpen:!1}),e&&e()}},{key:"doSearch",value:function doSearch(searchValue,callback){var self=this,searchValueLc=searchValue.toLowerCase(),searchResult={ideas:[],locations:[]};function onClickAddress(e){self.map.LookupLatLngByAddressId({id:e,addresssesMunicipality:self.config.search.addresssesMunicipality,next:function(e){var t=e.centroide_ll.match(/POINT\((\d+\.\d+) (\d+\.\d+)\)/);self.map.map.panTo(new L.LatLng(t[2],t[1])),self.onMapClick({latlng:{lat:t[2],lng:t[1]}},!0)}})}this.state.ideas.forEach((function(idea){var title=eval("idea.".concat(self.config.titleField))||"",titlelLc=title.toLowerCase(),summary=eval("idea.".concat(self.config.summaryField))||"",summaryLc=summary.toLowerCase();(titlelLc.match(searchValueLc)||summaryLc.match(searchValueLc))&&searchResult.ideas.push({text:title,onClick:function(){self.onUpdateSelectedIdea(idea)}})})),self.map.suggestAddresses({searchValue:searchValueLc,addresssesMunicipality:self.config.search.addresssesMunicipality,next:function(e){searchResult.locations=e&&e.map((function(e){return e.onClick=function(){return onClickAddress(e.id)},e})),callback(searchValue,searchResult)}})}},{key:"getVisibleIdeas",value:function(){var e=this.map.getVisibleIdeas();return this.setState({visibleIdeas:e}),e}},{key:"onMapClick",value:function(e,t){var n=this;if(1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_5__.tq)this.closeInfobarOnMobile();else switch(this.state.status){case"idea-details":this.hideIdeaDetails(),document.location.href="#S"+this.state.selectedIdea.id;break;case"idea-form":this.map.isPointInArea(e.latlng,this.config.map.polygon)&&this.setSelectedLocation(e.latlng);break;default:if(!this.state.selectedIdea&&!this.state.selectedLocation||t){if(!this.config.canSelectLocation)break;this.setSelectedLocation(e.latlng,(function(e){n.setState({status:"location-selected"}),n.updateLocationAddress(e)}))}else this.setState({status:"default"}),document.location.href="#",this.setSelectedIdea(null),this.updateListedIdeas({ideas:this.getVisibleIdeas()});document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0)}}},{key:"onMarkerClick",value:function(e){if(1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_5__.tq)this.closeInfobarOnMobile();else switch(this.state.status){case"idea-details":this.onUpdateSelectedIdea(e.target.options.data),document.location.href="#D"+e.target.options.data.id,document.querySelector("#osc-ideas-on-map-info")&&document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0);break;case"idea-form":break;default:this.state.currentEditIdea||this.state.selectedLocation?(this.setSelectedIdea(null),this.setState({status:"default"}),this.setCurrentEditIdea(null),this.onUpdateSelectedIdea(null)):(this.onUpdateSelectedIdea(e.target.options.data),"showIdeaDetails"==this.config.onMarkerClickAction&&(document.location.href="#D"+e.target.options.data.id)),document.querySelector("#osc-ideas-on-map-info")&&document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0)}}},{key:"onClusterClick",value:function(e){1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_5__.tq&&this.closeInfobarOnMobile()}},{key:"onChangeMapBoundaries",value:function(){var e=this;if(e.map)switch(e.state.status){case"idea-form":break;case"idea-selected":case"location-selected":if(e.infobar){var t=e.state.selectedIdea||e.state.currentEditIdea;t&&e.updateListedIdeas({ideas:e.state.ideas.filter((function(e){return e.id!=t.id})),sortOrder:"distance",center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5})}break;default:e.infobar&&e.updateListedIdeas({ideas:e.getVisibleIdeas()})}}},{key:"onUpdateSelectedIdea",value:function(e){var t=this,n="default";e?"idea-details"==this.state.status?(document.location.href="#D"+e.id,n="idea-details"):(document.location.href="#S"+e.id,n="idea-selected"):document.location.href="#",this.setState({status:n},(function(){t.setSelectedIdea(e)}))}},{key:"onIdeaClick",value:function(e){document.location.href="#D"+e.id}},{key:"onEditIdeaClick",value:function(e){var t=this;t.setCurrentEditIdea(e,(function(e){t.showIdeaForm()}))}},{key:"onIdeaDeleted",value:function(e){var t=this;t.setCurrentEditIdea(null),t.setSelectedIdea(null),t.setSelectedLocation(null),t.setState({status:"default"},(function(){t.map.setBoundsAndCenter(),t.fetchData({})}))}},{key:"onDeleteIdeaClick",value:function(e){console.log("Delete idea",e.id)}},{key:"onSelectedIdeaClick",value:function(e){var t=e.idea;document.location.href="#D"+t.id}},{key:"onNewIdeaClick",value:function(e){var t=e.idea,n=this,i=merge__WEBPACK_IMPORTED_MODULE_3___default().recursive(this.state.currentEditIdea||{},this.state.selectedLocation);i.typeId=t&&t.typeId,n.setCurrentEditIdea(i,(function(e){n.showIdeaForm()}))}},{key:"onIdeaStored",value:function(e){this.setCurrentEditIdea(null),this.fetchData({showIdeaDetails:e.id})}},{key:"onIdeaLiked",value:function(e){this.state.ideas.find((function(t){return t.id==e.ideaId})).yes+=e.change}},{key:"onReactionStored",value:function(e,t){t&&this.state.ideas.find((function(t){return t.id==e.ideaId})).argCount++}},{key:"onReactionDeleted",value:function(e){this.state.ideas.find((function(t){return t.id==e.ideaId})).argCount--}},{key:"onChangeFilter",value:function(e){this.setSelectedIdea(null),this.setCurrentEditIdea(null),this.setSelectedLocation(null),this.setState({status:"default"}),this.onChangeMapBoundaries()}},{key:"onTileMouseEnter",value:function(e){this.map.fadeMarkers({exception:e})}},{key:"onTileMouseLeave",value:function(e){this.map.unfadeAllMarkers(),this.state.selectedIdea&&this.map.fadeMarkers({exception:this.state.selectedIdea}),this.map.selectedLocation&&this.map.fadeMarkers({})}},{key:"onClickBackToOverview",value:function(e){this.hideIdeaDetails(),document.location.href="#S"+this.state.selectedIdea.id}},{key:"onClickMobileSwitcher",value:function(){var e=this,t=this;t.setInfobarOnMobileIsOpen(!this.state.infobarOnMobileIsOpen,(function(n){if("location-selected"==t.state.status||"idea-selected"==e.state.status){t.state.selectedIdea||t.state.currentEditIdea;t.map.setBoundsAndCenter()}}))}},{key:"render",value:function render(){var _this6=this,infoHTML=null,filterHTML=null,mobilePopupHTML=null;switch(this.state.status){case"idea-details":infoHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{config:this.config,displayType:"details",selectedIdea:this.state.selectedIdea,idea:this.state.selectedIdea,className:"osc-ideas-on-map-info",ref:function(e){return _this6.infobar=e}}),filterHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-ideas-filterbar"},react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-backbutton",onClick:function(){return _this6.onClickBackToOverview()}},"Terug naar overzicht"));break;case"idea-form":infoHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{config:this.config,displayType:"form",selectedIdea:this.state.selectedIdea,idea:_objectSpread(_objectSpread({},this.state.currentEditIdea),{},{user:this.state.currentEditIdea&&this.state.currentEditIdea.user||this.config.user}),className:"osc-ideas-on-map-info",ref:function(e){return _this6.infobar=e}}),filterHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-ideas-filterbar"},react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-backbutton",onClick:function(){return _this6.hideIdeaForm()}},"Terug naar ",this.state.currentEditIdea&&"number"==typeof this.state.currentEditIdea.id?"idee":"overzicht"));break;case"location-selected":case"idea-selected":if("location-selected"==this.state.status){var location=this.state.selectedLocation||this.state.currentEditIdea&&this.state.currentEditIdea.location||{};location.isPointInArea=this.map.isPointInArea(location,this.config.map.polygon),location.isPointInArea&&(mobilePopupHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_preview_jsx__WEBPACK_IMPORTED_MODULE_8__.Z,{config:_objectSpread(_objectSpread({},this.config),{},{display:{type:"mobilePreview"}}),selectedLocation:location}))}else mobilePopupHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-mobile-popup osc-clickable",onClick:function(){_this6.openInfobarOnMobile(),document.location.href="#D"+_this6.state.selectedIdea.id}},react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-image",style:{backgroundImage:"url(".concat(this.state.selectedIdea&&this.state.selectedIdea.image,")")}}),eval(this.state.selectedIdea&&"this.state.selectedIdea.".concat(this.config.titleField)));infoHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{config:this.config,selectedIdea:this.state.selectedIdea,selectedLocation:this.state.selectedLocation,currentEditIdea:this.state.currentEditIdea,ideas:this.state.listedIdeas,id:"osc-ideas-on-map-info",className:"osc-ideas-on-map-info",infobarOnMobileIsOpen:this.state.infobarOnMobileIsOpen,ref:function(e){return _this6.infobar=e}}),filterHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_filterbar_jsx__WEBPACK_IMPORTED_MODULE_6__.Z,{config:this.config,className:"osc-ideas-filterbar"});break;default:infoHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{config:this.config,selectedIdea:this.state.selectedIdea,ideas:this.state.listedIdeas,id:"osc-ideas-on-map-info",className:"osc-ideas-on-map-info",infobarOnMobileIsOpen:this.state.infobarOnMobileIsOpen,ref:function(e){return _this6.infobar=e}}),filterHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_filterbar_jsx__WEBPACK_IMPORTED_MODULE_6__.Z,{config:this.config,className:"osc-ideas-filterbar"}),mobilePopupHTML=null}var divStyle={},simpleHTML=null;if("simple"==this.config.display.type){filterHTML=null,infoHTML=null,mobilePopupHTML=null;var buttonHTML=null;this.config.linkToCompleteUrl&&(buttonHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement("button",{onClick:function(){document.location.href=_this6.config.linkToCompleteUrl},className:"osc-button-blue",style:{position:"absolute",top:20,right:20}},"Bekijk de volledige kaart")),simpleHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:400}},buttonHTML),this.config.display.width&&(divStyle.width=this.config.display.width),this.config.display.height&&(divStyle.height=this.config.display.height)}var mapConfig=_objectSpread(_objectSpread({},this.config.map),{},{zoomControl:"simple"!=this.config.display.type,categorize:{categorizeByField:this.config.typeField,categories:{}}});return this.config.types.forEach((function(e){mapConfig.categorize.categories[e.id]={color:e.color,icon:e.mapicon}})),mapConfig.defaultIcon=mapConfig.defaultIcon||{html:'<svg viewBox="0 0 26 26"><circle cx="13" cy="13" r="13" fill="#164995"/></svg>',width:26,height:26,anchor:[13,13]},react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{id:this.divId,className:"osc-ideas-on-map osc-ideas-on-map-".concat(this.state.status," osc-mobile-").concat(this.state.infobarOnMobileIsOpen?"opened":"closed"),style:divStyle,ref:function(e){return _this6.instance=e}},filterHTML,infoHTML,react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-ideas-on-map-map osc-ideas-on-map-map-".concat(this.config.display.type)},react__WEBPACK_IMPORTED_MODULE_4___default().createElement(react__WEBPACK_IMPORTED_MODULE_4__.Suspense,{fallback:react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",null,"Loading...")},react__WEBPACK_IMPORTED_MODULE_4___default().createElement(Map,{id:this.divId+"-map",config:mapConfig,ref:function(e){return _this6.map=e}}))),simpleHTML,mobilePopupHTML)}}]),OpenStadComponentIdeasOnMap}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_9__.Z)},4286:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i=n(6156);var o=n(6610),r=n(5991),a=n(379),s=n(6070),c=n(7608),l=n(7961),u=n(6623);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var _=function(e){(0,a.Z)(n,e);var t=f(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){var e=this,t=void 0!==e.props.ideas?e.props.ideas:e.state.ideas||[],n=React.createElement("h3",{className:"osc-title"},e.props.title||e.config.title," (",t.length,")");return React.createElement("div",{id:e.id,className:"osc-ideas-overview ".concat(e.props.className||"")},React.createElement(u.IdeasFilterbar,{config:e.config,showFilterbar:e.props.showFilterbar,className:"osc-ideas-filterbar"}),React.createElement(u.IdeasSort,{config:h({},e.config.sort),ideas:t,showSort:!e.props.hideSortButton,className:"osc-align-right-container",ref:function(t){return e.sorter=t}}),n,React.createElement(u.IdeasList,{config:e.config,ideas:t,className:""}))}}]),n}(u.IdeasOverview),p=n(6605),m=n(7035),g=n(5068);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var E=function(e){(0,a.Z)(n,e);var t=b(n);function n(e){var i;return(0,o.Z)(this,n),i=t.call(this,e,{display:{columns:1,showFilterbar:!1},idea:{canAddNewIdeas:!0,showVoteButtons:!0},argument:{isActive:!0,ignoreReactionsForIdeaIds:""},types:[]}),e.config.content.noSelectionHTML&&!e.config.content.noSelectionLoggedInHTML&&(i.config.content.noSelectionLoggedInHTML=e.config.content.noSelectionHTML),e.config.content.noSelectionHTML&&!e.config.content.noSelectionNotLoggedInHTML&&(i.config.content.noSelectionNotLoggedInHTML=e.config.content.noSelectionHTML),i.state={currentSortOrder:i.config.defaultValue,infobarOnMobileIsOpen:e.infobarOnMobileIsOpen||!1},i}return(0,r.Z)(n,[{key:"updateIdeas",value:function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),console.log("updateIdeas moet weg")}}]),(0,r.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.setSelectedLocationListener=function(e){n.setNewIdea(e.detail)},document.addEventListener("osc-set-selected-location",n.setSelectedLocationListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-set-selected-location",this.setSelectedLocationListener)}},{key:"setNewIdea",value:function(e){console.log("DEZE MOET WEG"),this.setState(y(y({},this.state),{},{selectedIdea:null}))}},{key:"dispatchClickMobileSwitcher",value:function(e){e.stopPropagation();var t=new window.CustomEvent("osc-click-mobile-switcher",{detail:{}});document.dispatchEvent(t)}},{key:"render",value:function(){var e=this,t=this,n=y({},t.config);if(n.display.type="list",this.props.idea&&this.props.idea.extraData&&this.props.idea.extraData.type&&("Kans"==this.props.idea.extraData.type||"Knelpunt"==this.props.idea.extraData.type)&&(n.types=[{name:"Kans",label:"Dit gaat goed",value:"Kans",buttonLabel:"Ik wil een idee posten",backgroundColor:"#bed200",textColor:"black"},{name:"Knelpunt",label:"Dit kan beter",value:"Knelpunt",backgroundColor:"#ff9100",textColor:"black"}],n.typeField="extraData.type",n.showLabels=!0),"details"==t.props.displayType)return React.createElement(p.default,{config:n,idea:this.props.idea,className:t.props.className||"osc-infobar-idea-details",ref:function(t){return e.ideadetails=t}});if("form"==t.props.displayType)return React.createElement(m.Z,{config:n,idea:this.props.idea,className:"osc-ideas-on-map-info",ref:function(t){return e.ideaform=t}});var i,o=t.props.ideas,r="",a="",s=!1;(t.props.currentEditIdea||t.props.selectedLocation)&&(r="in de buurt",a="Meer details en acties",s=!0),t.props.selectedIdea&&(r="in de buurt",a="Meer details",s=!0),r||(r="in dit gebied"),t.props.currentEditIdea||t.props.selectedIdea||(a="".concat(n.ideaName," in dit gebied (").concat(o&&o.length||0,")")),t.state.infobarOnMobileIsOpen&&(a="Terug naar de kaart"),i=React.createElement("div",{className:"osc-mobile-switcher",onClick:function(e){return t.dispatchClickMobileSwitcher(e)}},a);var c=n.ideaName+" "+r;return n.display.onMouseOverTileFadeOthers=!0,React.createElement("div",{id:t.props.id,className:t.props.className||"osc-infobar",ref:function(e){return t.instance=e}},i,React.createElement("div",{className:"osc-info-content"},React.createElement(g.Z,{config:n,selectedIdea:t.props.selectedIdea,selectedLocation:t.props.currentEditIdea||t.props.selectedLocation}),React.createElement(_,{config:n,ideas:o,hideSortButton:s,title:c,ref:function(e){return t.list=e}})))}}]),n}(l.Z)},5068:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Preview});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5991),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7961),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2150),_image_index_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4315),_ideas_overview_index_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6623);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Preview=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__.Z)(Preview,_OpenStadComponent);var _super=_createSuper(Preview);function Preview(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8__.Z)(this,Preview),t=_super.call(this,e,{display:{type:"idea-selection"},api:{},content:{noSelectionLoggedInHTML:"",noSelectionNotLoggedInHTML:"",selectionActiveLoggedInHTML:"Ingelogd: er is een punt geselecteerd binnen de polygon, met een adres: {address} en {addButton}.",selectionInactiveLoggedInHTML:"Ingelogd: er is een punt geselecteerd buiten de polygon, met een {address}",selectionActiveNotLoggedInHTML:'Niet ingelogd: er is een punt geselecteerd binnen de polygon, met een adres: {address} en {loginButton} of <a href="{loginLink}">login link</a>.',selectionInactiveNotLoggedInHTML:"Niet ingelogd: er is een punt geselecteerd buiten de polygon, met een {address}",mobilePreviewLoggedInHTML:"Een locatie vlakbij <h4>{address}</h4>{addButton}",mobilePreviewNotLoggedInHTML:'Een locatie vlakbij <h4>{address}</h4><div>Wilt u een nieuw punt toevoegen? Dan moet u eerst <a href="{loginLink}">inloggen</a>.</div>',showNoSelectionOnMobile:!1},idea:{canAddNewIdeas:!0,showVoteButtons:!0}}),e.config.content=e.config.content||{},e.config.content.noSelectionHTML&&!e.config.content.noSelectionLoggedInHTML&&(t.config.content.noSelectionLoggedInHTML=e.config.content.noSelectionHTML),e.config.content.noSelectionHTML&&!e.config.content.noSelectionNotLoggedInHTML&&(t.config.content.noSelectionNotLoggedInHTML=e.config.content.noSelectionHTML),t.state={},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__.Z)(Preview,[{key:"componentDidMount",value:function(e,t){var n=this;n.updateLocationListener=function(e){n.updateLocation(e.detail&&e.detail.location)},document.addEventListener("osc-update-location",n.updateLocationListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-update-location",this.updateLocationListener)}},{key:"updateLocation",value:function(e){e&&this.setState({location:e,address:e.address})}},{key:"dispatchOnButtonIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-selection-button-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchNewIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-new-idea-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"openPreviewWindow",value:function(){var e=new window.CustomEvent("osc-click-mobile-switcher");document.dispatchEvent(e)}},{key:"dispatchSelectedIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-selected-idea-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchClosePreview",value:function(e,t){var n;e.stopPropagation(),"idea"==t&&(n=new window.CustomEvent("osc-set-selected-idea",{detail:null})),"location"==t&&(n=new window.CustomEvent("osc-set-selected-location",{detail:null})),document.dispatchEvent(n)}},{key:"render",value:function render(){var self=this;if("mobilePreview"==self.config.display.type){var contentHTML=this.config.api.isUserLoggedIn?this.config.content.mobilePreviewLoggedInHTML:this.config.content.mobilePreviewNotLoggedInHTML,_addButton=null,_loginButton=null,_loginLink=null;this.config.api.isUserLoggedIn?this.config.idea.canAddNewIdeas&&(_addButton=React.createElement("button",{className:"osc-button osc-button-blue",onClick:function(e){self.openPreviewWindow(),self.dispatchNewIdeaClick(e)},ref:function(e){return self.newIdeaButton=e}},"Nieuw punt toevoegen")):this.config.idea.canAddNewIdeas&&(_loginButton=React.createElement("button",{onClick:function(){document.location.href="/oauth/login?returnTo="+encodeURIComponent(document.location.href)},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),_loginLink="javascript: document.location.href = '/oauth/login?returnTo=' + encodeURIComponent(document.location.href)");var address=this.state.address||this.props.selectedLocation.address||"[adres wordt gezocht...]";return contentHTML=contentHTML.replace(/\{address\}/g,address||""),contentHTML=contentHTML.replace(/\{loginLink\}/g,_loginLink),contentHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.reactTemplate({html:contentHTML,addButton:_addButton,loginButton:_loginButton}),React.createElement("div",{className:"osc-mobile-popup"},contentHTML)}var selectedLocationHTML=null,selectedIdeaHTML=null,titleAddition="",mobileSwitcherHTML=null,mobileTitle="",addButton=null,loginButton=null,loginLink=null;if(self.config.idea.canAddNewIdeas){addButton=self.config.types&&"typeId"==self.config.typeField?React.createElement("span",{className:"osc-new-idea-buttons"},self.config.types.map((function(e,t){var n=e;if(!n.auth||n.auth.createableBy&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.user.hasRole(self.config.user,n.auth.createableBy)){var i=n?React.createElement("div",{className:"osc-button-background-image",dangerouslySetInnerHTML:{__html:n.buttonicon&&n.buttonicon.html||""}}):null;return React.createElement("button",{className:"osc-button osc-button-white"+(n&&n.auth&&n.auth.createableBy?" osc-button-required-role-is-".concat(n.auth.createableBy):""),onClick:function(e){return self.dispatchNewIdeaClick(e,{typeId:n.id||n.name})},key:"osc-button-".concat(t)},i,n&&n.buttonLabel||"Nieuw punt toevoegen")}return null}))):React.createElement("button",{className:"osc-button osc-button-blue",onClick:function(e){return self.dispatchNewIdeaClick(e)}},"Nieuw punt toevoegen");var loginUrl=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.auth.getLoginUrl(self.config);loginButton=React.createElement("button",{onClick:function(){document.location.href=loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),loginLink="javascript: document.location.href = '".concat(loginUrl,"'")}if(self.props.selectedLocation){var _contentHTML=null;_contentHTML=self.props.selectedLocation.isPointInArea?self.config.api.isUserLoggedIn?self.config.content.selectionActiveLoggedInHTML:self.config.content.selectionActiveNotLoggedInHTML:self.config.api.isUserLoggedIn?self.config.content.selectionInactiveLoggedInHTML:self.config.content.selectionInactiveNotLoggedInHTML;var _address=this.state.address||this.props.selectedLocation.address||"[adres wordt gezocht...]";_contentHTML=_contentHTML.replace(/\{address\}/g,_address||""),_contentHTML=_contentHTML.replace(/\{loginLink\}/g,loginLink),_contentHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.reactTemplate({html:_contentHTML,addButton,loginButton}),selectedLocationHTML=React.createElement("div",{className:"osc-infobar-new-idea"},React.createElement("button",{className:"osc-close-button-black",onClick:function(e){return self.dispatchClosePreview(e,"location")},ref:function(e){return self.resetButton=e}}),_contentHTML),titleAddition="in de buurt",mobileTitle="Meer details en acties"}if(self.props.selectedIdea){var idea=self.props.selectedIdea,ideaTypeValue;try{ideaTypeValue=eval("idea.".concat(self.config.typeField))}catch(e){ideaTypeValue=""}var typeDef=self.config.types.find((function(e){return e.name==ideaTypeValue||e.id==ideaTypeValue}));typeDef&&typeDef.listicon||(typeDef={listicon:{html:""}});var voteCountHTML=null;this.config.idea.showVoteButtons&&(voteCountHTML=React.createElement("div",{className:"osc-likes"},idea.yes||0));var argcountHTML=null;this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")))&&(argcountHTML=React.createElement("div",{className:"osc-reactions"},idea.argCount||0));var config=_objectSpread({},self.config);config.display.showStats=!0,config.display.showTypeIcon=!0,selectedIdeaHTML=React.createElement("div",{className:"osc-infobar-selected-idea",onClick:function(e){return self.dispatchSelectedIdeaClick(e,self.props.selectedIdea)}},React.createElement("button",{className:"osc-close-button-black",onClick:function(e){return self.dispatchClosePreview(e,"idea")},ref:function(e){return self.resetButton=e}}),React.createElement("h3",null,"Geselecteerd"),React.createElement(_ideas_overview_index_jsx__WEBPACK_IMPORTED_MODULE_6__.IdeaTile,{config,idea,className:"osc-".concat(self.config.display.columns,"-columns").concat(this.config.display.onMouseOverTileFadeOthers&&self.state.highLightIdeaId&&self.state.highLightIdeaId!=idea.id?" osc-opacity-65":""),key:"osc-idea-tile-".concat(idea.id)})),titleAddition="in de buurt",mobileTitle="Meer details"}var defaultBlockHTML=null;if(!selectedLocationHTML&&!selectedIdeaHTML){var noSelectionHTML=self.config.api.isUserLoggedIn?self.config.content.noSelectionLoggedInHTML:self.config.content.noSelectionNotLoggedInHTML;noSelectionHTML=noSelectionHTML||null,noSelectionHTML&&(noSelectionHTML=noSelectionHTML.replace(/\{loginLink\}/g,loginLink),noSelectionHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.reactTemplate({html:noSelectionHTML,addButton,loginButton}),defaultBlockHTML=React.createElement("div",{className:"osc-infobar-default-block".concat(self.config.content.showNoSelectionOnMobile?" osc-visible-on-mobile":"")},noSelectionHTML)),mobileTitle="".concat(self.config.ideaName," in dit gebied (").concat(self.state.ideas&&self.state.ideas.length||0,")")}return selectedLocationHTML||selectedIdeaHTML||defaultBlockHTML?React.createElement("div",{className:"osc-selection-block"},defaultBlockHTML,selectedLocationHTML,selectedIdeaHTML):null}}]),Preview}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__.Z)},6705:(e,t,n)=>{"use strict";n.d(t,{default:()=>s.Z});n(7147),n(7810),n(9116);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=(n(3591),n(1583));s.Z.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(s.Z,{attributes:n,config:t}),e)}},8269:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeasOverview});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5991),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7961),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2150),_image_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4315);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeasOverview=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__.Z)(IdeasOverview,_OpenStadComponent);var _super=_createSuper(IdeasOverview);function IdeasOverview(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__.Z)(this,IdeasOverview),(t=_super.call(this,e,{idea:{showVoteButtons:!0,titleField:"title",summaryField:"summary",minimumYesVotes:void 0},display:{type:"tiles",columns:4,showStatusLabel:!1,showTheme:!1,showArea:!1,showVoteProgressbar:!1,showStats:!1,showTypeIcon:!1,onMouseOverTileFadeOthers:!1},image:{},argument:{isActive:!0,ignoreReactionsForIdeaIds:""},vote:{isViewable:!0,voteValues:[{value:"yes"},{value:"no"}]},types:[],typeField:"typeId"})).config.image.allowMultipleImages=!1,t.state={idea:t.props.idea||{}},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__.Z)(IdeasOverview,[{key:"dispatchIdeaTileClick",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchIdeaTileMouseEnter",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-mouse-enter",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchIdeaTileMouseLeave",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-mouse-leave",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"render",value:function render(){var self=this,idea=self.state.idea,statusLabelHTML=null;self.config.display.showStatusLabel;var themeAndAreaHTML=null;if(self.config.display.showTheme||self.config.display.showArea){var areaHTML=null;self.config.display.showArea&&idea.extraData.area&&(areaHTML=React.createElement("div",{className:"osc-area"},idea.extraData.area)),themeAndAreaHTML=React.createElement("div",{className:"osc-theme-and-area"},self.config.display.showTheme&&idea.extraData.theme&&React.createElement("div",{className:"osc-theme"},idea.extraData.theme),self.config.display.showTheme&&idea.extraData.theme&&self.config.display.showArea&&idea.extraData.area&&React.createElement("div",{className:"osc-divider"}),self.config.display.showArea&&idea.extraData.area&&React.createElement("div",{className:"osc-area"},idea.extraData.area))}var statsHTML=null;if(self.config.display.showStats){var stats=[];this.config.idea.showVoteButtons&&1==this.config.vote.isViewable&&this.config.vote.voteValues.find((function(e){return"yes"===e.value}))&&stats.push(React.createElement("div",{className:"osc-yes-votes"},idea.yes||0)),this.config.idea.showVoteButtons&&1==this.config.vote.isViewable&&this.config.vote.voteValues.find((function(e){return"no"===e.value}))&&stats.push(React.createElement("div",{className:"osc-no-votes"},idea.no||0));var argcountHTML=null;this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")))&&stats.push(React.createElement("div",{className:"osc-reactions"},idea.argCount||0)),statsHTML=React.createElement("div",{className:"osc-idea-stats-container"},stats.map((function(e,t){return React.createElement("div",{className:"osc-stat",key:"osc-stat-".concat(idea.id,"-").concat(t)},e)})))}var voteProgressHTML=null;self.config.display.showVoteProgressbar&&(console.log(idea.progress),voteProgressHTML=React.createElement("div",{className:"osc-progress-container"},React.createElement("div",{className:"osc-progress"},React.createElement("div",{className:"osc-progress-bar osc-status-open",style:{width:idea.progress+"%"}}),React.createElement("div",{className:"osc-progress-target"},self.config.idea.minimumYesVotes))));var typeIconHTML=null;if(self.config.display.showTypeIcon){var ideaTypeValue;try{ideaTypeValue=eval("idea.".concat(self.config.typeField))}catch(e){ideaTypeValue=""}var typeDef=self.config.types.find((function(e){return ideaTypeValue&&(e.id==ideaTypeValue||e.name==ideaTypeValue)}));typeDef&&typeDef.listicon||(typeDef={listicon:{html:""}});try{"string"==typeof typeDef.listicon&&(typeDef.listicon=JSON.parse(typeDef.listicon))}catch(e){}typeDef.listicon.html&&(typeIconHTML=React.createElement("div",{className:"osc-typeicon"},React.createElement("div",{className:"osc-typeicon-content",dangerouslySetInnerHTML:{__html:typeDef.listicon.html}})))}return React.createElement("div",{id:self.divId,className:"osc-idea-tile osc-displaytype-".concat(self.config.display.type," osc-column osc-").concat(self.config.display.columns,"-columns ").concat(self.props.className||""),onClick:function(e){return self.dispatchIdeaTileClick(e,idea)},onMouseEnter:function(e){return self.dispatchIdeaTileMouseEnter(e,idea)},onMouseLeave:function(e){return self.dispatchIdeaTileMouseLeave(e,idea)}},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_4__.IdeaImage,{config:this.config,idea,key:"image-"+idea.id})),React.createElement("div",{className:"osc-idea-tile-content"},statusLabelHTML,React.createElement("h4",{className:"osc-title"},eval("idea.".concat(self.config.idea.titleField))),themeAndAreaHTML,React.createElement("div",{className:"osc-summary"},eval("idea.".concat(self.config.idea.summaryField))),voteProgressHTML,statsHTML),React.createElement("div",{className:"osc-idea-tile-content-alt"},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_4__.IdeaImage,{config:this.config,idea,key:"image-"+idea.id})),React.createElement("h4",{className:"osc-title"},eval("idea.".concat(self.config.idea.titleField))),eval("idea.".concat(self.config.idea.summaryField)),statsHTML),typeIconHTML)}}]),IdeasOverview}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__.Z)},7234:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeasFilter});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7961);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeasFilter=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__.Z)(IdeasFilter,_OpenStadComponent);var _super=_createSuper(IdeasFilter);function IdeasFilter(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.Z)(this,IdeasFilter),(t=_super.call(this,e)).doFilter=t.doFilter.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.setFilter=t.setFilter.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.state={currentValue:t.config.defaultValue},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__.Z)(IdeasFilter,[{key:"componentDidMount",value:function(e,t){this.state.currentValue&&this.setFilter({value:this.state.currentValue})}},{key:"doFilter",value:function doFilter(ideas,value){var self=this;return value=value||this.state.currentValue,ideas=ideas.filter((function(idea){var fieldName=self.config.fieldName,fieldValue=eval("idea.".concat(fieldName));return fieldValue==value})),ideas}},{key:"setFilter",value:function(e){var t=e.value,n=this;this.setState({currentValue:t},(function(){var e=new window.CustomEvent("osc-ideas-filter-onchange",{detail:{fieldName:n.config.fieldName,value:t,doFilter:n.doFilter}});document.dispatchEvent(e)}))}},{key:"render",value:function(){var e=this;if(0==e.config.showFilter)return null;var t=null;return e.config.label&&(t=React.createElement("div",{className:"osc-filter-label"},e.config.label,":")),React.createElement("div",{className:"osc-ideas-filter ".concat(e.props.className||"")},t,React.createElement("select",{value:e.state.currentValue,onChange:function(){return e.setFilter({value:e.filterSelector.value})},className:"osc-default-select",ref:function(t){return e.filterSelector=t}},e.config.filterOptions.map((function(e,t){return React.createElement("option",{value:e.value,key:"filter-option-"+t},e.label)}))))}}]),IdeasFilter}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__.Z)},7530:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeasSearch});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7961);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeasSearch=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__.Z)(IdeasSearch,_OpenStadComponent);var _super=_createSuper(IdeasSearch);function IdeasSearch(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.Z)(this,IdeasSearch),(t=_super.call(this,e,{placeholder:"Zoeken",fieldNames:["title","summary"],showSearch:!0,showButton:!1,showSuggestions:!1,defaultValue:""})).doSearch=t.doSearch.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.setSearch=t.setSearch.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.state={currentValue:t.config.defaultValue},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__.Z)(IdeasSearch,[{key:"componentDidMount",value:function(e,t){this.state.currentValue&&this.setFilter({value:this.state.currentValue})}},{key:"doSearch",value:function doSearch(ideas,value){var self=this;return value=value||this.state.currentValue,ideas=ideas.filter((function(idea){var found=!1;return self.config.fieldNames.forEach((function(fieldName){var fieldValue=eval("idea.".concat(fieldName));fieldValue.match(new RegExp(value,"i"))&&(found=!0)})),found})),ideas}},{key:"setSearch",value:function(e){var t=e.value,n=this;this.setState({currentValue:t},(function(){var e=new window.CustomEvent("osc-ideas-search-onchange",{detail:{value:t,doSearch:n.doSearch}});document.dispatchEvent(e)}))}},{key:"showSuggestions",value:function(){}},{key:"hideSuggestions",value:function(){}},{key:"render",value:function(){var e=this;if(0==e.config.showSearch)return null;var t=null;e.config.label&&(t=React.createElement("div",{className:"osc-search-label"},e.config.label,":"));return React.createElement("div",{className:"osc-ideas-search ".concat(e.props.className||"")},t,null,React.createElement("input",{type:"text",value:this.state.currentValue,placeholder:e.config.placeholder,onChange:function(){return e.setSearch({value:e.searchInput.value})},onBlur:function(){return e.hideSuggestions()},onFocus:function(){return e.showSuggestions()},className:"osc-default-input osc-ideas-search-input",ref:function(t){return e.searchInput=t}}),React.createElement("button",{className:"osc-ideas-search-button".concat(this.state.currentValue?" osc-active":""),onClick:function(t){return e.setSearch({value:""})},ref:function(t){return e.resetButton=t}}))}}]),IdeasSearch}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__.Z)},6623:(e,t,n)=>{"use strict";n.d(t,{IdeaTile:()=>_.Z,IdeasFilter:()=>y.Z,IdeasFilterbar:()=>w,IdeasList:()=>m,IdeasOverview:()=>M,IdeasSort:()=>P,default:()=>M});n(7147);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=(n(6014),n(6610)),c=n(5991),l=n(379),u=n(6070),d=n(7608),h=n(7961),f=n(2150),_=n(8269);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var m=function(e){(0,l.Z)(n,e);var t=p(n);function n(e){var i;(0,s.Z)(this,n);var o={idea:{titleField:"title",summaryField:"summary"},sort:{sortOptions:[{value:"createdtime,desc",label:"Nieuwste eerst"},{value:"createdtime,asc",label:"Oudste eerst"}],showSort:!0,defaultValue:"createdtime,desc"},types:[]};switch(e.config.display&&e.config.display.type){case"list":o.display={title:"Inzendingen",columns:1,showStatusLabel:!1,showTheme:!1,showArea:!1,showVoteProgressbar:!1,showStats:!0,showTypeIcon:!0,onMouseOverTileFadeOthers:!1};break;case"grid":o.display={title:"Inzendingen",columns:3,showStatusLabel:!1,showTheme:!0,showArea:!0,showVoteProgressbar:!1,showStats:!1,showTypeIcon:!1,onMouseOverTileFadeOthers:!1};break;default:o.display={title:"Inzendingen",type:"tiles",columns:4,showStatusLabel:!0,showTheme:!1,showArea:!1,showVoteProgressbar:!0,showStats:!0,showTypeIcon:!1,onMouseOverTileFadeOthers:!1}}return(i=t.call(this,e,o)).state={highLightIdeaId:null},i}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.ideaTileMouseEnterListener=function(e){n.onTileMouseEnter(e.detail)},document.addEventListener("osc-idea-tile-mouse-enter",n.ideaTileMouseEnterListener),n.ideaTileMouseLeaveListener=function(e){n.onTileMouseLeave(e.detail)},document.addEventListener("osc-idea-tile-mouse-leave",n.ideaTileMouseLeaveListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-idea-tile-mouse-enter",this.ideaTileMouseEnterListener),document.removeEventListener("osc-idea-tile-mouse-leave",this.ideaTileMouseLeaveListener)}},{key:"onTileMouseEnter",value:function(e){var t=e.idea;this.setState({highLightIdeaId:t.id})}},{key:"onTileMouseLeave",value:function(e){e.idea;this.setState({highLightIdeaId:null})}},{key:"render",value:function(){var e=this,t=this,n=t.props.ideas||[];return React.createElement("div",{className:"osc-tile-list-container osc-columns-container ".concat(t.props.className||"")},React.createElement("div",{className:"osc-tile-list osc-columns"},n.map((function(n,i){return React.createElement(_.Z,{config:t.config,idea:n,className:"".concat(e.config.display.onMouseOverTileFadeOthers&&t.state.highLightIdeaId&&t.state.highLightIdeaId!=n.id?" osc-opacity-65":""),key:"osc-idea-tile-".concat(n.id)})}))))}}]),n}(h.Z),g=n(6156),v=n(3349),y=n(7234),b=n(7530);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var w=function(e){(0,l.Z)(n,e);var t=E(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e,{display:{}})).doNextPendingResetAction=i.doNextPendingResetAction.bind((0,v.Z)(i)),i.state={pendingResetActions:[]},i}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.ideasSearchOnchangeListener=function(e){n.doNextPendingResetAction()},document.addEventListener("osc-ideas-search-onchange",n.ideasSearchOnchangeListener),n.ideasFilterOnchangeListener=function(e){n.hideMobileActiveSelector(),n.doNextPendingResetAction()},document.addEventListener("osc-ideas-filter-onchange",n.ideasFilterOnchangeListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-ideas-search-onchange",this.ideasSearchOnchangeListener),document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener)}},{key:"toggleMobileActiveSelector",value:function(e){this.state.mobileActiveSelector!=e?this.showMobileActiveSelector(e):this.hideMobileActiveSelector()}},{key:"showMobileActiveSelector",value:function(e){this.setState({mobileActiveSelector:e})}},{key:"hideMobileActiveSelector",value:function(){this.setState({mobileActiveSelector:null})}},{key:"resetAll",value:function(){var e=this;e.search&&e.state.pendingResetActions.push(e.search.setSearch),e.filters&&e.filters.forEach((function(t){e.state.pendingResetActions.push(t.setFilter)}));var t=new window.CustomEvent("osc-ideas-filter-reset-all",{detail:{}});document.dispatchEvent(t),e.doNextPendingResetAction()}},{key:"doNextPendingResetAction",value:function(){var e=this.state.pendingResetActions.shift();e&&e({value:""})}},{key:"render",value:function(){var e=this;if(!(void 0!==e.props.showFilterbar?e.props.showFilterbar:e.config.display.showFilterbar))return null;var t=null;e.config.search&&(t=React.createElement("div",{className:"osc-ideas-search-container"},React.createElement("div",{className:"osc-ideas-search-button",onClick:function(){return e.toggleMobileActiveSelector("search")}}),React.createElement(b.Z,{config:e.config.search,className:"".concat("search"==e.state.mobileActiveSelector?" osc-is-active":""),ref:function(t){return e.search=t}})));var n;n=React.createElement("button",{value:"reset",onClick:function(){return e.resetAll()},className:"osc-button osc-reset-button"},"Alles tonen");var i=null;if(e.config.filter&&e.config.filter.length){var o=e.filters&&e.filters.find((function(e){return e.state.currentValue}));e.filters=[],i=React.createElement("div",{className:"osc-ideas-filters-and-button-container"},React.createElement("div",{className:"osc-ideas-filter-button".concat(o?" osc-active":""),onClick:function(){return e.toggleMobileActiveSelector("filters")}}),React.createElement("div",{className:"osc-ideas-filters-container".concat("filters"==e.state.mobileActiveSelector?" osc-is-active":"")},e.config.filter.map((function(t,n){return React.createElement(y.Z,{config:t,className:"osc-align-right-container",key:"osc-ideas-filter-".concat(n),ref:function(t){return e.filters[n]=t}})}))),n)}var r;return r=React.createElement("div",{className:"osc-ideas-filters-and-reset-button-container"},i),React.createElement("div",{className:"osc-ideas-filterbar ".concat(e.props.className||"")},t,r)}}]),n}(h.Z);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var P=function(e){(0,l.Z)(n,e);var t=L(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e,{label:null,sortOptions:[{value:"createdtime,desc",label:"Nieuwste eerst"},{value:"createdtime,asc",label:"Oudste eerst"},{value:"title",label:"Titel"},{value:"random",label:"Willekeurig"},{value:"likes,desc",label:"Meeste likes"},{value:"likes,asc",label:"Minste likes"},{value:"args,desc",label:"Meeste reacties"},{value:"args,asc",label:"Minste reacties"},{value:"ranking,asc",label:"Ranglijst"}],defaultValue:"createdtime,desc",showSort:!0,center:{latitude:52.37104644463586,longitude:4.900402911007405}})).state={currentValue:i.config.defaultValue},i}return(0,c.Z)(n,[{key:"doSort",value:function(e){var t=e.ideas,n=e.sortOrder,i=e.center;return n=n||this.state.currentValue,i=i||this.config.center,f.ZP.ideasSort({ideas:t,sortOrder:n,center:i})}},{key:"setSortOrder",value:function(e){var t=e.sortOrder,n=this.props.ideas||[];n=this.doSort({ideas:n,sortOrder:t}),this.setState({ideas:n,currentValue:t},(function(){var e=new window.CustomEvent("osc-ideas-sort-onchange",{detail:n});document.dispatchEvent(e)}))}},{key:"render",value:function(){var e=this;e.props.ideas;if(!(e.config.sortOptions&&e.config.sortOptions.length&&(void 0!==e.props.showSort?e.props.showSort:e.config.showSort)))return null;var t=null;return e.config.label&&(t=React.createElement("div",{className:"osc-sort-label"},e.config.label,":")),React.createElement("div",{className:"osc-ideas-sort ".concat(e.props.className||"")},t,React.createElement("select",{defaultValue:e.state.currentValue,onChange:function(){return e.setSortOrder({sortOrder:e.sortSelector.value})},className:"osc-default-select",ref:function(t){return e.sortSelector=t}},e.config.sortOptions.map((function(e,t){return React.createElement("option",{value:e.value,key:"sort-option-"+t},e.label)}))))}}]),n}(h.Z);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var M=function(e){(0,l.Z)(n,e);var t=O(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e,{siteId:null,title:"Inzendingen",display:{showFilterbar:!0},idea:{titleField:"title",summaryField:"summary"},sort:{showSort:!0,defaultValue:"createdtime,desc"},filter:[],types:[],typeLabel:"Thema"})).state={ideas:i.props.ideas||[],filters:{},search:null},i}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.ideasFilterOnchangeListener=function(e){n.updateFilter(e.detail)},document.addEventListener("osc-ideas-filter-onchange",n.ideasFilterOnchangeListener),n.ideasSearchOnchangeListener=function(e){n.updateSearch(e.detail)},document.addEventListener("osc-ideas-search-onchange",n.ideasSearchOnchangeListener),n.ideasSortOnchangeListener=function(e){n.updateSort(e.detail)},document.addEventListener("osc-ideas-sort-onchange",n.ideasSortOnchangeListener),void 0===n.props.ideas&&n.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener),document.removeEventListener("osc-ideas-search-onchange",this.ideasSearchOnchangeListener),document.removeEventListener("osc-ideas-sort-onchange",this.ideasSortOnchangeListener)}},{key:"fetchData",value:function(){var e=this,t="".concat(e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea?summary=1&includeVoteCount=1&includeArgsCount=1"),n=f.ZP.api.getHeaders(e.config);fetch(t,{headers:n}).then((function(e){if(!e.ok)throw Error("Error fechting detail");return e.json()})).then((function(t){var n=t;n=e.sorter.doSort({ideas:n}),e.setState({ideas:n},(function(){}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}},{key:"updateFilter",value:function(e){var t=C({},this.state.filters);e.value?t[e.fieldName]={value:e.value,doFilter:e.doFilter}:delete t[e.fieldName],this.setState({filters:t})}},{key:"updateSearch",value:function(e){e=e.value?{value:e.value,doSearch:e.doSearch}:null,this.setState({search:e})}},{key:"updateSort",value:function(e){this.setState({ideas:e})}},{key:"render",value:function(){var e=this,t=void 0!==e.props.ideas?e.props.ideas:e.state.ideas||[],n=t;Object.keys(e.state.filters).forEach((function(t){var i=e.state.filters[t];n=i.doFilter(n)})),e.state.search&&(n=e.state.search.doSearch(n)),this.props.maxLength&&(n=t.slice(0,this.props.maxLength));var i=React.createElement("h3",{className:"osc-title"},e.config.title," (",n.length,")");return React.createElement("div",{id:e.id,className:"osc-ideas-overview ".concat(e.props.className||"")},React.createElement(w,{config:e.config,showFilterbar:e.props.showFilterbar,className:"osc-ideas-filterbar"}),React.createElement(P,{config:C({},e.config.sort),ideas:t,showSort:!e.props.hideSortButton,className:"osc-align-right-container",ref:function(t){return e.sorter=t}}),i,React.createElement(m,{config:e.config,ideas:n,className:""}))}}]),n}(h.Z);M.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(M,{attributes:n,config:t}),e)}},4315:(e,t,n)=>{"use strict";n.d(t,{IdeaImage:()=>y,Image:()=>g,default:()=>g});n(7147);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=(n(5784),n(484)),c=n(4699),l=n(6610),u=n(5991),d=n(379),h=n(6070),f=n(7608),_=n(1965),p=n.n(_);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,h.Z)(this,n)}}var g=function(e){(0,d.Z)(n,e);var t=m(n);function n(e){var i;(0,l.Z)(this,n);return(i=t.call(this,e)).config=p().recursive({image:{server:{},aspectRatio:"16x9",allowMultipleImages:!1}},i.config,i.props.config||{}),i.state={currentImageIndex:0,width:0},i}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this.mainElement&&this.mainElement.parentNode;e&&this.setState({width:e.offsetWidth})}},{key:"setCurrentImageIndex",value:function(e){this.setState({currentImageIndex:e})}},{key:"getImagesFromProps",value:function(){var e=this.props.images||[];this.props.image||e[this.state.currentImageIndex];return[this.props.image,e]}},{key:"getImageSrc",value:function(e){var t,n,i,o=this.getWidthHeight(),r=(0,c.Z)(o,2);if(n=r[0],i=r[1],n&&i&&(t=e,"object"==(0,s.Z)(e)&&e.src&&(t=e.src),t||(t=this.config.image.placeholderImageSrc),t&&this.config.image.server.srcExtension&&t.match(this.config.image.server.fetch))){var a=this.config.image.server.srcExtension;t+=a=a.replace(/\[\[width\]\]/g,n).replace(/\[\[height\]\]/g,i)}return t}},{key:"getAspectRatioFactor",value:function(){if(this.props.width&&this.props.height)return this.props.width/this.props.height;var e=this.config.image.aspectRatio.match(/(\d+)x(\d+)/);return e?e[1]/e[2]:16/9}},{key:"getWidthHeight",value:function(){var e=this.mainElement&&this.mainElement.parentNode,t=this.props.width||this.state.width||e&&e.offsetWidth;return[t,this.props.height||t*(1/this.getAspectRatioFactor())||void 0]}},{key:"render",value:function(){var e,t,n,i,r=this,a=this,s=a.getImagesFromProps(),l=(0,c.Z)(s,2);t=l[0],e=l[1];var u=a.getWidthHeight(),d=(0,c.Z)(u,2);if(n=d[0],i=d[1],a.config.image.allowMultipleImages&&e.length>1){var h=a.getImageSrc(t);return o().createElement("div",{id:a.divId,className:"osc-multiple-images ".concat(a.props.className||""),ref:function(e){return r.mainElement=e}},o().createElement("div",{className:"osc-image-spacer",style:{width:n,height:i}},o().createElement("div",{className:"osc-image",style:h?{backgroundImage:"url(".concat(h,")")}:{},key:"image-"+a.divId})),o().createElement("div",{className:"osc-multiple-images-thumbs",style:{height:.1*a.state.width}},e.map((function(e,t){var i=.1*n,r=i*a.getAspectRatioFactor(),s=1.05*r*t,c=a.getImageSrc(e);return o().createElement("div",{className:"osc-image-thumb-spacer",key:"osc-image-thumb-".concat(t),style:{left:s,width:r,height:i}},o().createElement("div",{className:"osc-image-thumb",style:c?{backgroundImage:"url(".concat(c,")"),zIndex:10-t}:{},onClick:function(e){return a.setCurrentImageIndex(t)}}))}))))}var f=a.getImageSrc(t);return o().createElement("div",{id:a.divId,className:"osc-image-spacer ".concat(a.props.className||""),style:{width:n,height:i},ref:function(e){return r.mainElement=e}},o().createElement("div",{className:"osc-image",style:f?{backgroundImage:"url(".concat(f,")")}:{},onClick:this.props.onClick,key:"image-"+a.divId}))}}]),n}(n(7961).Z);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,h.Z)(this,n)}}var y=function(e){(0,d.Z)(n,e);var t=v(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getImagesFromProps",value:function(){var e=this.props.idea;if(!e)return["",[""]];var t=e.extraData&&e.extraData.images||[];return[e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[this.state.currentImageIndex],t]}}]),n}(g);y.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(y,{attributes:n,config:t}),e)}},2150:(e,t,n)=>{"use strict";n.d(t,{Gp:()=>_,ZP:()=>m,C7:()=>p});n(7147),n(3804),n(7196),n(6832);var i=n(1965),o=n.n(i),r=n(484),a={get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==(0,r.Z)(t))try{t=JSON.stringify(t)}catch(e){}sessionStorage.setItem(e,t)}},remove:function(e){sessionStorage.removeItem(e)}};const s=a;function c(e){var t,n=window.location.search.match(/(?:\?|&)jwt=([A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*)(?:&|$)/);if(n){t=n[1],s.set("osc-jwt",t);var i=document.location.search.replace("jwt="+t,"");"?"==i&&(i=""),document.location.search=i}return t=s.get("osc-jwt"),e&&e.jwt&&(t=e.jwt,s.set("osc-jwt",t)),t}var l={getHeaders:function(e){var t=o().recursive({"Content-type":"application/json"},e&&e.api&&e.api.headers),n=c();return n&&(t=o().recursive({"X-Authorization":"Bearer "+n},t)),t}};var u={getLoginUrl:function(e){var t="returnTo="+encodeURIComponent(document.location.toString()),n=e.loginUrl||"/oauth/login?{returnTo}";return n=n.replace(/{returnTo}/,t)}};var d={admin:["admin","moderator","editor","member","anonymous","all"],moderator:["moderator","editor","member","anonymous","all"],editor:["editor","member","anonymous","all"],member:["member","anonymous","all"],anonymous:["anonymous","all"],all:["all"],owner:null};var h={getUser:function(e,t){t=t||function(e){console.log("getUser: next not defined."),console.log(e)};var n=e.user||s.get("osc-user");if(n)return t(null,n);var i=c(e);if(!i)return t(null,{});var o="".concat(e.api.url,"/oauth/site/").concat(e.siteId,"/me"),r={"X-Authorization":"Bearer ".concat(i),"Content-Type":"application/json"};fetch(o,{headers:r}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){s.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},getJWT:c,logout:function(e,t){t=t||function(e){console.log("logout: next not defined.")};var n=e.user||s.get("osc-user");if(n)return t(null,n);var i=c(e);if(!i)return t(null,{});var o=e.api.url+"/oauth/site/"+e.siteId+"/me";fetch(o,{headers:{"X-Authorization":"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){s.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},hasRole:function(e,t){var n=e.role;return Object.keys(d).includes(n)||(n="all"),d[n].includes(t)}};var f={get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==(0,r.Z)(t))try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)}},remove:function(e){localStorage.removeItem(e)}};function _(e,t,n){return e&&(e.className||(e.className=""),e.className.match(new RegExp(" ?"+t+"(?: |$)"))||(e.className=n&&n.before?t+" "+e.className:e.className+" "+t)),e}function p(e,t){return e&&e.className&&(e.className=e.className.replace(new RegExp(" ?"+t+"(?: |$)"),"")),e}const m={api:l,auth:u,user:h,ideasSort:function(e){var t=e.ideas,n=e.sortOrder,i=e.center;switch(n=n||"random"){case"title":t=t.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0}));break;case"ranking,asc":t=t.sort((function(e,t){return e.ranking-t.ranking}));break;case"likes,asc":t=t.sort((function(e,t){return e.yes-t.yes}));break;case"likes,desc":t=t.sort((function(e,t){return t.yes-e.yes}));break;case"createdtime,desc":t=t.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}));break;case"createdtime,asc":t=t.sort((function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}));break;case"distance":(i=i||{lat:52.37104644463586,lng:900402911007405}).coordinates&&(i.lat=i.coordinates[0],i.lng=i.coordinates[1]),t=t.map((function(e){return e._distance=Math.sqrt(Math.pow(e.location.coordinates[0]-i.lat,2)+Math.pow(e.location.coordinates[1]-i.lng,2)),e})).sort((function(e,t){return e._distance-t._distance}));break;case"args,desc":t=t.sort((function(e,t){return t.argCount-e.argCount}));break;case"args,asc":t=t.sort((function(e,t){return e.argCount-t.argCount}));break;default:t=t.sort((function(e,t){return Math.random()-.5}))}return t},localStorage:f,sessionStorage:a,reactTemplate:function(e){var t=e.html,n=void 0===t?"":t,i=arguments[0];delete i.html;var o=0;return Object.keys(i).forEach((function(e){var t=new RegExp("^((?:.|\n|\r)*)\\{".concat(e,"\\}((?:.|\n|\r)*)$"),"g").exec(n);t&&(o++,n=React.createElement("span",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:t[1]}}),i[e],React.createElement("span",{dangerouslySetInnerHTML:{__html:t[2]}})))})),0==o&&(n=React.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),n},addToClassname:_,removeFromClassName:p}},401:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>OpenStadComponentLightbox});var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(484),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7961);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var OpenStadComponentLightbox=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__.Z)(OpenStadComponentLightbox,_OpenStadComponent);var _super=_createSuper(OpenStadComponentLightbox);function OpenStadComponentLightbox(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.Z)(this,OpenStadComponentLightbox),(t=_super.call(this,e)).state={images:[],startIndex:0},t.recalcSizes=t.recalcSizes.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__.Z)(OpenStadComponentLightbox,[{key:"componentDidMount",value:function(e,t){var n=this;n.showLightBoxListener=function(e){n.showLightbox(e.detail)},document.addEventListener("osc-show-light-box",n.showLightBoxListener),document.body.appendChild(this.instance)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-show-light-box",this.showLightBoxListener)}},{key:"showLightbox",value:function showLightbox(data){var self=this,aspectRatio;try{aspectRatio=eval(data.aspectRatio.replace&&data.aspectRatio.replace("x","/"))}catch(e){}"number"!=typeof aspectRatio&&(aspectRatio=16/9),self.setState({images:data.images,startIndex:data.startIndex,aspectRatio},(function(){self.instance.style.display="block",self.recalcSizes()})),window.addEventListener("resize",self.recalcSizes)}},{key:"hideLightbox",value:function(){this.instance.style.display="none",window.removeEventListener("resize",this.recalcSizes)}},{key:"showImage",value:function(e,t){e.stopPropagation(),this.mainImage.src=t}},{key:"recalcSizes",value:function(){var e=this;if(e.mainContainer){var t=e.mainContainer.offsetWidth,n=e.mainContainer.offsetHeight;if(t/n>e.state.aspectRatio){var i=.8*n;e.mainImageContainer.style.height=i+"px",e.mainImageContainer.style.width=e.state.aspectRatio*i+"px",e.mainImageContainer.style.top=(n-i)/2+"px",e.mainImageContainer.style.left=(t-e.state.aspectRatio*i)/2+"px"}else{var o=t;e.mainImageContainer.style.width=o+"px",e.mainImageContainer.style.height=1/e.state.aspectRatio*o+"px",e.mainImageContainer.style.top=(n-1/e.state.aspectRatio*o)/2+"px",e.mainImageContainer.style.left=0}e.mainImage.style.width=e.mainImageContainer.style.width,e.mainImage.style.height=e.mainImageContainer.style.height;var r=e.state.aspectRatio*e.navigationContainer.offsetHeight,a=e.state.images.length*r+20*e.state.images.length;a>e.navigationContainer.offsetWidth&&(a=e.navigationContainer.offsetWidth,r=a/e.state.images.length-20),e.navigationContainer.style.width=a+"px",e.state.images.map((function(t,n){var i=parseInt(r);e["lighbox-image-container-".concat(n)].style.width=i+"px",e["lighbox-image-container-".concat(n)].style.height=parseInt(1/e.state.aspectRatio*i)+"px",e["lighbox-image-".concat(n)].style.width=e["lighbox-image-container-".concat(n)].style.width,e["lighbox-image-".concat(n)].style.height=e["lighbox-image-container-".concat(n)].style.height}))}}},{key:"getImageSrc",value:function(e){var t=e;return"object"==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7__.Z)(e)&&e.src&&(t=e.src),t}},{key:"render",value:function(){var e=this,t=this;return React.createElement("div",{className:"osc-lightbox",onClick:function(){e.hideLightbox()},ref:function(e){return t.instance=e}},React.createElement("div",{className:"osc-close-button",onClick:function(e){return t.hideLightbox(e)}}),React.createElement("div",{className:"osc-lightbox-main-container",ref:function(e){return t.mainContainer=e}},React.createElement("div",{className:"osc-image-container",ref:function(e){return t.mainImageContainer=e}},React.createElement("img",{src:t.state.images[t.state.startIndex]&&t.getImageSrc(t.state.images[t.state.startIndex]),ref:function(e){return t.mainImage=e}}))),React.createElement("div",{className:"osc-lightbox-navigation-container"},React.createElement("div",{className:"osc-lightbox-navigation",ref:function(e){return t.navigationContainer=e}},t.state.images.map((function(e,n){return React.createElement("div",{className:"osc-image-container",style:{backgroundImage:"url(".concat(t.getImageSrc(e),")")},onClick:function(n){return t.showImage(n,t.getImageSrc(e))},key:"lighbox-image-container-".concat(n),ref:function(e){return t["lighbox-image-container-".concat(n)]=e}},React.createElement("img",{src:t.getImageSrc(e),ref:function(e){return t["lighbox-image-".concat(n)]=e}}))})))))}}]),OpenStadComponentLightbox}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__.Z)},3778:(e,t,n)=>{"use strict";n.d(t,{default:()=>s.Z});n(7147),n(1457);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=(n(8743),n(401));s.Z.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(s.Z,{attributes:n,config:t}),e)}},3270:(e,t,n)=>{"use strict";n.d(t,{default:()=>p});n(7147),n(1457);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=(n(5153),n(6156)),c=n(6610),l=n(5991),u=n(379),d=n(6070),h=n(7608);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,d.Z)(this,n)}}var p=function(e){(0,u.Z)(n,e);var t=_(n);function n(e){var i;return(0,c.Z)(this,n),(i=t.call(this,e,{})).state={width:300,height:200,title:"Titel",text:"Tekst",buttonAction:function(){return alert("Knop actie")},buttonText:"Knop tekst",cancelText:"Annuleren"},i}return(0,l.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.showModalPopupListener=function(e){n.showModalPopup(e.detail)},document.addEventListener("osc-show-modal-popup",n.showModalPopupListener),document.body.appendChild(this.instance)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-show-modal-popup",this.showModalPopupListener)}},{key:"showModalPopup",value:function(e){var t=this;e.divId&&e.divId!=t.divId||t.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),(function(){t.instance.style.display="block"}))}},{key:"hideModalPopup",value:function(){this.instance.style.display="none"}},{key:"render",value:function(){var e=this,t=e.state.content||null;return t||(t=React.createElement("div",{className:"osc-modal-popup-content"},React.createElement("div",{className:"osc-modal-popup-header"},e.state.title),React.createElement("div",{className:"osc-modal-popup-text"},e.state.text),React.createElement("div",{className:"osc-modal-popup-buttons"},React.createElement("button",{onClick:e.state.buttonAction,className:"osc-button-blue"},e.state.buttonText),React.createElement("button",{onClick:function(){return e.hideModalPopup()},className:"osc-button-white"},"Annuleren")))),React.createElement("div",{id:"osc-modal-popup-container",ref:function(t){return e.instance=t}},React.createElement("div",{id:"osc-modal-popup",style:{top:"calc(50% - ( ".concat(e.state.height2," / 2 )px)"),left:"calc(50% - ( ".concat(e.state.width," / 2 )px)"),width:e.state.width,height:e.state.height}},t,React.createElement("div",{className:"osc-close-button",onClick:function(){return e.hideModalPopup()}})))}}]),n}(n(7961).Z);p.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(p,{attributes:n,config:t}),e)}},9738:(e,t,n)=>{"use strict";n.d(t,{default:()=>P});n(7147);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=(n(5123),n(6156)),c=n(6610),l=n(5991),u=n(3349),d=n(379),h=n(6070),f=n(7608),_=n(7961),p=n(2150),m=n(1588);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,h.Z)(this,n)}}var b=function(e){(0,d.Z)(n,e);var t=y(n);function n(e){var i;return(0,c.Z)(this,n),(i=t.call(this,e,{user:{},questionMinLength:30,questionMaxLength:500,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,allowChoiceTitles:!0})).state={user:e.user,pollId:e.pollId,poll:e.poll,isBusy:!1},i}return(0,l.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.state.user&&n.state.user.role?n.state.poll||n.fetchData():p.ZP.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},(function(e,t){n.setState({user:t},(function(){n.state.poll||n.fetchData()}))}))}},{key:"fetchData",value:function(e){var t=this;if(!t.state.pollId)return t.setState({poll:{question:"",choices:{1:{},2:{}}}});var n="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/poll/").concat(t.config.pollId,"?withUser=1&withVotes=1"),i=p.ZP.api.getHeaders(t.config);fetch(n,{headers:i}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(n){var i=v({},t.state);i.poll=n,t.setState(i,(function(){if(e)return e()}))})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"validatedResult",value:function(){var e=this,t=e.state.poll,n=e["question-input"],i=n.validate(),o={question:n.state.value,choices:{}};return Object.keys(t.choices).forEach((function(t){var n=e["title-input-".concat(t)],r=e["description-input-".concat(t)];(n&&n.state.value||r.state.value)&&(o.choices[t]={},e.config.allowChoiceTitles&&n.state.value&&(o.choices[t].title=n.state.value,n.validate()||(i=!1)),r.state.value&&(o.choices[t].description=r.state.value,r.validate()||(i=!1)))})),i?Object.keys(o.choices).length<2?null:o:null}},{key:"handleOnChange",value:function(e){var t=v({},this.state.poll);e.choice&&(t.choices[e.choice.id]={title:this.config.allowChoiceTitles&&e.choice.title,description:e.choice.description}),e.question&&(t.question=e.question),this.setState({poll:t},(function(){}))}},{key:"addChoice",value:function(){var e=v({},this.state.poll),t=Object.keys(e.choices).sort(),n=parseInt(t[t.length-1])+1;e.choices[n]={},this.setState({poll:e})}},{key:"canSubmit",value:function(){if(this.state.poll&&this.state.poll.can)return this.state.poll.can.edit;var e=this.config.requiredUserRole,t="moderator";return("anonymous"==e?t:"member"==e&&!0)||"editor"==e&&!0||"moderator"==e&&!0||"admin"==e&&!1}},{key:"submitForm",value:function(){var e=this;e.setState({isBusy:!0},(function(){var t=e.validatedResult();if(t){if(!e.canSubmit())return alert("Je bent niet ingelogd");var n=!0,i="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll"),o="POST";e.state.poll&&e.state.poll.id&&(i+="/".concat(e.state.poll.id),o="PUT",n=!1);var r=p.ZP.api.getHeaders(e.config),a=t;fetch(i,{method:o,headers:r,body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(i){var o=new CustomEvent("osc-new-poll-stored",{detail:i});n||(o=new CustomEvent("osc-poll-edited",{detail:i})),document.dispatchEvent(o),"function"==typeof e.config.onFinished&&e.config.onFinished(t)})).catch((function(t){console.log(t),t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1})}))}else e.setState({isBusy:!1})}))}},{key:"render",value:function(){var e=this,t=this,n=t.state.poll||{},i=null;t.config.formIntro&&(i=React.createElement("div",{className:"osc-intro"},t.config.formIntro));var o=null;if(t.canSubmit())o=React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){t.config.onFinished&&t.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(e){t.state.isBusy||t.submitForm()},className:"osc-button-blue osc-margin-left".concat(t.state.isBusy?" osc-disabled":"")},"Verzenden"));else{var r=p.ZP.auth.getLoginUrl(t.config);o=React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){t.config.onFinished&&t.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(){document.location.href=r},className:"osc-button-blue osc-not-logged-in-button osc-margin-left"},"Inloggen"))}return React.createElement("div",{id:t.divId,className:"osc-form",ref:function(e){return t.instance=e}},i,React.createElement("h4",null,"Vraag"),React.createElement(m.default.InputWithCounter,{config:{inputType:"text",minLength:t.config.questionMinLength,maxLength:t.config.questionMaxLength,placeholder:"Vraag"},value:n.question,onChange:function(e){return t.handleOnChange({question:e.value})},ref:function(e){return t["question-input"]=e}}),React.createElement("h4",null,"Keuzemogelijkheden"),React.createElement("ol",{className:"osc-poll-form-choices"},n&&n.choices&&Object.keys(n.choices).sort().map((function(e){var i=n.choices[e],o=null;return t.config.allowChoiceTitles&&(o=React.createElement(m.default.InputWithCounter,{config:{inputType:"text",minLength:t.config.titleMinLength,maxLength:t.config.titleMaxLength,placeholder:"Titel"},value:i.title,onChange:function(n){return t.handleOnChange({choice:{id:e,title:n.value}})},ref:function(n){return t["title-input-".concat(e)]=n}})),React.createElement("li",{className:"osc-poll-form-choice",key:"osc-key-".concat(e)},o,React.createElement(m.default.InputWithCounter,{config:{inputType:"text",minLength:t.config.descriptionMinLength,maxLength:t.config.descriptionMaxLength,placeholder:"Beschrijving"},value:i.description,onChange:function(n){return t.handleOnChange({choice:{id:e,description:n.value}})},ref:function(n){return t["description-input-".concat(e)]=n}}))}))),React.createElement("a",{className:"osc-add-choice-button",onClick:function(t){return e.addChoice()}},"Nog een keuzemogelijkheid toevoegen"),o)}}]),n}(_.Z);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,h.Z)(this,n)}}var P=function(e){(0,d.Z)(n,e);var t=L(n);function n(e){var i;(0,c.Z)(this,n),i=t.call(this,e,{siteId:null,ideaId:null,title:null,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",withPercentage:!0,allowChoiceTitles:!0,allowShowResultsIfNotVoted:!1});var o=(0,u.Z)(i);return o.hideEditForm=o.hideEditForm.bind(o),o.state={user:o.config.user,poll:e.poll,pollId:e.poll&&e.poll.id||o.config.pollId,selectedChoice:null,showResult:!1,showQuestion:!1,editMode:!1,showVoteSucceeded:!1},o.state.poll&&(o.parseVoteCount(o.state.poll),o.state.poll.userVote&&(o.state.selectedChoice=o.state.poll.userVote)),i}return(0,l.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.state.user&&n.state.user.role?!n.state.poll&&n.config.ideaId&&n.fetchData():p.ZP.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},(function(e,t){n.setState({user:t},(function(){!n.state.poll&&n.config.ideaId&&n.fetchData()}))}))}},{key:"fetchData",value:function(e){var t=this;if(!t.state.pollId)return t.setState({editMode:!0},(function(){}));var n="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/poll/").concat(t.state.pollId,"?withUser=1&withUserVote=1&withVoteCount=1&withVotes=1"),i=p.ZP.api.getHeaders(t.config);fetch(n,{headers:i}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(n){var i=w(w({},t.state),{},{showResult:!1,showQuestion:!1});i.poll=n,i.pollId=n.id,t.parseVoteCount(i.poll),i.poll.userVote&&(i.selectedChoice=i.poll.userVote),t.setState(i,(function(){if(e)return e()}))})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"parseVoteCount",value:function(e){e.voteCount&&Object.keys(e.choices).sort().forEach((function(t){var n=e.choices[t];n.votesAbs=e.voteCount[t],n.votesPrc=parseInt(e.voteCount[t]/e.voteCount.total*100),n.votesPrc=n.votesPrc||0}))}},{key:"showEditForm",value:function(){this.setState({editMode:!0})}},{key:"hideEditForm",value:function(){this.setState({editMode:!1},(function(){this.fetchData()}))}},{key:"setShowResult",value:function(){this.setState({showResult:!0})}},{key:"setShowQuestion",value:function(){this.setState({showQuestion:!0})}},{key:"selectChoice",value:function(e){this.setState({selectedChoice:e.choice})}},{key:"onReactionEdited",value:function(e){this.fetchData()}},{key:"isValid",value:function(){return!!this.state.selectedChoice}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.state.user;return p.ZP.user.hasRole(t,e)}},{key:"submitVote",value:function(){var e=this;e.setState({isBusy:!0},(function(){if(e.isValid()){if(!e.canSubmit())return alert("Je bent niet ingelogd");var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll/").concat(e.state.poll.id,"/vote"),n=p.ZP.api.getHeaders(e.config),i={choice:e.state.selectedChoice};fetch(t,{method:"POST",headers:n,body:JSON.stringify(i)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.fetchData((function(){e.setState({isBusy:!1,showVoteSucceeded:!0},(function(){var e=new CustomEvent("osc-poll-voted",{detail:t});document.dispatchEvent(e)}))})),"function"==typeof e.config.onSubmit&&e.config.onSubmit({description:e.state.description})})).catch((function(t){t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1,isValid:!1})}))}else e.setState({isBusy:!1,isValid:!1})}))}},{key:"deletePoll",value:function(){var e=this;e.setState({isBusy:!0},(function(){var t=e.state.poll;if(!(t&&t.can&&t.can.delete))return alert("U kunt deze poll niet verwijderen");if(!t||!t.id)return alert("U kunt deze poll niet verwijderen");var n="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll/").concat(e.state.poll.id),i=p.ZP.api.getHeaders(e.config);fetch(n,{method:"DELETE",headers:i}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(e){var t=new CustomEvent("osc-poll-deleted",{detail:e});document.dispatchEvent(t)})).catch((function(t){console.log(t),t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1})}))}))}},{key:"render",value:function(){var e=this,t=this,n=t.state.poll||{};if(t.state.editMode)return React.createElement("div",{id:this.id,className:t.props.className||"osc-poll",ref:function(t){e.instance=t}},React.createElement(b,{config:w(w({},t.config),{},{onFinished:t.hideEditForm}),pollId:t.state.poll&&t.state.poll.id,poll:t.state.poll,user:t.state.user}));var i=null;if(n&&n.choices&&!n.userVote||t.state.showQuestion){var o={name:"pollChoice",choices:[]};Object.keys(n.choices).sort().map((function(e){var i=t.config.allowChoiceTitles&&n.choices[e].title?"<h4>".concat(n.choices[e].title,"</h4>"):"";i+=n.choices[e].description||"",o.choices.push({dangerousDescription:i,value:e})}));var r=null;if(t.canSubmit())r=React.createElement("button",{onClick:function(e){t.state.isBusy||t.submitVote()},className:"osc-button-blue".concat(t.isValid()?"":" osc-disabled")},"Stemmen");else{var a=p.ZP.auth.getLoginUrl(t.config);r=React.createElement("button",{onClick:function(){p.ZP.localStorage.set("osc-poll-login-pending",!0),document.location.href=a},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen")}var s=null;!t.config.allowShowResultsIfNotVoted||n.userVote||t.state.showResult||(s=React.createElement("a",{className:"osc-show-result-button",onClick:function(t){return e.setShowResult()}},"Resultaat bekijken")),i=React.createElement("div",{className:"osc-poll-question osc-form"},React.createElement(m.default.Radios,{config:o,value:t.state.selectedChoice,onChange:function(e){return t.selectChoice({choice:e.value})},ref:function(e){return t.description=e}}),React.createElement("div",{className:"osc-poll-question-buttons"},r,s))}var c=null;if(n&&(n.userVote||t.state.showResult)){var l=null;t.state.showQuestion||n&&n.choices&&!n.userVote||(l=React.createElement("a",{className:"osc-show-question-button",onClick:function(t){return e.setShowQuestion()}},"Stem aanpassen"));var u=null;if(n.voteCount&&n.voteCount.total){var d=1==n.voteCount.total?"stem":"stemmen";u=React.createElement("div",null,"Totaal ",n.voteCount.total," ",d,React.createElement("br",null),React.createElement("br",null))}c=React.createElement("ul",{className:"osc-choices"},Object.keys(n.choices).sort().map((function(e){var i=n.choices[e],o=null;t.config.allowChoiceTitles&&i.title&&(o=React.createElement("h4",null,i.title));var r=null;i.description&&(r=React.createElement("div",null,i.description));var a=null;t.config.withPercentage&&(a=React.createElement("div",{className:"osc-percentage"},i.votesPrc,"%"));var s=React.createElement("div",{className:"osc-choice-default"},o,r,React.createElement("div",{className:"osc-choice-bar".concat(t.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-mask"}),React.createElement("div",{className:"osc-choice-bar-progress",style:{width:(i.votesPrc||0)+"%"}})),a);return React.createElement("li",{className:"osc-choice",key:"osc-key-".concat(e)},s)})),u,l)}var h=null;t.state.poll&&t.state.poll.can&&t.state.poll.can.edit&&(h=React.createElement("div",{className:"osc-editbuttons"},React.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(e){return t.showEditForm()}},"Bewerk poll"),React.createElement("button",{className:"osc-editbutton osc-delete",onClick:function(e){confirm("Weet u het zeker")&&t.deletePoll()}},"Verwijder poll")));var f=null;return t.state.showVoteSucceeded&&(f=React.createElement("div",{className:"osc-vote-succeeded"},"Uw stem is opgeslagen")),React.createElement("div",{id:this.id,className:t.props.className||"osc-poll",ref:function(t){e.instance=t}},h,f,React.createElement("h4",null,n.question),i,c,React.createElement("br",null),React.createElement("br",null))}}]),n}(_.Z);P.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(P,{attributes:n,config:t}),e)}},3377:(e,t,n)=>{"use strict";n.d(t,{default:()=>f});n(7147);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=(n(4803),n(6610)),c=n(5991),l=n(379),u=n(6070),d=n(7608);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var f=function(e){(0,l.Z)(n,e);var t=h(n);function n(e){return(0,s.Z)(this,n),t.call(this,e,{})}return(0,c.Z)(n,[{key:"render",value:function(){var e,t,n=this,i=this.props.previousAction||this.config.previousAction,o=this.props.previousUrl||this.config.previousUrl,r=this.props.previousIsDisabled||this.config.previousIsDisabled,a=this.props.previousLabel||this.config.previousLabel;o&&(i=function(){document.location.href="".concat(o)}),i&&(e=React.createElement("div",{className:"osc-previous-button".concat(r?" osc-disabled":""),onClick:function(e){return i(e)}},a));var s=this.props.nextAction||this.config.nextAction,c=this.props.nextUrl||this.config.nextUrl,l=this.props.nextIsDisabled||this.config.nextIsDisabled,u=this.props.nextLabel||this.config.nextLabel;return c&&(s=function(){document.location.href="".concat(c)}),s&&(t=React.createElement("div",{className:"osc-next-button".concat(l?" osc-disabled":""),onClick:function(e){return s(e)}},u)),React.createElement("div",{className:"osc-previous-next-button-block",ref:function(e){return n.instance=e}},e,t)}}]),n}(n(7961).Z);f.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(f,{attributes:n,config:t}),e)}},1662:(e,t,n)=>{"use strict";n.d(t,{default:()=>x});n(7147);var i=n(3804),o=n.n(i),r=n(7196),a=n.n(r),s=(n(8694),n(6156)),c=n(6610),l=n(5991),u=n(3349),d=n(379),h=n(6070),f=n(7608),_=n(7961),p=n(2150),m=n(1588);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,h.Z)(this,n)}}var v=function(e){(0,d.Z)(n,e);var t=g(n);function n(e){var i;return(0,c.Z)(this,n),(i=t.call(this,e,{argumentId:null,api:{url:null,headers:null},user:{},descriptionMinLength:30,descriptionMaxLength:500,requiredUserRole:"member",formIntro:"",placeholder:""})).state={description:i.config.description||"",isValid:!1,isBusy:!1},i}return(0,l.Z)(n,[{key:"handleOnChange",value:function(e){(e=e||{}).description&&(e.isValid=this.description.isValid()),this.setState(e)}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.props.user||{};return p.ZP.user.hasRole(t,e)}},{key:"submitForm",value:function(){var e=this;e.setState({isBusy:!0},(function(){if(e.description.validate({showWarning:!0})){if(!e.canSubmit())return alert("Je bent niet ingelogd");var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/argument").concat(e.config.argumentId?"/".concat(e.config.argumentId):""),n=p.ZP.api.getHeaders(e.config),i=e.config.argumentId?"PUT":"POST",o={parentId:e.config.parentId,sentiment:e.config.sentiment,description:e.state.description};fetch(t,{method:i,headers:n,body:JSON.stringify(o)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){"function"==typeof e.config.onSubmit&&e.config.onSubmit({description:e.state.description}),e.setState({description:"",isBusy:!1,isValid:!1},(function(){if(e.description.handleOnChange({value:""}),e.config.argumentId){var n=new CustomEvent("osc-reaction-edited",{detail:t});document.dispatchEvent(n)}else{var i=new CustomEvent("osc-new-reaction-stored",{detail:t});document.dispatchEvent(i)}}))})).catch((function(t){t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1,isValid:!1})}))}else e.setState({isBusy:!1,isValid:!1})}))}},{key:"render",value:function(){var e=this,t={descriptionMinLength:e.config.descriptionMinLength||30,descriptionMaxLength:e.config.descriptionMaxLength||500},n=null;e.config.formIntro&&(n=React.createElement("div",{className:"osc-intro"},e.config.formIntro));var i=null,o=null;if(e.canSubmit())i=React.createElement(m.default.InputWithCounter,{config:{inputType:"textarea",minLength:t.descriptionMinLength,maxLength:t.descriptionMaxLength,placeholder:e.config.placeholder},value:e.state.description,onChange:function(t){return e.handleOnChange({description:t.value})},ref:function(t){return e.description=t}}),o=React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(t){e.state.isBusy||e.submitForm()},className:"osc-button-blue".concat(!e.state.isValid||e.state.isBusy?" osc-disabled":"")},"Verzenden"));else{i=React.createElement("div",{style:{position:"relative"}},React.createElement(m.default.InputWithCounter,{disabled:!0,config:{inputType:"textarea",minLength:t.descriptionMinLength,maxLength:t.descriptionMaxLength,placeholder:e.config.placeholder},value:e.state.description,ref:function(t){return e.description=t}}),React.createElement("div",{onClick:function(){return e.config.showNotLoggedInPopup()},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}));var r=p.ZP.auth.getLoginUrl(e.config);o=React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(){p.ZP.localStorage.set("osc-login-pending-scroll-to-reactions",!0),p.ZP.localStorage.set("osc-login-pending-show-details",e.config.ideaId),document.location.href=r},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"))}return React.createElement("div",{id:e.divId,className:""},n,i,o)}}]),n}(_.Z);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,h.Z)(this,n)}}var w=function(e){(0,d.Z)(n,e);var t=E(n);function n(e){var i;return(0,c.Z)(this,n),(i=t.call(this,e,{siteId:null,ideaId:null,title:null,descriptionMinLength:30,descriptionMaxLength:500,api:{url:null,headers:null},requiredUserRole:"member",userNameFields:["displayName"]})).state={user:e.user,isMenuActive:!1,isReplyFromActive:!1,editMode:!1},i}return(0,l.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.newReactionStoredListener=function(e){n.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",n.newReactionStoredListener),n.reactionEditedListener=function(e){n.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",n.reactionEditedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener)}},{key:"showMenu",value:function(){this.setState({isMenuActive:!0})}},{key:"toggleReplyForm",value:function(){this.setState({isReplyFromActive:!this.state.isReplyFromActive})}},{key:"toggleEditForm",value:function(e){this.setState({editMode:!this.state.editMode})}},{key:"getUserName",value:function(e){var t=this.config.userNameFields;return Array.isArray(t)&&(t={or:[t]}),t.or.map((function(t){return Array.isArray(t)?t.map((function(t){return e[t]})).join(" "):e[t]})).find((function(e){return!!e}))}},{key:"canEdit",value:function(){return!this.config.isClosed&&this.props.data.can.edit}},{key:"canDelete",value:function(){return!this.config.isClosed&&this.props.data.can.delete}},{key:"canLike",value:function(){if(this.config.isClosed)return!1;var e=this.config.requiredUserRole,t=this.props.user&&this.props.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"editor"==t||"moderator"==t||"admin"==t)||"editor"==e&&("editor"==t||"moderator"==t||"admin"==t)||"moderator"==e&&("moderator"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"canReply",value:function(){return this.props.data.can.reply}},{key:"userIsModerator",value:function(){return p.ZP.user.hasRole(this.config.user,"moderator")}},{key:"submitDelete",value:function(){var e=this;if(!e.canDelete())return alert("U kunt deze reactie niet verwijderen");var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/argument/").concat(e.props.data.id),n=p.ZP.api.getHeaders(e.config);fetch(t,{method:"DELETE",headers:n,body:JSON.stringify({})}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.setState({isDeleted:!0});var n=new CustomEvent("osc-reaction-deleted",{detail:{ideaId:e.config.ideaId}});document.dispatchEvent(n)})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"submitLike",value:function(){var e=this;if(!e.canLike())return e.config.showNotLoggedInPopup();var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/argument/").concat(e.props.data.id,"/vote"),n=p.ZP.api.getHeaders(e.config);fetch(t,{method:"POST",headers:n,body:JSON.stringify({})}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.setState({yes:t.yes,hasUserVoted:t.hasUserVoted})})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"onNewReactionStored",value:function(e){this.setState({isMenuActive:!1,isReplyFromActive:!1})}},{key:"onReactionEdited",value:function(e){e.id==this.props.data.id&&this.setState({editMode:!1,isMenuActive:!1})}},{key:"render",value:function(){var e=this,t=e.props.data||{can:{}};if(t.isDeleted)return null;var i=e.getUserName(t.user),o=p.ZP.user.hasRole(t.user,"editor")?"osc-is-admin":"",r=React.createElement("div",{className:"osc-reaction-user ".concat(o)},i),a=null;e.canEdit()&&e.canDelete()&&(a=React.createElement("div",{className:"osc-reaction-menu".concat(e.state.isMenuActive?" osc-reaction-hamburger-active":""),onClick:function(){e.showMenu()}},React.createElement("a",{className:"osc-reaction-delete",title:"Argument verwijderen",onClick:function(){confirm("Weet u het zeker?")&&e.submitDelete()}}),React.createElement("a",{className:"osc-reaction-edit",title:"Argument bewerken",onClick:function(){return e.toggleEditForm()}})));var s=React.createElement("div",{className:"osc-reaction-description",dangerouslySetInnerHTML:{__html:t.description}});e.state.editMode&&(s=React.createElement("div",{className:"osc-reaction-description"},React.createElement(v,{config:b(b({},e.config),{},{description:t.description,argumentId:t.id}),user:e.state.user,ref:function(t){return e.editForm=t}})));var c=null;t.parentId||e.config.isVotingEnabled&&(c=!e.config.isClosed||e.userIsModerator()?React.createElement("a",{className:"osc-reaction-like-button".concat((void 0!==e.state.hasUserVoted?e.state.hasUserVoted:t.hasUserVoted)?" osc-reaction-like-button-hasvoted":""),onClick:function(){return e.submitLike()}},"Mee eens (",React.createElement("span",null,0|(void 0!==e.state.yes?e.state.yes:t.yes)),")"):React.createElement("div",{className:"osc-reaction-like-button".concat((void 0!==e.state.hasUserVoted?e.state.hasUserVoted:t.hasUserVoted)?" osc-reaction-like-button-hasvoted":"")},"Mee eens (",React.createElement("span",null,0|(void 0!==e.state.yes?e.state.yes:t.yes)),")"));var l=null,u=null;if(e.config.isReplyingEnabled&&e.canReply()&&(!e.config.isClosed||e.userIsModerator())&&(l=React.createElement("a",{onClick:function(){return e.toggleReplyForm()},className:"osc-reply-button"},"Reageren"),e.state.isReplyFromActive)){var d=b(b({},e.config),{},{parentId:t.id});d.formIntro="",u=React.createElement("div",{id:"osc-reaction-".concat(t.id),className:"osc-reply"},React.createElement(v,{config:d,user:e.state.user,ref:function(t){return e.editForm=t}}))}var h=null;return t.reactions&&t.reactions.length&&(h=React.createElement("ul",{className:"osc-reactions-list"},t.reactions.map((function(t){var i="osc-reaction-key-".concat(t.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:i},React.createElement(n,{config:e.config,className:"osc-reply",user:e.state.user,data:t}))})))),React.createElement("div",null,React.createElement("div",{id:"osc-reaction-".concat(t.id),className:e.props.className||"osc-reaction"},a,r,React.createElement("div",{className:"osc-reaction-date"},t.createDateHumanized),s,c,l),u,h)}}]),n}(_.Z),L=n(3270);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,h.Z)(this,n)}}var k=function(e){(0,d.Z)(n,e);var t=P(n);function n(e){return(0,c.Z)(this,n),t.call(this,e,{loginUrl:""})}return(0,l.Z)(n,[{key:"showPopup",value:function(){var e=this,t=p.ZP.auth.getLoginUrl(e.config),n=new window.CustomEvent("osc-show-modal-popup",{detail:{divId:e.divId,title:"Login om verder te gaan",text:"Login om een argument te plaatsen, te reageren of een argument te liken",buttonAction:function(){p.ZP.localStorage.set("osc-login-pending-scroll-to-reactions",!0),p.ZP.localStorage.set("osc-login-pending-show-details",e.config.ideaId),document.location.href=t},buttonText:"Inloggen"}});document.dispatchEvent(n)}},{key:"render",value:function(){return React.createElement(L.default,{id:this.divId,ref:function(e){return self.modalPopup=e}})}}]),n}(_.Z);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,h.Z)(this,n)}}var x=function(e){(0,d.Z)(n,e);var t=M(n);function n(e){var i;return(0,c.Z)(this,n),(i=t.call(this,e,{scrollToNewReaction:!0,isClosed:!1,sentiment:void 0,siteId:null,ideaId:null,title:null,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",placeholder:"",formIntro:"",emptyListText:"Nog geen argumenten",isReplyingEnabled:!0,isVotingEnabled:!0})).showNotLoggedInPopup=i.showNotLoggedInPopup.bind((0,u.Z)(i)),i.state={user:i.config.user,reactions:null},i}return(0,l.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.state.user&&n.state.user.role?n.fetchData():p.ZP.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},(function(e,t){n.setState({user:t},(function(){n.fetchData()}))})),n.newReactionStoredListener=function(e){n.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",n.newReactionStoredListener),n.reactionEditedListener=function(e){n.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",n.reactionEditedListener),n.reactionDeletedListener=function(e){n.onReactionDeleted(e.detail)},document.addEventListener("osc-reaction-deleted",n.reactionDeletedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener)}},{key:"fetchData",value:function(e){var t=this,n="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/argument?sentiment=").concat(t.config.sentiment,"&withUser=1&withUserVote=1&withVoteCount=1&includeReactionsOnReactions=1"),i=p.ZP.api.getHeaders(t.config);fetch(n,{headers:i}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(n){var i=O({},t.state);i.reactions=n,i.reactions.sort((function(e,t){return e.createdAt<t.createdAt})),t.setState(i,(function(){if(e)return e()}))})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"onNewReactionStored",value:function(e){var t=this;this.fetchData((function(){t.config.scrollToNewReaction&&(document.getElementById("osc-reaction-".concat(e.id))&&document.getElementById("osc-reaction-".concat(e.id)).scrollIntoView())}))}},{key:"onReactionEdited",value:function(e){this.fetchData()}},{key:"onReactionDeleted",value:function(e){this.fetchData()}},{key:"userIsModerator",value:function(){return p.ZP.user.hasRole(this.config.user,"moderator")}},{key:"showNotLoggedInPopup",value:function(){this.notLoggedInPopup.showPopup()}},{key:"render",value:function(){var e=this,t=this,n=null;Array.isArray(t.state.reactions)&&(n=t.state.reactions.length>0?React.createElement("ul",{className:"osc-reactions-list"},t.state.reactions.map((function(e){var n="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:n},React.createElement(w,{config:O(O({},t.config),{},{showNotLoggedInPopup:t.showNotLoggedInPopup}),user:t.state.user,data:O({},e)}))}))):React.createElement("div",{className:"osc-empty-list-text"},t.config.emptyListText));var i=t.config.title?React.createElement("h3",null,t.config.title):null,o=React.createElement(v,{config:O(O({},t.config),{},{showNotLoggedInPopup:t.showNotLoggedInPopup}),user:t.state.user});return t.config.isClosed&&!t.userIsModerator()&&(o=t.config.closedText?React.createElement("div",{className:"osc-closed-text"},t.config.closedText):null),React.createElement("div",{id:this.id,className:t.props.className||"osc-reactions",ref:function(t){e.instance=t}},React.createElement(k,{config:t.config,ref:function(e){return t.notLoggedInPopup=e}}),i,o,n,React.createElement("br",null),React.createElement("br",null))}}]),n}(_.Z);x.renderElement=function(e,t){var n=e.attributes;a().render(o().createElement(x,{attributes:n,config:t}),e)}},1457:(e,t,n)=>{n(4553);var i=n(2649);e.exports=i("Array","findIndex")},4794:(e,t,n)=>{n(9826);var i=n(2649);e.exports=i("Array","find")},3462:(e,t,n)=>{n(6699);var i=n(2649);e.exports=i("Array","includes")},9116:(e,t,n)=>{n(9601);var i=n(857);e.exports=i.Object.assign},4533:(e,t,n)=>{n(2023);var i=n(2649);e.exports=i("String","includes")},3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},1223:(e,t,n)=>{var i=n(5112),o=n(30),r=n(3070),a=i("unscopables"),s=Array.prototype;null==s[a]&&r.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},9670:(e,t,n)=>{var i=n(111);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},1318:(e,t,n)=>{var i=n(5656),o=n(7466),r=n(1400),a=function(e){return function(t,n,a){var s,c=i(t),l=o(c.length),u=r(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},2092:(e,t,n)=>{var i=n(9974),o=n(8361),r=n(7908),a=n(7466),s=n(5417),c=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,d=6==e,h=5==e||d;return function(f,_,p,m){for(var g,v,y=r(f),b=o(y),E=i(_,p,3),w=a(b.length),L=0,P=m||s,k=t?P(f,w):n?P(f,0):void 0;w>L;L++)if((h||L in b)&&(v=E(g=b[L],L,y),e))if(t)k[L]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return L;case 2:c.call(k,g)}else if(u)return!1;return d?-1:l||u?u:k}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},9207:(e,t,n)=>{var i=n(9781),o=n(7293),r=n(6656),a=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(r(s,e))return s[e];t||(t={});var n=[][e],l=!!r(t,"ACCESSORS")&&t.ACCESSORS,u=r(t,0)?t[0]:c,d=r(t,1)?t[1]:void 0;return s[e]=!!n&&!o((function(){if(l&&!i)return!0;var e={length:-1};l?a(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,u,d)}))}},5417:(e,t,n)=>{var i=n(111),o=n(3157),r=n(5112)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[r])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9920:(e,t,n)=>{var i=n(6656),o=n(3887),r=n(1236),a=n(3070);e.exports=function(e,t){for(var n=o(t),s=a.f,c=r.f,l=0;l<n.length;l++){var u=n[l];i(e,u)||s(e,u,c(t,u))}}},4964:(e,t,n)=>{var i=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},8880:(e,t,n)=>{var i=n(9781),o=n(3070),r=n(9114);e.exports=i?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9781:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var i=n(7854),o=n(111),r=i.document,a=o(r)&&o(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},2649:(e,t,n)=>{var i=n(7854),o=n(9974),r=Function.call;e.exports=function(e,t,n){return o(r,i[e].prototype[t],n)}},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var i=n(7854),o=n(1236).f,r=n(8880),a=n(1320),s=n(3505),c=n(9920),l=n(4705);e.exports=function(e,t){var n,u,d,h,f,_=e.target,p=e.global,m=e.stat;if(n=p?i:m?i[_]||s(_,{}):(i[_]||{}).prototype)for(u in t){if(h=t[u],d=e.noTargetGet?(f=o(n,u))&&f.value:n[u],!l(p?u:_+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&r(h,"sham",!0),a(n,u,h,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9974:(e,t,n)=>{var i=n(3099);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},5005:(e,t,n)=>{var i=n(857),o=n(7854),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e])||r(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},7854:(e,t,n)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||Function("return this")()},6656:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},3501:e=>{e.exports={}},490:(e,t,n)=>{var i=n(5005);e.exports=i("document","documentElement")},4664:(e,t,n)=>{var i=n(9781),o=n(7293),r=n(317);e.exports=!i&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var i=n(7293),o=n(4326),r="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?r.call(e,""):Object(e)}:Object},2788:(e,t,n)=>{var i=n(5465),o=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return o.call(e)}),e.exports=i.inspectSource},9909:(e,t,n)=>{var i,o,r,a=n(8536),s=n(7854),c=n(111),l=n(8880),u=n(6656),d=n(6200),h=n(3501),f=s.WeakMap;if(a){var _=new f,p=_.get,m=_.has,g=_.set;i=function(e,t){return g.call(_,e,t),t},o=function(e){return p.call(_,e)||{}},r=function(e){return m.call(_,e)}}else{var v=d("state");h[v]=!0,i=function(e,t){return l(e,v,t),t},o=function(e){return u(e,v)?e[v]:{}},r=function(e){return u(e,v)}}e.exports={set:i,get:o,has:r,enforce:function(e){return r(e)?o(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},3157:(e,t,n)=>{var i=n(4326);e.exports=Array.isArray||function(e){return"Array"==i(e)}},4705:(e,t,n)=>{var i=n(7293),o=/#|\.prototype\./,r=function(e,t){var n=s[a(e)];return n==l||n!=c&&("function"==typeof t?i(t):!!t)},a=r.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=r.data={},c=r.NATIVE="N",l=r.POLYFILL="P";e.exports=r},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var i=n(111),o=n(4326),r=n(5112)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==o(e))}},133:(e,t,n)=>{var i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},8536:(e,t,n)=>{var i=n(7854),o=n(2788),r=i.WeakMap;e.exports="function"==typeof r&&/native code/.test(o(r))},3929:(e,t,n)=>{var i=n(7850);e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},1574:(e,t,n)=>{"use strict";var i=n(9781),o=n(7293),r=n(1956),a=n(5181),s=n(5296),c=n(7908),l=n(8361),u=Object.assign,d=Object.defineProperty;e.exports=!u||o((function(){if(i&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||r(u({},t)).join("")!=o}))?function(e,t){for(var n=c(e),o=arguments.length,u=1,d=a.f,h=s.f;o>u;)for(var f,_=l(arguments[u++]),p=d?r(_).concat(d(_)):r(_),m=p.length,g=0;m>g;)f=p[g++],i&&!h.call(_,f)||(n[f]=_[f]);return n}:u},30:(e,t,n)=>{var i,o=n(9670),r=n(6048),a=n(748),s=n(3501),c=n(490),l=n(317),u=n(6200),d=u("IE_PROTO"),h=function(){},f=function(e){return"<script>"+e+"</"+"script>"},_=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;_=i?function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete _.prototype[a[n]];return _()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=o(e),n=new h,h.prototype=null,n[d]=e):n=_(),void 0===t?n:r(n,t)}},6048:(e,t,n)=>{var i=n(9781),o=n(3070),r=n(9670),a=n(1956);e.exports=i?Object.defineProperties:function(e,t){r(e);for(var n,i=a(t),s=i.length,c=0;s>c;)o.f(e,n=i[c++],t[n]);return e}},3070:(e,t,n)=>{var i=n(9781),o=n(4664),r=n(9670),a=n(7593),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var i=n(9781),o=n(5296),r=n(9114),a=n(5656),s=n(7593),c=n(6656),l=n(4664),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=a(e),t=s(t,!0),l)try{return u(e,t)}catch(e){}if(c(e,t))return r(!o.f.call(e,t),e[t])}},8006:(e,t,n)=>{var i=n(6324),o=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},6324:(e,t,n)=>{var i=n(6656),o=n(5656),r=n(1318).indexOf,a=n(3501);e.exports=function(e,t){var n,s=o(e),c=0,l=[];for(n in s)!i(a,n)&&i(s,n)&&l.push(n);for(;t.length>c;)i(s,n=t[c++])&&(~r(l,n)||l.push(n));return l}},1956:(e,t,n)=>{var i=n(6324),o=n(748);e.exports=Object.keys||function(e){return i(e,o)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},3887:(e,t,n)=>{var i=n(5005),o=n(8006),r=n(5181),a=n(9670);e.exports=i("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=r.f;return n?t.concat(n(e)):t}},857:(e,t,n)=>{var i=n(7854);e.exports=i},1320:(e,t,n)=>{var i=n(7854),o=n(8880),r=n(6656),a=n(3505),s=n(2788),c=n(9909),l=c.get,u=c.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||r(n,"name")||o(n,"name",t),u(n).source=d.join("string"==typeof t?t:"")),e!==i?(c?!h&&e[t]&&(l=!0):delete e[t],l?e[t]=n:o(e,t,n)):l?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:(e,t,n)=>{var i=n(7854),o=n(8880);e.exports=function(e,t){try{o(i,e,t)}catch(n){i[e]=t}return t}},6200:(e,t,n)=>{var i=n(2309),o=n(9711),r=i("keys");e.exports=function(e){return r[e]||(r[e]=o(e))}},5465:(e,t,n)=>{var i=n(7854),o=n(3505),r="__core-js_shared__",a=i[r]||o(r,{});e.exports=a},2309:(e,t,n)=>{var i=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},1400:(e,t,n)=>{var i=n(9958),o=Math.max,r=Math.min;e.exports=function(e,t){var n=i(e);return n<0?o(n+t,0):r(n,t)}},5656:(e,t,n)=>{var i=n(8361),o=n(4488);e.exports=function(e){return i(o(e))}},9958:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:(e,t,n)=>{var i=n(9958),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},7908:(e,t,n)=>{var i=n(4488);e.exports=function(e){return Object(i(e))}},7593:(e,t,n)=>{var i=n(111);e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!i(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},9711:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:(e,t,n)=>{var i=n(133);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(e,t,n)=>{var i=n(7854),o=n(2309),r=n(6656),a=n(9711),s=n(133),c=n(3307),l=o("wks"),u=i.Symbol,d=c?u:u&&u.withoutSetter||a;e.exports=function(e){return r(l,e)||(s&&r(u,e)?l[e]=u[e]:l[e]=d("Symbol."+e)),l[e]}},4553:(e,t,n)=>{"use strict";var i=n(2109),o=n(2092).findIndex,r=n(1223),a=n(9207),s="findIndex",c=!0,l=a(s);s in[]&&Array(1).findIndex((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r(s)},9826:(e,t,n)=>{"use strict";var i=n(2109),o=n(2092).find,r=n(1223),a=n(9207),s="find",c=!0,l=a(s);s in[]&&Array(1).find((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r(s)},6699:(e,t,n)=>{"use strict";var i=n(2109),o=n(1318).includes,r=n(1223);i({target:"Array",proto:!0,forced:!n(9207)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},9601:(e,t,n)=>{var i=n(2109),o=n(1574);i({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},2023:(e,t,n)=>{"use strict";var i=n(2109),o=n(3929),r=n(4488);i({target:"String",proto:!0,forced:!n(4964)("includes")},{includes:function(e){return!!~String(r(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},7810:()=>{!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,i;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},7301:(e,t,n)=>{e.exports=n(2702).Promise},2702:function(e,t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,r=void 0,a=void 0,s=function(e,t){b[o]=e,b[o+1]=t,2===(o+=2)&&(a?a(E):L())};function c(e){a=e}function l(e){s=e}var u="undefined"!=typeof window?window:void 0,d=u||{},h=d.MutationObserver||d.WebKitMutationObserver,f="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),_="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){return function(){return process.nextTick(E)}}function m(){return function(){r(E)}}function g(){var e=0,t=new h(E),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function v(){var e=new MessageChannel;return e.port1.onmessage=E,function(){return e.port2.postMessage(0)}}function y(){var e=setTimeout;return function(){return e(E,1)}}var b=new Array(1e3);function E(){for(var e=0;e<o;e+=2)(0,b[e])(b[e+1]),b[e]=void 0,b[e+1]=void 0;o=0}function w(){try{var e=n(4327);return r=e.runOnLoop||e.runOnContext,m()}catch(e){return y()}}var L=void 0;function P(e,t){var n=arguments,i=this,o=new this.constructor(O);void 0===o[C]&&X(o);var r,a=i._state;return a?(r=n[a-1],s((function(){return V(a,o,r,i._result)}))):W(i,o,e,t),o}function k(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(O);return j(n,e),n}L=f?p():h?g():_?v():void 0===u?w():y();var C=Math.random().toString(36).substring(16);function O(){}var M=void 0,x=1,R=2,I=new K;function T(){return new TypeError("You cannot resolve a promise with itself")}function S(){return new TypeError("A promises callback cannot return that same promise.")}function D(e){try{return e.then}catch(e){return I.error=e,I}}function A(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function Z(e,t,n){s((function(e){var i=!1,o=A(n,t,(function(n){i||(i=!0,t!==n?j(e,n):q(e,n))}),(function(t){i||(i=!0,z(e,t))}),"Settle: "+(e._label||" unknown promise"));!i&&o&&(i=!0,z(e,o))}),e)}function B(e,t){t._state===x?q(e,t._result):t._state===R?z(e,t._result):W(t,void 0,(function(t){return j(e,t)}),(function(t){return z(e,t)}))}function N(e,n,i){n.constructor===e.constructor&&i===P&&n.constructor.resolve===k?B(e,n):i===I?z(e,I.error):void 0===i?q(e,n):t(i)?Z(e,n,i):q(e,n)}function j(t,n){t===n?z(t,T()):e(n)?N(t,n,D(n)):q(t,n)}function U(e){e._onerror&&e._onerror(e._result),F(e)}function q(e,t){e._state===M&&(e._result=t,e._state=x,0!==e._subscribers.length&&s(F,e))}function z(e,t){e._state===M&&(e._state=R,e._result=t,s(U,e))}function W(e,t,n,i){var o=e._subscribers,r=o.length;e._onerror=null,o[r]=t,o[r+x]=n,o[r+R]=i,0===r&&e._state&&s(F,e)}function F(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,o=void 0,r=e._result,a=0;a<t.length;a+=3)i=t[a],o=t[a+n],i?V(n,i,o,r):o(r);e._subscribers.length=0}}function K(){this.error=null}var H=new K;function G(e,t){try{return e(t)}catch(e){return H.error=e,H}}function V(e,n,i,o){var r=t(i),a=void 0,s=void 0,c=void 0,l=void 0;if(r){if((a=G(i,o))===H?(l=!0,s=a.error,a=null):c=!0,n===a)return void z(n,S())}else a=o,c=!0;n._state!==M||(r&&c?j(n,a):l?z(n,s):e===x?q(n,a):e===R&&z(n,a))}function J(e,t){try{t((function(t){j(e,t)}),(function(t){z(e,t)}))}catch(t){z(e,t)}}var Q=0;function Y(){return Q++}function X(e){e[C]=Q++,e._state=void 0,e._result=void 0,e._subscribers=[]}function $(e,t){this._instanceConstructor=e,this.promise=new e(O),this.promise[C]||X(this.promise),i(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?q(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&q(this.promise,this._result))):z(this.promise,ee())}function ee(){return new Error("Array Methods must be provided an Array")}function te(e){return new $(this,e).promise}function ne(e){var t=this;return i(e)?new t((function(n,i){for(var o=e.length,r=0;r<o;r++)t.resolve(e[r]).then(n,i)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function ie(e){var t=new this(O);return z(t,e),t}function oe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function re(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ae(e){this[C]=Y(),this._result=this._state=void 0,this._subscribers=[],O!==e&&("function"!=typeof e&&oe(),this instanceof ae?J(this,e):re())}function se(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=ae}return $.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===M&&n<e;n++)this._eachEntry(t[n],n)},$.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===k){var o=D(e);if(o===P&&e._state!==M)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===ae){var r=new n(O);N(r,e,o),this._willSettleAt(r,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},$.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===M&&(this._remaining--,e===R?z(i,n):this._result[t]=n),0===this._remaining&&q(i,this._result)},$.prototype._willSettleAt=function(e,t){var n=this;W(e,void 0,(function(e){return n._settledAt(x,t,e)}),(function(e){return n._settledAt(R,t,e)}))},ae.all=te,ae.race=ne,ae.resolve=k,ae.reject=ie,ae._setScheduler=c,ae._setAsap=l,ae._asap=s,ae.prototype={constructor:ae,then:P,catch:function(e){return this.then(null,e)}},se(),ae.polyfill=se,ae.Promise=ae,ae}()},5732:function(e,t){!function(e){"use strict";var t=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,n=this._zoom;if(e.__parent)for(;t.__parent._zoom>=n;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var n,i=this._featureGroup,o=this._nonPointGroup,r=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,c=e.length,l=0,u=!0;if(this._map){var d=(new Date).getTime(),h=L.bind((function(){var f=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();l<c&&!(r&&l%200==0&&(new Date).getTime()-f>a);l++)if((n=e[l])instanceof L.LayerGroup)u&&(e=e.slice(),u=!1),this._extractNonGroupLayers(n,e),c=e.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),t||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var _=n.__parent.getAllChildMarkers(),p=_[0]===n?_[1]:_[0];i.removeLayer(p)}}else o.addLayer(n),t||this.fire("layeradd",{layer:n});s&&s(l,c,(new Date).getTime()-d),l===c?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(h,this.options.chunkDelay)}),this);h()}else for(var f=this._needsClustering;l<c;l++)(n=e[l])instanceof L.LayerGroup?(u&&(e=e.slice(),u=!1),this._extractNonGroupLayers(n,e),c=e.length):n.getLatLng?this.hasLayer(n)||f.push(n):o.addLayer(n);return this},removeLayers:function(e){var t,n,i=e.length,o=this._featureGroup,r=this._nonPointGroup,a=!0;if(!this._map){for(t=0;t<i;t++)(n=e[t])instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),i=e.length):(this._arraySplice(this._needsClustering,n),r.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=e.slice(),c=i;for(t=0;t<c;t++)(n=s[t])instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),c=s.length):this._unspiderfyLayer(n)}for(t=0;t<i;t++)(n=e[t])instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),i=e.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),o.hasLayer(n)&&(o.removeLayer(n),n.clusterShow&&n.clusterShow())):(r.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var n,i,o,r=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),i=r.length-1;i>=0;i--){for(n=!0,o=a.length-1;o>=0;o--)if(a[o].layer===r[i]){n=!1;break}n&&e.call(t,r[i])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer((function(t){e.push(t)})),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer((function(n){L.stamp(n)===e&&(t=n)})),t},hasLayer:function(e){if(!e)return!1;var t,n=this._needsClustering;for(t=n.length-1;t>=0;t--)if(n[t]===e)return!0;for(t=(n=this._needsRemoving).length-1;t>=0;t--)if(n[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){var n=this._map;"function"!=typeof t&&(t=function(){});var i=function(){!n.hasLayer(e)&&!n.hasLayer(e.__parent)||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),n.hasLayer(e)?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",i,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",i,this),this.on("animationend",i,this),e.__parent.zoomToBounds())},onAdd:function(e){var t,n,i;if(this._map=e,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,n=this._needsRemoving.length;t<n;t++)(i=this._needsRemoving[t]).newlatlng=i.layer._latlng,i.layer._latlng=i.latlng;for(t=0,n=this._needsRemoving.length;t<n;t++)i=this._needsRemoving[t],this._removeLayer(i.layer,!0),i.layer._latlng=i.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return e.splice(n,1),!0},_removeFromGridUnclustered:function(e,t){for(var n=this._map,i=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());t>=o&&i[t].removeObject(e,n.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,n){e._latlng=t,this.removeLayer(e),e._latlng=n,this.addLayer(e)},_childMarkerDragEnd:function(e){var t=e.target.__dragStart;delete e.target.__dragStart,t&&this._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,n){var i=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var c,l=e.__parent,u=l._markers;for(this._arraySplice(u,e);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<s));)t&&l._childCount<=1?(c=l._markers[0]===e?l._markers[1]:l._markers[0],i[l._zoom].removeObject(l,a.project(l._cLatLng,l._zoom)),o[l._zoom].addObject(c,a.project(c.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(c),c.__parent=l.__parent,l._icon&&(r.removeLayer(l),n||r.addLayer(c))):l._iconNeedsUpdate=!0,l=l.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,n){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,n)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),n=" marker-cluster-";return n+=t<10?"small":t<100?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,o=this.options.spiderfyOnEveryZoom;(t||i||o)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){var t=e.layer,n=t;if("clusterkeypress"!==e.type||!e.originalEvent||13===e.originalEvent.keyCode){for(;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),this.options.spiderfyOnEveryZoom&&t.spiderfy(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()}},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,i=this.options.spiderfyOnEveryZoom,o=this._map;(e||n||i)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),o.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,i=n;"function"!=typeof n&&(i=function(){return n}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var o=e;o>=t;o--)this._gridClusters[o]=new L.DistanceGrid(i(o)),this._gridUnclustered[o]=new L.DistanceGrid(i(o));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var n,i,o=this._gridClusters,r=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t>=a;t--){n=this._map.project(e.getLatLng(),t);var s=o[t].getNearObject(n);if(s)return s._addChild(e),void(e.__parent=s);if(s=r[t].getNearObject(n)){var c=s.__parent;c&&this._removeLayer(s,!1);var l=new this._markerCluster(this,t,s,e);o[t].addObject(l,this._map.project(l._cLatLng,t)),s.__parent=l,e.__parent=l;var u=l;for(i=t-1;i>c._zoom;i--)u=new this._markerCluster(this,i,u),o[i].addObject(u,this._map.project(s.getLatLng(),i));return c._addChild(u),void this._removeFromGridUnclustered(s,t)}r[t].addObject(e,n)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}))},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return void 0!==t&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var n=t.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var n,i=e.getLayers(),o=0;for(t=t||[];o<i.length;o++)(n=i[o])instanceof L.LayerGroup?this._extractNonGroupLayers(n,t):t.push(n);return t},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var n,i=this._getExpandedVisibleBounds(),o=this._featureGroup,r=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(i,e,r,(function(r){var a,s=r._latlng,c=r._markers;for(i.contains(s)||(s=null),r._isSingleParent()&&e+1===t?(o.removeLayer(r),r._recursivelyAddChildrenToMap(null,t,i)):(r.clusterHide(),r._recursivelyAddChildrenToMap(s,t,i)),n=c.length-1;n>=0;n--)a=c[n],i.contains(a._latlng)||o.removeLayer(a)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,t),o.eachLayer((function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()})),this._topClusterLevel._recursively(i,e,t,(function(e){e._recursivelyRestoreChildPositions(t)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(i,e,r,(function(e){o.removeLayer(e),e.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var n=this,i=this._featureGroup;i.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue((function(){i.removeLayer(e),e.clusterShow(),n._animationEnd()}))):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,n){var i=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(i,o,t+1,n);var r=this;this._forceLayout(),e._recursivelyBecomeVisible(i,n),this._enqueue((function(){if(1===e._childCount){var a=e._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else e._recursively(i,n,o,(function(e){e._recursivelyRemoveChildrenFromMap(i,o,t+1)}));r._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(e,t){e=e||[];for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n].getAllChildMarkers(e,t);for(var i=this._markers.length-1;i>=0;i--)t&&this._markers[i].__dragStart||e.push(this._markers[i]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,n=this._childClusters.slice(),i=this._group._map,o=i.getBoundsZoom(this._bounds),r=this._zoom+1,a=i.getZoom();n.length>0&&o>r;){r++;var s=[];for(t=0;t<n.length;t++)s=s.concat(n[t]._childClusters);n=s}o>r?this._group._map.setView(this._latlng,r):o<=a?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,n,i,o=this._markers,r=this._childClusters,a=0,s=0,c=this._childCount;if(0!==c){for(this._resetBounds(),e=0;e<o.length;e++)n=o[e]._latlng,this._bounds.extend(n),a+=n.lat,s+=n.lng;for(e=0;e<r.length;e++)(t=r[e])._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),n=t._wLatLng,i=t._childCount,a+=n.lat*i,s+=n.lng*i;this._latlng=this._wLatLng=new L.LatLng(a/c,s/c),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,n){this._recursively(e,this._group._map.getMinZoom(),n-1,(function(e){var n,i,o=e._markers;for(n=o.length-1;n>=0;n--)(i=o[n])._icon&&(i._setPos(t),i.clusterHide())}),(function(e){var n,i,o=e._childClusters;for(n=o.length-1;n>=0;n--)(i=o[n])._icon&&(i._setPos(t),i.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,n,i){this._recursively(e,i,t,(function(o){o._recursivelyAnimateChildrenIn(e,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),n),o._isSingleParent()&&n-1===i?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(e,t,n)):o.clusterHide(),o._addToMap()}))},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,(function(e){e.clusterShow()}))},_recursivelyAddChildrenToMap:function(e,t,n){this._recursively(n,this._group._map.getMinZoom()-1,t,(function(i){if(t!==i._zoom)for(var o=i._markers.length-1;o>=0;o--){var r=i._markers[o];n.contains(r._latlng)&&(e&&(r._backupLatlng=r.getLatLng(),r.setLatLng(e),r.clusterHide&&r.clusterHide()),i._group._featureGroup.addLayer(r))}}),(function(t){t._addToMap(e)}))},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var n=this._markers[t];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(e-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,n,i){var o,r;this._recursively(e,t-1,n-1,(function(e){for(r=e._markers.length-1;r>=0;r--)o=e._markers[r],i&&i.contains(o._latlng)||(e._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}),(function(e){for(r=e._childClusters.length-1;r>=0;r--)o=e._childClusters[r],i&&i.contains(o._latlng)||(e._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}))},_recursively:function(e,t,n,i,o){var r,a,s=this._childClusters,c=this._zoom;if(t<=c&&(i&&i(this),o&&c===n&&o(this)),c<t||c<n)for(r=s.length-1;r>=0;r--)(a=s[r])._boundsNeedUpdate&&a._recalculateBounds(),e.intersects(a._bounds)&&a._recursively(e,t,n,i,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var e=this.options.opacity;return this.setOpacity(0),this.options.opacity=e,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var n=this._getCoord(t.x),i=this._getCoord(t.y),o=this._grid,r=o[i]=o[i]||{},a=r[n]=r[n]||[],s=L.Util.stamp(e);this._objectPoint[s]=t,a.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var n,i,o=this._getCoord(t.x),r=this._getCoord(t.y),a=this._grid,s=a[r]=a[r]||{},c=s[o]=s[o]||[];for(delete this._objectPoint[L.Util.stamp(e)],n=0,i=c.length;n<i;n++)if(c[n]===e)return c.splice(n,1),1===i&&delete s[o],!0},eachObject:function(e,t){var n,i,o,r,a,s,c=this._grid;for(n in c)for(i in a=c[n])for(o=0,r=(s=a[i]).length;o<r;o++)e.call(t,s[o])&&(o--,r--)},getNearObject:function(e){var t,n,i,o,r,a,s,c,l=this._getCoord(e.x),u=this._getCoord(e.y),d=this._objectPoint,h=this._sqCellSize,f=null;for(t=u-1;t<=u+1;t++)if(o=this._grid[t])for(n=l-1;n<=l+1;n++)if(r=o[n])for(i=0,a=r.length;i<a;i++)s=r[i],((c=this._sqDist(d[L.Util.stamp(s)],e))<h||c<=h&&null===f)&&(h=c,f=s);return f},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}},L.QuickHull={getDistant:function(e,t){var n=t[1].lat-t[0].lat;return(t[0].lng-t[1].lng)*(e.lat-t[0].lat)+n*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var n,i,o,r=0,a=null,s=[];for(n=t.length-1;n>=0;n--)i=t[n],(o=this.getDistant(i,e))>0&&(s.push(i),o>r&&(r=o,a=i));return{maxPoint:a,newPoints:s}},buildConvexHull:function(e,t){var n=[],i=this.findMostDistantPointFromBaseLine(e,t);return i.maxPoint?n=(n=n.concat(this.buildConvexHull([e[0],i.maxPoint],i.newPoints))).concat(this.buildConvexHull([i.maxPoint,e[1]],i.newPoints)):[e[0]]},getConvexHull:function(e){var t,n=!1,i=!1,o=!1,r=!1,a=null,s=null,c=null,l=null,u=null,d=null;for(t=e.length-1;t>=0;t--){var h=e[t];(!1===n||h.lat>n)&&(a=h,n=h.lat),(!1===i||h.lat<i)&&(s=h,i=h.lat),(!1===o||h.lng>o)&&(c=h,o=h.lng),(!1===r||h.lng<r)&&(l=h,r=h.lng)}return i!==n?(d=s,u=a):(d=l,u=c),[].concat(this.buildConvexHull([d,u],e),this.buildConvexHull([u,d],e))}},L.MarkerCluster.include({getConvexHull:function(){var e,t,n=this.getAllChildMarkers(),i=[];for(t=n.length-1;t>=0;t--)e=n[t].getLatLng(),i.push(e);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(null,!0),n=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?e=this._group.options.spiderfyShapePositions(t.length,n):t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,n):(n.y+=10,e=this._generatePointsCircle(t.length,n)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var n,i,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e)/this._2PI,r=this._2PI/e,a=[];for(o=Math.max(o,35),a.length=e,n=0;n<e;n++)i=this._circleStartAngle+n*r,a[n]=new L.Point(t.x+o*Math.cos(i),t.y+o*Math.sin(i))._round();return a},_generatePointsSpiral:function(e,t){var n,i=this._group.options.spiderfyDistanceMultiplier,o=i*this._spiralLengthStart,r=i*this._spiralFootSeparation,a=i*this._spiralLengthFactor*this._2PI,s=0,c=[];for(c.length=e,n=e;n>=0;n--)n<e&&(c[n]=new L.Point(t.x+o*Math.cos(s),t.y+o*Math.sin(s))._round()),o+=a/(s+=r/o+5e-4*n);return c},_noanimationUnspiderfy:function(){var e,t,n=this._group,i=n._map,o=n._featureGroup,r=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),t=r.length-1;t>=0;t--)e=r[t],o.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(i.removeLayer(e._spiderLeg),delete e._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:r}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var n,i,o,r,a=this._group,s=a._map,c=a._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<e.length;n++)r=s.layerPointToLatLng(t[n]),i=e[n],o=new L.Polyline([this._latlng,r],l),s.addLayer(o),i._spiderLeg=o,i._preSpiderfyLatlng=i._latlng,i.setLatLng(r),i.setZIndexOffset&&i.setZIndexOffset(1e6),c.addLayer(i);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var n,i,o,r,a,s,c=this,l=this._group,u=l._map,d=l._featureGroup,h=this._latlng,f=u.latLngToLayerPoint(h),_=L.Path.SVG,p=L.extend({},this._group.options.spiderLegPolylineOptions),m=p.opacity;for(void 0===m&&(m=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),_?(p.opacity=0,p.className=(p.className||"")+" leaflet-cluster-spider-leg"):p.opacity=m,l._ignoreMove=!0,n=0;n<e.length;n++)i=e[n],s=u.layerPointToLatLng(t[n]),o=new L.Polyline([h,s],p),u.addLayer(o),i._spiderLeg=o,_&&(a=(r=o._path).getTotalLength()+.1,r.style.strokeDasharray=a,r.style.strokeDashoffset=a),i.setZIndexOffset&&i.setZIndexOffset(1e6),i.clusterHide&&i.clusterHide(),d.addLayer(i),i._setPos&&i._setPos(f);for(l._forceLayout(),l._animationStart(),n=e.length-1;n>=0;n--)s=u.layerPointToLatLng(t[n]),(i=e[n])._preSpiderfyLatlng=i._latlng,i.setLatLng(s),i.clusterShow&&i.clusterShow(),_&&((r=(o=i._spiderLeg)._path).style.strokeDashoffset=0,o.setStyle({opacity:m}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout((function(){l._animationEnd(),l.fire("spiderfied",{cluster:c,markers:e})}),200)},_animationUnspiderfy:function(e){var t,n,i,o,r,a,s=this,c=this._group,l=c._map,u=c._featureGroup,d=e?l._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):l.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(null,!0),f=L.Path.SVG;for(c._ignoreMove=!0,c._animationStart(),this.setOpacity(1),n=h.length-1;n>=0;n--)(t=h[n])._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,a=!0,t._setPos&&(t._setPos(d),a=!1),t.clusterHide&&(t.clusterHide(),a=!1),a&&u.removeLayer(t),f&&(r=(o=(i=t._spiderLeg)._path).getTotalLength()+.1,o.style.strokeDashoffset=r,i.setStyle({opacity:0})));c._ignoreMove=!1,setTimeout((function(){var e=0;for(n=h.length-1;n>=0;n--)(t=h[n])._spiderLeg&&e++;for(n=h.length-1;n>=0;n--)(t=h[n])._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&u.removeLayer(t),l.removeLayer(t._spiderLeg),delete t._spiderLeg);c._animationEnd(),c.fire("unspiderfied",{cluster:s,markers:h})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,n;for(t in e)for(n=e[t].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,n;for(t in e)n=e[t],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(e,t){var n=this.options.icon;return L.setOptions(n,e),this.setIcon(n),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=t,e.MarkerCluster=n,Object.defineProperty(e,"__esModule",{value:!0})}(t)},5243:function(e,t){!function(e){"use strict";var t="1.7.1";function n(e){var t,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(t in o=arguments[n])e[t]=o[t];return e}var i=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function o(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}var r=0;function a(e){return e._leaflet_id=e._leaflet_id||++r,e._leaflet_id}function s(e,t,n){var i,o,r,a;return a=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(e.apply(n,arguments),setTimeout(a,t),i=!0)},r}function c(e,t,n){var i=t[1],o=t[0],r=i-o;return e===i&&n?e:((e-o)%r+r)%r+o}function l(){return!1}function u(e,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return d(e).split(/\s+/)}function f(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?i(e.options):{}),t)e.options[n]=t[n];return e.options}function _(e,t,n){var i=[];for(var o in e)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(e[o]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}var p=/\{ *([\w_-]+) *\}/g;function m(e,t){return e.replace(p,(function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"==typeof i&&(i=i(t)),i}))}var g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var E=0;function w(e){var t=+new Date,n=Math.max(0,16-(t-E));return E=t+n,window.setTimeout(e,n)}var P=window.requestAnimationFrame||b("RequestAnimationFrame")||w,k=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function C(e,t,n){if(!n||P!==w)return P.call(window,o(e,t));e.call(t)}function O(e){e&&k.call(window,e)}var M={extend:n,create:i,bind:o,lastId:r,stamp:a,throttle:s,wrapNum:c,falseFn:l,formatNum:u,trim:d,splitWords:h,setOptions:f,getParamString:_,template:m,isArray:g,indexOf:v,emptyImageUrl:y,requestFn:P,cancelFn:k,requestAnimFrame:C,cancelAnimFrame:O};function x(){}function R(e){if("undefined"!=typeof L&&L&&L.Mixin){e=g(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}x.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=t.__super__=this.prototype,r=i(o);for(var a in r.constructor=t,t.prototype=r,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&(n(t,e.statics),delete e.statics),e.includes&&(R(e.includes),n.apply(null,[r].concat(e.includes)),delete e.includes),r.options&&(e.options=n(i(r.options),e.options)),n(r,e),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=r._initHooks.length;e<t;e++)r._initHooks[e].call(this)}},t},x.include=function(e){return n(this.prototype,e),this},x.mergeOptions=function(e){return n(this.prototype.options,e),this},x.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var I={on:function(e,t,n){if("object"==typeof e)for(var i in e)this._on(i,e[i],t);else for(var o=0,r=(e=h(e)).length;o<r;o++)this._on(e[o],t,n);return this},off:function(e,t,n){if(e)if("object"==typeof e)for(var i in e)this._off(i,e[i],t);else for(var o=0,r=(e=h(e)).length;o<r;o++)this._off(e[o],t,n);else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var i=this._events[e];i||(i=[],this._events[e]=i),n===this&&(n=void 0);for(var o={fn:t,ctx:n},r=i,a=0,s=r.length;a<s;a++)if(r[a].fn===t&&r[a].ctx===n)return;r.push(o)},_off:function(e,t,n){var i,o,r;if(this._events&&(i=this._events[e]))if(t){if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var a=i[o];if(a.ctx===n&&a.fn===t)return a.fn=l,this._firingCount&&(this._events[e]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,r=i.length;o<r;o++)i[o].fn=l;delete this._events[e]}},fire:function(e,t,i){if(!this.listens(e,i))return this;var o=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var r=this._events[e];if(r){this._firingCount=this._firingCount+1||1;for(var a=0,s=r.length;a<s;a++){var c=r[a];c.fn.call(c.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var i in this._eventParents)if(this._eventParents[i].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"==typeof e){for(var i in e)this.once(i,e[i],t);return this}var r=o((function(){this.off(e,t,n).off(e,r,n)}),this);return this.on(e,t,n).on(e,r,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var T=x.extend(I);function S(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var D=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function A(e,t,n){return e instanceof S?e:g(e)?new S(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new S(e.x,e.y):new S(e,t,n)}function Z(e,t){if(e)for(var n=t?[e,t]:e,i=0,o=n.length;i<o;i++)this.extend(n[i])}function B(e,t){return!e||e instanceof Z?e:new Z(e,t)}function N(e,t){if(e)for(var n=t?[e,t]:e,i=0,o=n.length;i<o;i++)this.extend(n[i])}function j(e,t){return e instanceof N?e:new N(e,t)}function U(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function q(e,t,n){return e instanceof U?e:g(e)&&"object"!=typeof e[0]?3===e.length?new U(e[0],e[1],e[2]):2===e.length?new U(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new U(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new U(e,t,n)}S.prototype={clone:function(){return new S(this.x,this.y)},add:function(e){return this.clone()._add(A(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(A(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new S(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new S(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(e){var t=(e=A(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=A(e)).x===this.x&&e.y===this.y},contains:function(e){return e=A(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},Z.prototype={extend:function(e){return e=A(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new S((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new S(this.min.x,this.max.y)},getTopRight:function(){return new S(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"==typeof e[0]||e instanceof S?A(e):B(e))instanceof Z?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=B(e);var t=this.min,n=this.max,i=e.min,o=e.max,r=o.x>=t.x&&i.x<=n.x,a=o.y>=t.y&&i.y<=n.y;return r&&a},overlaps:function(e){e=B(e);var t=this.min,n=this.max,i=e.min,o=e.max,r=o.x>t.x&&i.x<n.x,a=o.y>t.y&&i.y<n.y;return r&&a},isValid:function(){return!(!this.min||!this.max)}},N.prototype={extend:function(e){var t,n,i=this._southWest,o=this._northEast;if(e instanceof U)t=e,n=e;else{if(!(e instanceof N))return e?this.extend(q(e)||j(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||o?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new U(t.lat,t.lng),this._northEast=new U(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,o=Math.abs(t.lng-n.lng)*e;return new N(new U(t.lat-i,t.lng-o),new U(n.lat+i,n.lng+o))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof U||"lat"in e?q(e):j(e);var t,n,i=this._southWest,o=this._northEast;return e instanceof N?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=o.lat&&t.lng>=i.lng&&n.lng<=o.lng},intersects:function(e){e=j(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),o=e.getNorthEast(),r=o.lat>=t.lat&&i.lat<=n.lat,a=o.lng>=t.lng&&i.lng<=n.lng;return r&&a},overlaps:function(e){e=j(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),o=e.getNorthEast(),r=o.lat>t.lat&&i.lat<n.lat,a=o.lng>t.lng&&i.lng<n.lng;return r&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=j(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},U.prototype={equals:function(e,t){return!!e&&(e=q(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return F.distance(this,q(e))},wrap:function(){return F.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return j([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new U(this.lat,this.lng,this.alt)}};var z,W={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new Z(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?c(e.lng,this.wrapLng,!0):e.lng;return new U(this.wrapLat?c(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,o=t.lng-n.lng;if(0===i&&0===o)return e;var r=e.getSouthWest(),a=e.getNorthEast();return new N(new U(r.lat-i,r.lng-o),new U(a.lat-i,a.lng-o))}},F=n({},W,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,o=t.lat*n,r=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=r*r+Math.cos(i)*Math.cos(o)*a*a,c=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*c}}),K=6378137,H={R:K,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),o=Math.sin(i*t);return new S(this.R*e.lng*t,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(e){var t=180/Math.PI;return new U((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(z=K*Math.PI,new Z([-z,-z],[z,z]))};function G(e,t,n,i){if(g(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function V(e,t,n,i){return new G(e,t,n,i)}G.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new S((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var J=n({},F,{code:"EPSG:3857",projection:H,transformation:function(){var e=.5/(Math.PI*H.R);return V(e,.5,-e,.5)}()}),Q=n({},J,{code:"EPSG:900913"});function Y(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function X(e,t){var n,i,o,r,a,s,c="";for(n=0,o=e.length;n<o;n++){for(i=0,r=(a=e[n]).length;i<r;i++)c+=(i?"L":"M")+(s=a[i]).x+" "+s.y;c+=t?Re?"z":"x":""}return c||"M0 0"}var $=document.documentElement.style,ee="ActiveXObject"in window,te=ee&&!document.addEventListener,ne="msLaunchUri"in navigator&&!("documentMode"in document),ie=Te("webkit"),oe=Te("android"),re=Te("android 2")||Te("android 3"),ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),se=oe&&Te("Google")&&ae<537&&!("AudioNode"in window),ce=!!window.opera,le=!ne&&Te("chrome"),ue=Te("gecko")&&!ie&&!ce&&!ee,de=!le&&Te("safari"),he=Te("phantom"),fe="OTransition"in $,_e=0===navigator.platform.indexOf("Win"),pe=ee&&"transition"in $,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!re,ge="MozPerspective"in $,ve=!window.L_DISABLE_3D&&(pe||me||ge)&&!fe&&!he,ye="undefined"!=typeof orientation||Te("mobile"),be=ye&&ie,Ee=ye&&me,we=!window.PointerEvent&&window.MSPointerEvent,Le=!(!window.PointerEvent&&!we),Pe=!window.L_NO_TOUCH&&(Le||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),ke=ye&&ce,Ce=ye&&ue,Oe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Me=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",l,t),window.removeEventListener("testPassiveEventSupport",l,t)}catch(e){}return e}(),xe=!!document.createElement("canvas").getContext,Re=!(!document.createElementNS||!Y("svg").createSVGRect),Ie=!Re&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}();function Te(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Se={ie:ee,ielt9:te,edge:ne,webkit:ie,android:oe,android23:re,androidStock:se,opera:ce,chrome:le,gecko:ue,safari:de,phantom:he,opera12:fe,win:_e,ie3d:pe,webkit3d:me,gecko3d:ge,any3d:ve,mobile:ye,mobileWebkit:be,mobileWebkit3d:Ee,msPointer:we,pointer:Le,touch:Pe,mobileOpera:ke,mobileGecko:Ce,retina:Oe,passiveEvents:Me,canvas:xe,svg:Re,vml:Ie},De=we?"MSPointerDown":"pointerdown",Ae=we?"MSPointerMove":"pointermove",Ze=we?"MSPointerUp":"pointerup",Be=we?"MSPointerCancel":"pointercancel",Ne={},je=!1;function Ue(e,t,n,i){return"touchstart"===t?ze(e,n,i):"touchmove"===t?Ge(e,n,i):"touchend"===t&&Ve(e,n,i),this}function qe(e,t,n){var i=e["_leaflet_"+t+n];return"touchstart"===t?e.removeEventListener(De,i,!1):"touchmove"===t?e.removeEventListener(Ae,i,!1):"touchend"===t&&(e.removeEventListener(Ze,i,!1),e.removeEventListener(Be,i,!1)),this}function ze(e,t,n){var i=o((function(e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ft(e),He(e,t)}));e["_leaflet_touchstart"+n]=i,e.addEventListener(De,i,!1),je||(document.addEventListener(De,We,!0),document.addEventListener(Ae,Fe,!0),document.addEventListener(Ze,Ke,!0),document.addEventListener(Be,Ke,!0),je=!0)}function We(e){Ne[e.pointerId]=e}function Fe(e){Ne[e.pointerId]&&(Ne[e.pointerId]=e)}function Ke(e){delete Ne[e.pointerId]}function He(e,t){for(var n in e.touches=[],Ne)e.touches.push(Ne[n]);e.changedTouches=[e],t(e)}function Ge(e,t,n){var i=function(e){e.pointerType===(e.MSPOINTER_TYPE_MOUSE||"mouse")&&0===e.buttons||He(e,t)};e["_leaflet_touchmove"+n]=i,e.addEventListener(Ae,i,!1)}function Ve(e,t,n){var i=function(e){He(e,t)};e["_leaflet_touchend"+n]=i,e.addEventListener(Ze,i,!1),e.addEventListener(Be,i,!1)}var Je=we?"MSPointerDown":Le?"pointerdown":"touchstart",Qe=we?"MSPointerUp":Le?"pointerup":"touchend",Ye="_leaflet_";function Xe(e,t,n){var i,o,r=!1,a=250;function s(e){if(Le){if(!e.isPrimary)return;if("mouse"===e.pointerType)return}else if(e.touches.length>1)return;var t=Date.now(),n=t-(i||t);o=e.touches?e.touches[0]:e,r=n>0&&n<=a,i=t}function c(e){if(r&&!o.cancelBubble){if(Le){if("mouse"===e.pointerType)return;var n,a,s={};for(a in o)n=o[a],s[a]=n&&n.bind?n.bind(o):n;o=s}o.type="dblclick",o.button=0,t(o),i=null}}return e[Ye+Je+n]=s,e[Ye+Qe+n]=c,e[Ye+"dblclick"+n]=t,e.addEventListener(Je,s,!!Me&&{passive:!1}),e.addEventListener(Qe,c,!!Me&&{passive:!1}),e.addEventListener("dblclick",t,!1),this}function $e(e,t){var n=e[Ye+Je+t],i=e[Ye+Qe+t],o=e[Ye+"dblclick"+t];return e.removeEventListener(Je,n,!!Me&&{passive:!1}),e.removeEventListener(Qe,i,!!Me&&{passive:!1}),e.removeEventListener("dblclick",o,!1),this}var et,tt,nt,it,ot,rt=wt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),at=wt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),st="webkitTransition"===at||"OTransition"===at?at+"End":"transitionend";function ct(e){return"string"==typeof e?document.getElementById(e):e}function lt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function ut(e,t,n){var i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}function dt(e){var t=e.parentNode;t&&t.removeChild(e)}function ht(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ft(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function _t(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function pt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=yt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function mt(e,t){if(void 0!==e.classList)for(var n=h(t),i=0,o=n.length;i<o;i++)e.classList.add(n[i]);else if(!pt(e,t)){var r=yt(e);vt(e,(r?r+" ":"")+t)}}function gt(e,t){void 0!==e.classList?e.classList.remove(t):vt(e,d((" "+yt(e)+" ").replace(" "+t+" "," ")))}function vt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function yt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function bt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Et(e,t)}function Et(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}function wt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Lt(e,t,n){var i=t||new S(0,0);e.style[rt]=(pe?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Pt(e,t){e._leaflet_pos=t,ve?Lt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function kt(e){return e._leaflet_pos||new S(0,0)}if("onselectstart"in document)et=function(){Dt(window,"selectstart",Ft)},tt=function(){Zt(window,"selectstart",Ft)};else{var Ct=wt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);et=function(){if(Ct){var e=document.documentElement.style;nt=e[Ct],e[Ct]="none"}},tt=function(){Ct&&(document.documentElement.style[Ct]=nt,nt=void 0)}}function Ot(){Dt(window,"dragstart",Ft)}function Mt(){Zt(window,"dragstart",Ft)}function xt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Rt(),it=e,ot=e.style.outline,e.style.outline="none",Dt(window,"keydown",Rt))}function Rt(){it&&(it.style.outline=ot,it=void 0,ot=void 0,Zt(window,"keydown",Rt))}function It(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function Tt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var St={TRANSFORM:rt,TRANSITION:at,TRANSITION_END:st,get:ct,getStyle:lt,create:ut,remove:dt,empty:ht,toFront:ft,toBack:_t,hasClass:pt,addClass:mt,removeClass:gt,setClass:vt,getClass:yt,setOpacity:bt,testProp:wt,setTransform:Lt,setPosition:Pt,getPosition:kt,disableTextSelection:et,enableTextSelection:tt,disableImageDrag:Ot,enableImageDrag:Mt,preventOutline:xt,restoreOutline:Rt,getSizedParentNode:It,getScale:Tt};function Dt(e,t,n,i){if("object"==typeof t)for(var o in t)jt(e,o,t[o],n);else for(var r=0,a=(t=h(t)).length;r<a;r++)jt(e,t[r],n,i);return this}var At="_leaflet_events";function Zt(e,t,n,i){if("object"==typeof t)for(var o in t)Ut(e,o,t[o],n);else if(t)for(var r=0,a=(t=h(t)).length;r<a;r++)Ut(e,t[r],n,i);else{for(var s in e[At])Ut(e,s,e[At][s]);delete e[At]}return this}function Bt(){if(Le)return!(ne||de)}var Nt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function jt(e,t,n,i){var o=t+a(n)+(i?"_"+a(i):"");if(e[At]&&e[At][o])return this;var r=function(t){return n.call(i||e,t||window.event)},s=r;Le&&0===t.indexOf("touch")?Ue(e,t,r,o):Pe&&"dblclick"===t&&!Bt()?Xe(e,r,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Nt[t]||t,r,!!Me&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(r=function(t){t=t||window.event,Xt(e,t)&&s(t)},e.addEventListener(Nt[t],r,!1)):e.addEventListener(t,s,!1):"attachEvent"in e&&e.attachEvent("on"+t,r),e[At]=e[At]||{},e[At][o]=r}function Ut(e,t,n,i){var o=t+a(n)+(i?"_"+a(i):""),r=e[At]&&e[At][o];if(!r)return this;Le&&0===t.indexOf("touch")?qe(e,t,o):Pe&&"dblclick"===t&&!Bt()?$e(e,o):"removeEventListener"in e?e.removeEventListener(Nt[t]||t,r,!1):"detachEvent"in e&&e.detachEvent("on"+t,r),e[At][o]=null}function qt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,Yt(e),this}function zt(e){return jt(e,"wheel",qt),this}function Wt(e){return Dt(e,"mousedown touchstart dblclick",qt),jt(e,"click",Qt),this}function Ft(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Kt(e){return Ft(e),qt(e),this}function Ht(e,t){if(!t)return new S(e.clientX,e.clientY);var n=Tt(t),i=n.boundingClientRect;return new S((e.clientX-i.left)/n.x-t.clientLeft,(e.clientY-i.top)/n.y-t.clientTop)}var Gt=_e&&le?2*window.devicePixelRatio:ue?window.devicePixelRatio:1;function Vt(e){return ne?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Gt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var Jt={};function Qt(e){Jt[e.type]=!0}function Yt(e){var t=Jt[e.type];return Jt[e.type]=!1,t}function Xt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}var $t={on:Dt,off:Zt,stopPropagation:qt,disableScrollPropagation:zt,disableClickPropagation:Wt,preventDefault:Ft,stop:Kt,getMousePosition:Ht,getWheelDelta:Vt,fakeStop:Qt,skipped:Yt,isExternalTarget:Xt,addListener:Dt,removeListener:Zt},en=T.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=kt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Pt(this._el,n),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),tn=T.extend({options:{crs:J,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=f(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(q(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=at&&ve&&!ke&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,st,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,i){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(q(e),t,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,i.zoom):this._tryAnimatedPan(e,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(ve?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(ve?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),o=this.getSize().divideBy(2),r=(e instanceof S?e:this.latLngToContainerPoint(e)).subtract(o).multiplyBy(1-1/i),a=this.containerPointToLatLng(o.add(r));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():j(e);var n=A(t.paddingTopLeft||t.padding||[0,0]),i=A(t.paddingBottomRight||t.padding||[0,0]),o=this.getBoundsZoom(e,!1,n.add(i));if((o="number"==typeof t.maxZoom?Math.min(t.maxZoom,o):o)===1/0)return{center:e.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),o),s=this.project(e.getNorthEast(),o);return{center:this.unproject(a.add(s).divideBy(2).add(r),o),zoom:o}},fitBounds:function(e,t){if(!(e=j(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=A(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new en,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){mt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!ve)return this.setView(e,t,n);this._stop();var i=this.project(this.getCenter()),o=this.project(e),r=this.getSize(),a=this._zoom;e=q(e),t=void 0===t?a:t;var s=Math.max(r.x,r.y),c=s*this.getZoomScale(a,t),l=o.distanceTo(i)||1,u=1.42,d=u*u;function h(e){var t=(c*c-s*s+(e?-1:1)*d*d*l*l)/(2*(e?c:s)*d*l),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function f(e){return(Math.exp(e)-Math.exp(-e))/2}function _(e){return(Math.exp(e)+Math.exp(-e))/2}function p(e){return f(e)/_(e)}var m=h(0);function g(e){return s*(_(m)/_(m+u*e))}function v(e){return s*(_(m)*p(m+u*e)-f(m))/d}function y(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),E=(h(1)-m)/u,w=n.duration?1e3*n.duration:1e3*E*.8;function L(){var n=(Date.now()-b)/w,r=y(n)*E;n<=1?(this._flyToFrame=C(L,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(v(r)/l)),a),this.getScaleZoom(s/g(r),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),L.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=j(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,j(e));return n.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=A((t=t||{}).paddingTopLeft||t.padding||[0,0]),i=A(t.paddingBottomRight||t.padding||[0,0]),o=this.getCenter(),r=this.project(o),a=this.project(e),s=this.getPixelBounds(),c=s.getSize().divideBy(2),l=B([s.min.add(n),s.max.subtract(i)]);if(!l.contains(a)){this._enforcingBounds=!0;var u=r.subtract(a),d=A(a.x+u.x,a.y+u.y);(a.x<l.min.x||a.x>l.max.x)&&(d.x=r.x-u.x,u.x>0?d.x+=c.x-n.x:d.x-=c.x-i.x),(a.y<l.min.y||a.y>l.max.y)&&(d.y=r.y-u.y,u.y>0?d.y+=c.y-n.y:d.y-=c.y-i.y),this.panTo(this.unproject(d),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),r=t.divideBy(2).round(),a=i.divideBy(2).round(),s=r.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=o(this._handleGeolocationResponse,this),i=o(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,e):navigator.geolocation.getCurrentPosition(t,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=new U(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(t,i.maxZoom?Math.min(o,i.maxZoom):o)}var r={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"==typeof e.coords[a]&&(r[a]=e.coords[a]);this.fire("locationfound",r)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(O(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)dt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ut("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new N(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=j(e),n=A(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),c=this.getSize().subtract(n),l=B(this.project(s,i),this.project(a,i)).getSize(),u=ve?this.options.zoomSnap:1,d=c.x/l.x,h=c.y/l.y,f=t?Math.max(d,h):Math.min(d,h);return i=this.getScaleZoom(f,i),u&&(i=Math.round(i/(u/100))*(u/100),i=t?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new S(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new Z(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(q(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(A(e),t)},layerPointToLatLng:function(e){var t=A(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(q(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(q(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(j(e))},distance:function(e,t){return this.options.crs.distance(q(e),q(t))},containerPointToLayerPoint:function(e){return A(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return A(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(A(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(e)))},mouseEventToContainerPoint:function(e){return Ht(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ct(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Dt(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&ve,mt(e,"leaflet-container"+(Pe?" leaflet-touch":"")+(Oe?" leaflet-retina":"")+(te?" leaflet-oldie":"")+(de?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=lt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pt(this._mapPane,new S(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(mt(e.markerPane,"leaflet-zoom-hide"),mt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){Pt(this._mapPane,new S(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,!1)._move(e,t)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Pt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Zt:Dt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),ve&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=C((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],o="mouseout"===t||"mouseover"===t,r=e.target||e.srcElement,s=!1;r;){if((n=this._targets[a(r)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(o&&!Xt(r,e))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||s||o||!Xt(r,e)||(i=[this]),i},_handleDOMEvent:function(e){if(this._loaded&&!Yt(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t&&"keyup"!==t&&"keydown"!==t||xt(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,i){if("click"===e.type){var o=n({},e);o.type="preclick",this._fireDOMEvent(o,o.type,i)}if(!e._stopped&&(i=(i||[]).concat(this._findEventTargets(e,t))).length){var r=i[0];"contextmenu"===t&&r.listens(t,!0)&&Ft(e);var a={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var s=r.getLatLng&&(!r._radius||r._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(e),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?r.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var c=0;c<i.length;c++)if(i[c].fire(t,a,!0),a.originalEvent._stopped||!1===i[c].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return kt(this._mapPane)||new S(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return B([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),o=this.getSize().divideBy(2),r=new Z(i.subtract(o),i.add(o)),a=this._getBoundsOffset(r,n,t);return a.round().equals([0,0])?e:this.unproject(i.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new Z(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=B(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),o=i.min.subtract(e.min),r=i.max.subtract(e.max);return new S(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=ve?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){gt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n)||(this.panBy(n,t),0))},_createAnimProxy:function(){var e=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=rt,n=this._proxy.style[t];Lt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Lt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),o=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(C((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,mt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&gt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),C((function(){this._moveEnd(!0)}),this))}});function nn(e,t){return new tn(e,t)}var on=x.extend({options:{position:"topright"},initialize:function(e){f(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];return mt(t,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),rn=function(e){return new on(e)};tn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ut("div",t+"control-container",this._container);function i(i,o){var r=t+i+" "+t+o;e[i+o]=ut("div",r,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)dt(this._controlCorners[e]);dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var an=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){for(var i in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return on.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){mt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(mt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):gt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return gt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ut("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Wt(t),zt(t);var i=this._section=ut("section",e+"-list");n&&(this._map.on("click",this.collapse,this),oe||Dt(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=ut("a",e+"-toggle",t);o.href="#",o.title="Layers",Pe?(Dt(o,"click",Kt),Dt(o,"click",this.expand,this)):Dt(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ut("div",e+"-base",i),this._separator=ut("div",e+"-separator",i),this._overlaysList=ut("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(o((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ht(this._baseLayersList),ht(this._overlaysList),this._layerControlInputs=[];var e,t,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&o>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers_"+a(this),i),this._layerControlInputs.push(t),t.layerId=a(e.layer),Dt(t,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+e.name;var r=document.createElement("div");return n.appendChild(r),r.appendChild(t),r.appendChild(o),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||o.push(t);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),sn=function(e,t,n){return new an(e,t,n)},cn=on.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ut("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,o){var r=ut("a",n,i);return r.innerHTML=e,r.href="#",r.title=t,r.setAttribute("role","button"),r.setAttribute("aria-label",t),Wt(r),Dt(r,"click",Kt),Dt(r,"click",o,this),Dt(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";gt(this._zoomInButton,t),gt(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&mt(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&mt(this._zoomInButton,t)}});tn.mergeOptions({zoomControl:!0}),tn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var ln=function(e){return new cn(e)},un=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ut("div",t),i=this.options;return this._addScales(i,t+"-line",n),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ut("div",t,n)),e.imperial&&(this._iScale=ut("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,o=3.2808399*e;o>5280?(t=o/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),dn=function(e){return new un(e)},hn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){f(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),Wt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}});tn.mergeOptions({attributionControl:!0}),tn.addInitHook((function(){this.options.attributionControl&&(new hn).addTo(this)}));var fn=function(e){return new hn(e)};on.Layers=an,on.Zoom=cn,on.Scale=un,on.Attribution=hn,rn.layers=sn,rn.zoom=ln,rn.scale=dn,rn.attribution=fn;var _n=x.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_n.addTo=function(e,t){return e.addHandler(t,this),this};var pn,mn={Events:I},gn=Pe?"touchstart mousedown":"mousedown",vn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},yn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},bn=T.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){f(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Dt(this._dragStartTarget,gn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bn._dragging===this&&this.finishDrag(),Zt(this._dragStartTarget,gn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!pt(this._element,"leaflet-zoom-anim")&&!(bn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(bn._dragging=this,this._preventOutline&&xt(this._element),Ot(),et(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e,n=It(this._element);this._startPoint=new S(t.clientX,t.clientY),this._parentScale=Tt(n),Dt(document,yn[e.type],this._onMove,this),Dt(document,vn[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new S(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ft(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=kt(this._element).subtract(n),mt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),mt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,O(this._animRequest),this._lastEvent=e,this._animRequest=C(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Pt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in gt(document.body,"leaflet-dragging"),this._lastTarget&&(gt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),yn)Zt(document,yn[e],this._onMove,this),Zt(document,vn[e],this._onUp,this);Mt(),tt(),this._moved&&this._moving&&(O(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,bn._dragging=!1}});function En(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Pn(e=Cn(e,n),n)}function wn(e,t,n){return Math.sqrt(In(e,t,n,!0))}function Ln(e,t,n){return In(e,t,n)}function Pn(e,t){var n=e.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,kn(e,i,t,0,n-1);var o,r=[];for(o=0;o<n;o++)i[o]&&r.push(e[o]);return r}function kn(e,t,n,i,o){var r,a,s,c=0;for(a=i+1;a<=o-1;a++)(s=In(e[a],e[i],e[o],!0))>c&&(r=a,c=s);c>n&&(t[r]=1,kn(e,t,n,i,r),kn(e,t,n,r,o))}function Cn(e,t){for(var n=[e[0]],i=1,o=0,r=e.length;i<r;i++)Rn(e[i],e[o])>t&&(n.push(e[i]),o=i);return o<r-1&&n.push(e[r-1]),n}function On(e,t,n,i,o){var r,a,s,c=i?pn:xn(e,n),l=xn(t,n);for(pn=l;;){if(!(c|l))return[e,t];if(c&l)return!1;s=xn(a=Mn(e,t,r=c||l,n,o),n),r===c?(e=a,c=s):(t=a,l=s)}}function Mn(e,t,n,i,o){var r,a,s=t.x-e.x,c=t.y-e.y,l=i.min,u=i.max;return 8&n?(r=e.x+s*(u.y-e.y)/c,a=u.y):4&n?(r=e.x+s*(l.y-e.y)/c,a=l.y):2&n?(r=u.x,a=e.y+c*(u.x-e.x)/s):1&n&&(r=l.x,a=e.y+c*(l.x-e.x)/s),new S(r,a,o)}function xn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Rn(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function In(e,t,n,i){var o,r=t.x,a=t.y,s=n.x-r,c=n.y-a,l=s*s+c*c;return l>0&&((o=((e.x-r)*s+(e.y-a)*c)/l)>1?(r=n.x,a=n.y):o>0&&(r+=s*o,a+=c*o)),s=e.x-r,c=e.y-a,i?s*s+c*c:new S(r,a)}function Tn(e){return!g(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function Sn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Tn(e)}var Dn={simplify:En,pointToSegmentDistance:wn,closestPointOnSegment:Ln,clipSegment:On,_getEdgeIntersection:Mn,_getBitCode:xn,_sqClosestPointOnSegment:In,isFlat:Tn,_flat:Sn};function An(e,t,n){var i,o,r,a,s,c,l,u,d,h=[1,4,2,8];for(o=0,l=e.length;o<l;o++)e[o]._code=xn(e[o],t);for(a=0;a<4;a++){for(u=h[a],i=[],o=0,r=(l=e.length)-1;o<l;r=o++)s=e[o],c=e[r],s._code&u?c._code&u||((d=Mn(c,s,u,t,n))._code=xn(d,t),i.push(d)):(c._code&u&&((d=Mn(c,s,u,t,n))._code=xn(d,t),i.push(d)),i.push(s));e=i}return e}var Zn={clipPolygon:An},Bn={project:function(e){return new S(e.lng,e.lat)},unproject:function(e){return new U(e.y,e.x)},bounds:new Z([-180,-90],[180,90])},Nn={R:6378137,R_MINOR:6356752.314245179,bounds:new Z([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),a=r*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),r/2);return i=-n*Math.log(Math.max(s,1e-10)),new S(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),a=Math.exp(-e.y/i),s=Math.PI/2-2*Math.atan(a),c=0,l=.1;c<15&&Math.abs(l)>1e-7;c++)t=r*Math.sin(s),t=Math.pow((1-t)/(1+t),r/2),s+=l=Math.PI/2-2*Math.atan(a*t)-s;return new U(s*n,e.x*n/i)}},jn={LonLat:Bn,Mercator:Nn,SphericalMercator:H},Un=n({},F,{code:"EPSG:3395",projection:Nn,transformation:function(){var e=.5/(Math.PI*Nn.R);return V(e,.5,-e,.5)}()}),qn=n({},F,{code:"EPSG:4326",projection:Bn,transformation:V(1/180,1,-1/180,.5)}),zn=n({},W,{projection:Bn,transformation:V(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});W.Earth=F,W.EPSG3395=Un,W.EPSG3857=J,W.EPSG900913=Q,W.EPSG4326=qn,W.Simple=zn;var Wn=T.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});tn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?g(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;e=void 0===o.minZoom?e:Math.min(e,o.minZoom),t=void 0===o.maxZoom?t:Math.max(t,o.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fn=Wn.extend({initialize:function(e,t){var n,i;if(f(this,t),this._layers={},e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Kn=function(e,t){return new Fn(e,t)},Hn=Fn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Fn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Fn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new N;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Gn=function(e,t){return new Hn(e,t)},Vn=x.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){f(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"==typeof i&&(i=[i,i]);var o=A(i),r=A("shadow"===t&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),r&&(e.style.marginLeft=-r.x+"px",e.style.marginTop=-r.y+"px"),o&&(e.style.width=o.x+"px",e.style.height=o.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Oe&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Jn(e){return new Vn(e)}var Qn=Vn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Qn.imagePath||(Qn.imagePath=this._detectIconPath()),(this.options.imagePath||Qn.imagePath)+Vn.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=ut("div","leaflet-default-icon-path",document.body),t=lt(e,"background-image")||lt(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Yn=_n.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new bn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),mt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&gt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=kt(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),c=B(a.min._subtract(s).add(o),a.max._subtract(s).subtract(o));if(!c.contains(r)){var l=A((Math.max(c.max.x,r.x)-c.max.x)/(a.max.x-c.max.x)-(Math.min(c.min.x,r.x)-c.min.x)/(a.min.x-c.min.x),(Math.max(c.max.y,r.y)-c.max.y)/(a.max.y-c.max.y)-(Math.min(c.min.y,r.y)-c.min.y)/(a.min.y-c.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),Pt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=C(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(O(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,i=kt(t._icon),o=t._map.layerPointToLatLng(i);n&&Pt(n,i),t._latlng=o,e.latlng=o,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){O(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Xn=Wn.extend({options:{icon:new Qn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){f(this,t),this._latlng=q(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=q(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),mt(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=e.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(mt(o,t),o.alt=""),this._shadow=o,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&dt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Pt(this._icon,e),this._shadow&&Pt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(mt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Yn)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Yn(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&bt(this._icon,e),this._shadow&&bt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $n(e,t){return new Xn(e,t)}var ei=Wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return f(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ti=ei.extend({options:{fill:!0,radius:10},initialize:function(e,t){f(this,t),this._latlng=q(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=q(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return ei.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new Z(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ni(e,t){return new ti(e,t)}var ii=ti.extend({initialize:function(e,t,i){if("number"==typeof t&&(t=n({},i,{radius:t})),f(this,t),this._latlng=q(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ei.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===F.distance){var o=Math.PI/180,r=this._mRadius/F.R/o,a=n.project([t+r,e]),s=n.project([t-r,e]),c=a.add(s).divideBy(2),l=n.unproject(c).lat,u=Math.acos((Math.cos(r*o)-Math.sin(t*o)*Math.sin(l*o))/(Math.cos(t*o)*Math.cos(l*o)))/o;(isNaN(u)||0===u)&&(u=r/Math.cos(Math.PI/180*t)),this._point=c.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:c.x-n.project([l,e-u]).x,this._radiusY=c.y-a.y}else{var d=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function oi(e,t,n){return new ii(e,t,n)}var ri=ei.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){f(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,o=null,r=In,a=0,s=this._parts.length;a<s;a++)for(var c=this._parts[a],l=1,u=c.length;l<u;l++){var d=r(e,t=c[l-1],n=c[l],!0);d<i&&(i=d,o=r(e,t,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,o,r,a,s=this._rings[0],c=s.length;if(!c)return null;for(e=0,t=0;e<c-1;e++)t+=s[e].distanceTo(s[e+1])/2;if(0===t)return this._map.layerPointToLatLng(s[0]);for(e=0,i=0;e<c-1;e++)if(o=s[e],r=s[e+1],(i+=n=o.distanceTo(r))>t)return a=(i-t)/n,this._map.layerPointToLatLng([r.x-a*(r.x-o.x),r.y-a*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=q(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new N,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Tn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Tn(e),i=0,o=e.length;i<o;i++)n?(t[i]=q(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new S(e,e);this._pxBounds=new Z([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)])},_projectLatlngs:function(e,t,n){var i,o,r=e[0]instanceof U,a=e.length;if(r){for(o=[],i=0;i<a;i++)o[i]=this._map.latLngToLayerPoint(e[i]),n.extend(o[i]);t.push(o)}else for(i=0;i<a;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,i,o,r,a,s,c=this._parts;for(t=0,i=0,o=this._rings.length;t<o;t++)for(n=0,r=(s=this._rings[t]).length;n<r-1;n++)(a=On(s[n],s[n+1],e,n,!0))&&(c[i]=c[i]||[],c[i].push(a[0]),a[1]===s[n+1]&&n!==r-2||(c[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=En(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,o,r,a,s,c=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(a=(s=this._parts[n]).length)-1;i<a;o=i++)if((t||0!==i)&&wn(e,s[o],s[i])<=c)return!0;return!1}});function ai(e,t){return new ri(e,t)}ri._flat=Sn;var si=ri.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,o,r,a,s,c,l=this._rings[0],u=l.length;if(!u)return null;for(r=a=s=0,e=0,t=u-1;e<u;t=e++)n=l[e],i=l[t],o=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*o,s+=(n.y+i.y)*o,r+=3*o;return c=0===r?l[0]:[a/r,s/r],this._map.layerPointToLatLng(c)},_convertLatLngs:function(e){var t=ri.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof U&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){ri.prototype._setLatLngs.call(this,e),Tn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Tn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new S(t,t);if(e=new Z(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)(i=An(this._rings[o],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,o,r,a,s,c,l=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,s=this._parts.length;o<s;o++)for(r=0,a=(c=(t=this._parts[o]).length)-1;r<c;a=r++)n=t[r],i=t[a],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||ri.prototype._containsPoint.call(this,e,!0)}});function ci(e,t){return new si(e,t)}var li=Hn.extend({initialize:function(e,t){f(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,o=g(e)?e:e.features;if(o){for(t=0,n=o.length;t<n;t++)((i=o[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(e))return this;var a=ui(e,r);return a?(a.feature=gi(e),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}});function ui(e,t){var n,i,o,r,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,c=[],l=t&&t.pointToLayer,u=t&&t.coordsToLatLng||hi;if(!s&&!a)return null;switch(a.type){case"Point":return di(l,e,n=u(s),t);case"MultiPoint":for(o=0,r=s.length;o<r;o++)n=u(s[o]),c.push(di(l,e,n,t));return new Hn(c);case"LineString":case"MultiLineString":return i=fi(s,"LineString"===a.type?0:1,u),new ri(i,t);case"Polygon":case"MultiPolygon":return i=fi(s,"Polygon"===a.type?1:2,u),new si(i,t);case"GeometryCollection":for(o=0,r=a.geometries.length;o<r;o++){var d=ui({geometry:a.geometries[o],type:"Feature",properties:e.properties},t);d&&c.push(d)}return new Hn(c);default:throw new Error("Invalid GeoJSON object.")}}function di(e,t,n,i){return e?e(t,n):new Xn(n,i&&i.markersInheritOptions&&i)}function hi(e){return new U(e[1],e[0],e[2])}function fi(e,t,n){for(var i,o=[],r=0,a=e.length;r<a;r++)i=t?fi(e[r],t-1,n):(n||hi)(e[r]),o.push(i);return o}function _i(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function pi(e,t,n,i){for(var o=[],r=0,a=e.length;r<a;r++)o.push(t?pi(e[r],t-1,n,i):_i(e[r],i));return!t&&n&&o.push(o[0]),o}function mi(e,t){return e.feature?n({},e.feature,{geometry:t}):gi(t)}function gi(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var vi={toGeoJSON:function(e){return mi(this,{type:"Point",coordinates:_i(this.getLatLng(),e)})}};function yi(e,t){return new li(e,t)}Xn.include(vi),ii.include(vi),ti.include(vi),ri.include({toGeoJSON:function(e){var t=!Tn(this._latlngs);return mi(this,{type:(t?"Multi":"")+"LineString",coordinates:pi(this._latlngs,t?1:0,!1,e)})}}),si.include({toGeoJSON:function(e){var t=!Tn(this._latlngs),n=t&&!Tn(this._latlngs[0]),i=pi(this._latlngs,n?2:t?1:0,!0,e);return t||(i=[i]),mi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Fn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),mi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,i=[];return this.eachLayer((function(t){if(t.toGeoJSON){var o=t.toGeoJSON(e);if(n)i.push(o.geometry);else{var r=gi(o);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}})),n?mi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var bi=yi,Ei=Wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=j(t),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(mt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&ft(this._image),this},bringToBack:function(){return this._map&&_t(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=j(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ut("img");mt(t,"leaflet-image-layer"),this._zoomAnimated&&mt(t,"leaflet-zoom-animated"),this.options.className&&mt(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=o(this.fire,this,"load"),t.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Lt(this._image,n,t)},_reset:function(){var e=this._image,t=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Pt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){bt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),wi=function(e,t,n){return new Ei(e,t,n)},Li=Ei.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ut("video");if(mt(t,"leaflet-image-layer"),this._zoomAnimated&&mt(t,"leaflet-zoom-animated"),this.options.className&&mt(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=o(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=n.length>0?i:[t.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted;for(var a=0;a<this._url.length;a++){var s=ut("source");s.src=this._url[a],t.appendChild(s)}}}});function Pi(e,t,n){return new Li(e,t,n)}var ki=Ei.extend({_initImage:function(){var e=this._image=this._url;mt(e,"leaflet-image-layer"),this._zoomAnimated&&mt(e,"leaflet-zoom-animated"),this.options.className&&mt(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});function Ci(e,t,n){return new ki(e,t,n)}var Oi=Wn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){f(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&bt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&bt(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(bt(this._container,0),this._removeTimeout=setTimeout(o(dt,void 0,this._container),200)):dt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=q(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ft(this._container),this},bringToBack:function(){return this._map&&_t(this._container),this},_prepareOpen:function(e,t,n){if(t instanceof Wn||(n=t,t=e),t instanceof Hn)for(var i in e._layers){t=e._layers[i];break}if(!n)if(t.getCenter)n=t.getCenter();else{if(!t.getLatLng)throw new Error("Unable to get source layer LatLng.");n=t.getLatLng()}return this._source=t,this.update(),n},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=A(this.options.offset),n=this._getAnchor();this._zoomAnimated?Pt(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),Mi=Oi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Oi.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ei||this._source.on("preclick",qt))},onRemove:function(e){Oi.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ei||this._source.off("preclick",qt))},getEvents:function(){var e=Oi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=ut("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ut("div",e+"-content-wrapper",t);if(this._contentNode=ut("div",e+"-content",n),Wt(t),zt(this._contentNode),Dt(t,"contextmenu",qt),this._tipContainer=ut("div",e+"-tip-container",t),this._tip=ut("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ut("a",e+"-close-button",t);i.href="#close",i.innerHTML="&#215;",Dt(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&i>o?(t.height=o+"px",mt(e,r)):gt(e,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Pt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,t=parseInt(lt(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,i=this._containerWidth,o=new S(this._containerLeft,-n-this._containerBottom);o._add(kt(this._container));var r=e.layerPointToContainerPoint(o),a=A(this.options.autoPanPadding),s=A(this.options.autoPanPaddingTopLeft||a),c=A(this.options.autoPanPaddingBottomRight||a),l=e.getSize(),u=0,d=0;r.x+i+c.x>l.x&&(u=r.x+i-l.x+c.x),r.x-u-s.x<0&&(u=r.x-s.x),r.y+n+c.y>l.y&&(d=r.y+n-l.y+c.y),r.y-d-s.y<0&&(d=r.y-s.y),(u||d)&&e.fire("autopanstart").panBy([u,d])}},_onCloseButtonClick:function(e){this._close(),Kt(e)},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xi=function(e,t){return new Mi(e,t)};tn.mergeOptions({closePopupOnClick:!0}),tn.include({openPopup:function(e,t,n){return e instanceof Mi||(e=new Mi(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),Wn.include({bindPopup:function(e,t){return e instanceof Mi?(f(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Mi(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){return this._popup&&this._map&&(t=this._popup._prepareOpen(this,e,t),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(Kt(e),t instanceof ei?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Ri=Oi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Oi.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Oi.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Oi.prototype.getEvents.call(this);return Pe&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,i=this._map,o=this._container,r=i.latLngToContainerPoint(i.getCenter()),a=i.layerPointToContainerPoint(e),s=this.options.direction,c=o.offsetWidth,l=o.offsetHeight,u=A(this.options.offset),d=this._getAnchor();"top"===s?(t=c/2,n=l):"bottom"===s?(t=c/2,n=0):"center"===s?(t=c/2,n=l/2):"right"===s?(t=0,n=l/2):"left"===s?(t=c,n=l/2):a.x<r.x?(s="right",t=0,n=l/2):(s="left",t=c+2*(u.x+d.x),n=l/2),e=e.subtract(A(t,n,!0)).add(u).add(d),gt(o,"leaflet-tooltip-right"),gt(o,"leaflet-tooltip-left"),gt(o,"leaflet-tooltip-top"),gt(o,"leaflet-tooltip-bottom"),mt(o,"leaflet-tooltip-"+s),Pt(o,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&bt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ii=function(e,t){return new Ri(e,t)};tn.include({openTooltip:function(e,t,n){return e instanceof Ri||(e=new Ri(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),Wn.include({bindTooltip:function(e,t){return e instanceof Ri?(f(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new Ri(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Pe&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){return this._tooltip&&this._map&&(t=this._tooltip._prepareOpen(this,e,t),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(mt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(gt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ti=Vn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ht(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=A(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Si(e){return new Ti(e)}Vn.Default=Qn;var Di=Wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ye,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){f(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),dt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ft(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_t(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof S?e:new S(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),o=0,r=n.length;o<r;o++)t=n[o].style.zIndex,n[o]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!te){bt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(e-o.loaded)/200);bt(o.el,r),r<1?t=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(O(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(dt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],o=this._map;return i||((i=this._levels[e]={}).el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=o.project(o.unproject(o.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,o.getCenter(),o.getZoom()),l(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)dt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,i){var o=Math.floor(e/2),r=Math.floor(t/2),a=n-1,s=new S(+o,+r);s.z=+a;var c=this._tileCoordsToKey(s),l=this._tiles[c];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>i&&this._retainParent(o,r,a,i))},_retainChildren:function(e,t,n,i){for(var o=2*e;o<2*e+2;o++)for(var r=2*t;r<2*t+2;r++){var a=new S(o,r);a.z=n+1;var s=this._tileCoordsToKey(a),c=this._tiles[s];c&&c.active?c.retain=!0:(c&&c.loaded&&(c.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var o=Math.round(t);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),o=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();ve?Lt(e.el,o,i):Pt(e.el,o)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),o=t.project(e,this._tileZoom).floor(),r=t.getSize().divideBy(2*i);return new Z(o.subtract(r),o.add(r))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),o=this._pxBoundsToTileRange(i),r=o.getCenter(),a=[],s=this.options.keepBuffer,c=new Z(o.getBottomLeft().subtract([s,-s]),o.getTopRight().add([s,-s]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var u=this._tiles[l].coords;u.z===this._tileZoom&&c.contains(new S(u.x,u.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=o.min.y;d<=o.max.y;d++)for(var h=o.min.x;h<=o.max.x;h++){var f=new S(h,d);if(f.z=this._tileZoom,this._isValidTile(f)){var _=this._tiles[this._tileCoordsToKey(f)];_?_.current=!0:a.push(f)}}if(a.sort((function(e,t){return e.distanceTo(r)-t.distanceTo(r)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var p=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],p);this._level.el.appendChild(p)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return j(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),o=i.add(n);return[t.unproject(i,e.z),t.unproject(o,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new N(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new S(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(dt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){mt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=l,e.onmousemove=l,te&&this.options.opacity<1&&bt(e,this.options.opacity),oe&&!re&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var n=this._getTilePos(e),i=this._tileCoordsToKey(e),r=this.createTile(this._wrapCoords(e),o(this._tileReady,this,e));this._initTile(r),this.createTile.length<2&&C(o(this._tileReady,this,e,null,r)),Pt(r,n),this._tiles[i]={el:r,coords:e,current:!0},t.appendChild(r),this.fire("tileloadstart",{tile:r,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var i=this._tileCoordsToKey(e);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(bt(n.el,0),O(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(mt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),te||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new S(this._wrapX?c(e.x,this._wrapX):e.x,this._wrapY?c(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new Z(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Ai(e){return new Di(e)}var Zi=Di.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=f(this,t)).detectRetina&&Oe&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),oe||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Dt(n,"load",o(this._tileOnLoad,this,t,n)),Dt(n,"error",o(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Oe?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=i),t["-y"]=i}return m(this._url,n(t,this.options))},_tileOnLoad:function(e,t){te?setTimeout(o(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=l,t.onerror=l,t.complete||(t.src=y,dt(t),delete this._tiles[e]))},_removeTile:function(e){var t=this._tiles[e];if(t)return se||t.el.setAttribute("src",y),Di.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==y))return Di.prototype._tileReady.call(this,e,t,n)}});function Bi(e,t){return new Zi(e,t)}var Ni=Zi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var i=n({},this.defaultWmsParams);for(var o in t)o in this.options||(i[o]=t[o]);var r=(t=f(this,t)).detectRetina&&Oe?2:1,a=this.getTileSize();i.width=a.x*r,i.height=a.y*r,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Zi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,i=B(n.project(t[0]),n.project(t[1])),o=i.min,r=i.max,a=(this._wmsVersion>=1.3&&this._crs===qn?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),s=Zi.prototype.getTileUrl.call(this,e);return s+_(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function ji(e,t){return new Ni(e,t)}Zi.WMS=Ni,Bi.wms=ji;var Ui=Wn.extend({options:{padding:.1,tolerance:0},initialize:function(e){f(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&mt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=kt(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,t),a=this._map.project(e,t).subtract(r),s=o.multiplyBy(-n).add(i).add(o).subtract(a);ve?Lt(this._container,s,n):Pt(this._container,s)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new Z(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qi=Ui.extend({getEvents:function(){var e=Ui.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ui.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Dt(e,"mousemove",this._onMouseMove,this),Dt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){O(this._redrawRequest),delete this._ctx,dt(this._container),Zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ui.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=Oe?2:1;Pt(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Oe&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ui.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,i=t.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,n,i=e.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(t=Number(i[n]),isNaN(t))return;o.push(t)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,o,r,a=e._parts,s=a.length,c=this._ctx;if(s){for(c.beginPath(),n=0;n<s;n++){for(i=0,o=a[n].length;i<o;i++)r=a[n][i],c[i?"lineTo":"moveTo"](r.x,r.y);t&&c.closePath()}this._fillStroke(c,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),o=(Math.max(Math.round(e._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(t.x,t.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),o=this._drawFirst;o;o=o.next)(t=o.layer).options.interactive&&t._containsPoint(i)&&("click"!==e.type&&"preclick"===e.type||!this._map._draggableMoved(t))&&(n=t);n&&(Qt(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(gt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(mt(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(o((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function zi(e){return xe?new qi(e):null}var Wi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Fi={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ui.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Wi("shape");mt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Wi("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;dt(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,o=e._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(t||(t=e._stroke=Wi("stroke")),o.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=g(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(o.removeChild(t),e._stroke=null),i.fill?(n||(n=e._fill=Wi("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){ft(e._container)},_bringToBack:function(e){_t(e._container)}},Ki=Ie?Wi:Y,Hi=Ui.extend({getEvents:function(){var e=Ui.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=Ki("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ki("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){dt(this._container),Zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ui.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Pt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Ki("path");e.options.className&&mt(t,e.options.className),e.options.interactive&&mt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){dt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,X(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",o=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,o)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){ft(e._path)},_bringToBack:function(e){_t(e._path)}});function Gi(e){return Re||Ie?new Hi(e):null}Ie&&Hi.include(Fi),tn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&zi(e)||Gi(e)}});var Vi=si.extend({initialize:function(e,t){si.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=j(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Ji(e,t){return new Vi(e,t)}Hi.create=Ki,Hi.pointsToPath=X,li.geometryToLayer=ui,li.coordsToLatLng=hi,li.coordsToLatLngs=fi,li.latLngToCoords=_i,li.latLngsToCoords=pi,li.getFeature=mi,li.asFeature=gi,tn.mergeOptions({boxZoom:!0});var Qi=_n.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),et(),Ot(),this._startPoint=this._map.mouseEventToContainerPoint(e),Dt(document,{contextmenu:Kt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),mt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new Z(this._point,this._startPoint),n=t.getSize();Pt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(dt(this._box),gt(this._container,"leaflet-crosshair")),tt(),Mt(),Zt(document,{contextmenu:Kt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var t=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});tn.addInitHook("addHandler","boxZoom",Qi),tn.mergeOptions({doubleClickZoom:!0});var Yi=_n.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,o=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(o):t.setZoomAround(e.containerPoint,o)}});tn.addInitHook("addHandler","doubleClickZoom",Yi),tn.mergeOptions({dragging:!0,inertia:!re,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xi=_n.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new bn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}mt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){gt(this._map._container,"leaflet-grab"),gt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=j(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-t+n)%e+t-n,r=(i+t+n)%e-t-n,a=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=o.multiplyBy(a/r),c=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,c),u=s.multiplyBy(l/c),d=l/(n.inertiaDeceleration*a),h=u.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),C((function(){t.panBy(h,{duration:d,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});tn.addInitHook("addHandler","dragging",Xi),tn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $i=_n.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Dt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},o=this.keyCodes;for(t=0,n=o.left.length;t<n;t++)i[o.left[t]]=[-1*e,0];for(t=0,n=o.right.length;t<n;t++)i[o.right[t]]=[e,0];for(t=0,n=o.down.length;t<n;t++)i[o.down[t]]=[0,e];for(t=0,n=o.up.length;t<n;t++)i[o.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},o=this.keyCodes;for(t=0,n=o.zoomIn.length;t<n;t++)i[o.zoomIn[t]]=e;for(t=0,n=o.zoomOut.length;t<n;t++)i[o.zoomOut[t]]=-e},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=A(t).multiplyBy(3)),i.panBy(t),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Kt(e)}}});tn.addInitHook("addHandler","keyboard",$i),tn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var eo=_n.extend({addHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Vt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),i),Kt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,a=e._limitZoom(t+(this._delta>0?r:-r))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});tn.addInitHook("addHandler","scrollWheelZoom",eo),tn.mergeOptions({tap:!0,tapTolerance:15});var to=_n.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(Ft(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],n=t.target;this._startPos=this._newPos=new S(t.clientX,t.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&mt(n,"leaflet-active"),this._holdTimeout=setTimeout(o((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))}),this),1e3),this._simulateEvent("mousedown",t),Dt(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),Zt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&gt(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new S(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});!Pe||Le&&!de||tn.addInitHook("addHandler","tap",to),tn.mergeOptions({touchZoom:Pe&&!re,bounceAtZoomLimits:!0});var no=_n.extend({addHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend",this._onTouchEnd,this),Ft(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(r,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&r<1||this._zoom>t.getMaxZoom()&&r>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),O(this._animRequest);var s=o(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=C(s,this,!0),Ft(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,O(this._animRequest),Zt(document,"touchmove",this._onTouchMove,this),Zt(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});tn.addInitHook("addHandler","touchZoom",no),tn.BoxZoom=Qi,tn.DoubleClickZoom=Yi,tn.Drag=Xi,tn.Keyboard=$i,tn.ScrollWheelZoom=eo,tn.Tap=to,tn.TouchZoom=no,e.version=t,e.Control=on,e.control=rn,e.Browser=Se,e.Evented=T,e.Mixin=mn,e.Util=M,e.Class=x,e.Handler=_n,e.extend=n,e.bind=o,e.stamp=a,e.setOptions=f,e.DomEvent=$t,e.DomUtil=St,e.PosAnimation=en,e.Draggable=bn,e.LineUtil=Dn,e.PolyUtil=Zn,e.Point=S,e.point=A,e.Bounds=Z,e.bounds=B,e.Transformation=G,e.transformation=V,e.Projection=jn,e.LatLng=U,e.latLng=q,e.LatLngBounds=N,e.latLngBounds=j,e.CRS=W,e.GeoJSON=li,e.geoJSON=yi,e.geoJson=bi,e.Layer=Wn,e.LayerGroup=Fn,e.layerGroup=Kn,e.FeatureGroup=Hn,e.featureGroup=Gn,e.ImageOverlay=Ei,e.imageOverlay=wi,e.VideoOverlay=Li,e.videoOverlay=Pi,e.SVGOverlay=ki,e.svgOverlay=Ci,e.DivOverlay=Oi,e.Popup=Mi,e.popup=xi,e.Tooltip=Ri,e.tooltip=Ii,e.Icon=Vn,e.icon=Jn,e.DivIcon=Ti,e.divIcon=Si,e.Marker=Xn,e.marker=$n,e.TileLayer=Zi,e.tileLayer=Bi,e.GridLayer=Di,e.gridLayer=Ai,e.SVG=Hi,e.svg=Gi,e.Renderer=Ui,e.Canvas=qi,e.canvas=zi,e.Path=ei,e.CircleMarker=ti,e.circleMarker=ni,e.Circle=ii,e.circle=oi,e.Polyline=ri,e.polyline=ai,e.Polygon=si,e.polygon=ci,e.Rectangle=Vi,e.rectangle=Ji,e.Map=tn,e.map=nn;var io=window.L;e.noConflict=function(){return window.L=io,this},window.L=e}(t)},1965:(e,t)=>{"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(void 0,e)}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(!0===e[0],!1,e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(!0===e[0],!0,e)}function r(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;++n)t.push(r(e[n]));return t}if(a(e)){t={};for(var n in e)t[n]=r(e[n]);return t}return e}function a(e){return e&&"object"==typeof e&&!Array.isArray(e)}function s(e,t){if(!a(e))return t;for(var n in t)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=a(e[n])&&a(t[n])?s(e[n],t[n]):t[n]);return e}function c(e,t,n){var i;!e&&a(i=n.shift())||(i={});for(var o=0;o<n.length;++o){var c=n[o];if(a(c))for(var l in c)if("__proto__"!==l&&"constructor"!==l&&"prototype"!==l){var u=e?r(c[l]):c[l];i[l]=t?s(i[l],u):u}}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=t.clone=t.recursive=t.merge=t.main=void 0,e.exports=t=n,t.default=n,t.main=n,n.clone=r,n.isPlainObject=a,n.recursive=o,t.merge=i,t.recursive=o,t.clone=r,t.isPlainObject=a},4870:()=>{},3006:()=>{},8805:()=>{},4393:()=>{},8409:()=>{},3591:()=>{},6014:()=>{},5784:()=>{},7299:()=>{},6832:()=>{},8743:()=>{},5153:()=>{},5123:()=>{},4803:()=>{},8694:()=>{},5896:()=>{},8444:()=>{},9359:(e,t,n)=>{"use strict";var i,o=n(3804),r=(i=o)&&"object"==typeof i&&"default"in i?i.default:i,a=new(n(3451)),s=a.getBrowser(),c=(a.getCPU(),a.getDevice()),l=a.getEngine(),u=a.getOS(),d=a.getUA(),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},f=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},_=function(e){var t=f();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},v.apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L="mobile",P="tablet",k="smarttv",C="console",O="wearable",M=void 0,x="Chrome",R="Firefox",I="Opera",T="Yandex",S="Safari",D="Internet Explorer",A="Edge",Z="Chromium",B="IE",N="Mobile Safari",j="MIUI Browser",U="iOS",q="Android",z="Windows Phone",W="Windows",F="Mac OS",K={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},H=function(e,t,n,i){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vendor:h(t.vendor),model:h(t.model),os:h(n.name),osVersion:h(n.version),ua:h(i)})},G=function(e){switch(e){case L:return{isMobile:!0};case P:return{isTablet:!0};case k:return{isSmartTV:!0};case C:return{isConsole:!0};case O:return{isWearable:!0};case M:return{isBrowser:!0};default:return K}}(c.type);var V,J=function(){return"string"==typeof d&&-1!==d.indexOf("Edg/")},Q=function(){return s.name===A},Y=function(){return _("iPad")},X=c.type===k,$=c.type===C,ee=c.type===O,te=s.name===N||Y(),ne=s.name===Z,ie=function(){switch(c.type){case L:case P:return!0;default:return!1}}()||Y(),oe=c.type===L,re=c.type===P||Y(),ae=c.type===M,se=u.name===q,ce=u.name===z,le=u.name===U||Y(),ue=s.name===x,de=s.name===R,he=s.name===S||s.name===N,fe=s.name===I,_e=s.name===D||s.name===B,pe=h(u.version),me=h(u.name),ge=h(s.version),ve=h(s.major),ye=h(s.name),be=h(c.vendor),Ee=h(c.model),we=h(l.name),Le=h(l.version),Pe=h(d),ke=Q()||J(),Ce=s.name===T,Oe=h(c.type,"browser"),Me=(V=f())&&(/iPad|iPhone|iPod/.test(V.platform)||"MacIntel"===V.platform&&V.maxTouchPoints>1)&&!window.MSStream,xe=Y(),Re=_("iPhone"),Ie=_("iPod"),Te=function(){var e=f(),t=e&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)}(),Se=J(),De=Q()&&!J(),Ae=u.name===W,Ze=u.name===F,Be=s.name===j;t.tq=ie},6342:(e,t,n)=>{"use strict";t.Z=void 0;var i,o=n(6794),r=(i=n(5243))&&i.__esModule?i:{default:i};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n(5732);var h=(0,o.createPathComponent)((function(e,t){e.children;var n=d(e,["children"]),i={},o={};Object.entries(n).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];return n.startsWith("on")?o[n]=r:i[n]=r}));var a=new r.default.markerClusterGroup(i);return Object.entries(o).forEach((function(e){var t=l(e,2),n=t[0],i=t[1],o="cluster".concat(n.substring(2).toLowerCase());a.on(o,i)})),{instance:a,context:s(s({},t),{},{layerContainer:a})}}));t.Z=h},1372:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var i=n(8622),o=n(5243);const r=(0,i.dW)((function(e,t){let{children:n,...i}=e;const r=new o.LayerGroup([],i);return{instance:r,context:{...t,layerContainer:r}}}))},3167:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var i=n(557);n(3804);function o(){return(0,i.mE)().map}function r(e){let{children:t}=e;return t(o())}},795:(e,t,n)=>{"use strict";n.d(t,{h:()=>c});var i=n(557),o=n(5243),r=n(3804),a=n.n(r);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(this,arguments)}function c(e){let{children:t,className:n,id:c,placeholder:l,style:u,whenCreated:d,...h}=e;const f=(0,r.useRef)(null),_=function(e,t){const[n,i]=(0,r.useState)(null);return(0,r.useEffect)((()=>{if(null!==e.current&&null===n){const n=new o.Map(e.current,t);null!=t.center&&null!=t.zoom?n.setView(t.center,t.zoom):null!=t.bounds&&n.fitBounds(t.bounds,t.boundsOptions),null!=t.whenReady&&n.whenReady(t.whenReady),i(n)}}),[e,n,t]),n}(f,h),p=(0,r.useRef)(!1);(0,r.useEffect)((()=>{null!=_&&!1===p.current&&null!=d&&(p.current=!0,d(_))}),[_,d]),(0,r.useEffect)((()=>()=>{null==_||_.remove()}),[_]);const[m]=(0,r.useState)({className:n,id:c,style:u}),g=(0,r.useMemo)((()=>_?{__version:i.cV,map:_}:null),[_]),v=g?a().createElement(i.UO,{value:g},t):l??null;return a().createElement("div",s({},m,{ref:f}),v)}},7409:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var i=n(8622),o=n(5243);const r=(0,i.dW)((function(e,t){let{position:n,...i}=e;const r=new o.Marker(n,i);return{instance:r,context:{...t,overlayContainer:r}}}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}))},5888:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var i=n(8622),o=n(5243);const r=(0,i.Au)((function(e,t){let{positions:n,...i}=e;const r=new o.Polygon(n,i);return{instance:r,context:{...t,overlayContainer:r}}}),(function(e,t,n){t.positions!==n.positions&&e.setLatLngs(t.positions)}))},4284:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var i=n(8622),o=n(5828),r=n(6329),a=n(5243);const s=(0,i.Lf)((function(e,t){let{url:n,...i}=e;return{instance:new a.TileLayer(n,(0,o.q)(i,t)),context:t}}),r.I)},5666:(e,t,n)=>{var i=n(7301),o=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,n,i){var o=t&&t.prototype instanceof m?t:m,r=Object.create(o.prototype),a=new M(i||[]);return r._invoke=function(e,t,n){var i=d;return function(o,r){if(i===f)throw new Error("Generator is already running");if(i===_){if("throw"===o)throw r;return R()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var c=u(e,t,n);if("normal"===c.type){if(i=n.done?_:h,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=_,n.method="throw",n.arg=c.arg)}}}(e,n,a),r}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",h="suspendedYield",f="executing",_="completed",p={};function m(){}function g(){}function v(){}var y={};y[a]=function(){return this};var b=Object.getPrototypeOf,E=b&&b(b(x([])));E&&E!==n&&o.call(E,a)&&(y=E);var w=v.prototype=m.prototype=Object.create(y);function L(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function P(e,t){function n(i,r,a,s){var c=u(e[i],e,r);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,o){function r(){return new t((function(t,i){n(e,o,t,i)}))}return i=i?i.then(r,r):r()}}function k(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=u(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var r=o.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return r.next=r}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=w.constructor=v,v.constructor=g,v[c]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},L(P.prototype),P.prototype[s]=function(){return this},e.AsyncIterator=P,e.async=function(t,n,o,r,a){void 0===a&&(a=i);var s=new P(l(t,n,o,r),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},L(w),w[c]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=x,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(i,o){return s.type="throw",s.arg=e,n.next=i,o&&(n.method="next",n.arg=t),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:x(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=o}catch(e){Function("r","regeneratorRuntime = r")(o)}},3451:function(e,t,n){var i;!function(o,r){"use strict";var a="function",s="undefined",c="object",l="string",u="model",d="name",h="type",f="vendor",_="version",p="architecture",m="console",g="mobile",v="tablet",y="smarttv",b="wearable",E="embedded",w={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return typeof e===l&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===l?e.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===s?e:e.substring(0,255)}},L={rgx:function(e,t){for(var n,i,o,s,l,u,d=0;d<t.length&&!l;){var h=t[d],f=t[d+1];for(n=i=0;n<h.length&&!l;)if(l=h[n++].exec(e))for(o=0;o<f.length;o++)u=l[++i],typeof(s=f[o])===c&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):r:this[s[0]]=u?s[1].call(this,u,s[2]):r:4==s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):r):this[s]=u||r;d+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(w.has(t[n][i],e))return"?"===n?r:n}else if(w.has(t[n],e))return"?"===n?r:n;return e}},P={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},k={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[_,[d,"Chrome"]],[/(?:edge|edgios|edga|edg)\/([\w\.]+)/i],[_,[d,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[d,_],[/opios[\/\s]+([\w\.]+)/i],[_,[d,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[_,[d,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,_],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[_,[d,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[_,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[_,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[_,[d,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[_,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[_,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],_],[/focus\/([\w\.]+)/i],[_,[d,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[_,[d,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[_,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[_,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[_,[d,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[_,[d,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[_,[d,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],_],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],_],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[d,_],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[d],[/;fbav\/([\w\.]+);/i],[_,[d,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[d,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[d,_],[/\bgsa\/([\w\.]+)\s.*safari\//i],[_,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[_,[d,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],_],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[_,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[d,_],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[_,[d,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[_,d],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[_,L.str,P.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[d,_],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],_],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[_,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,_]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[p,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,w.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[u,[f,"Samsung"],[h,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[u,[f,"Samsung"],[h,g]],[/\((ip(?:hone|od)[\s\w]*);/i],[u,[f,"Apple"],[h,g]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[f,"Apple"],[h,v]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[u,[f,"Huawei"],[h,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[u,[f,"Huawei"],[h,g]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[u,/_/g," "],[f,"Xiaomi"],[h,g]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[u,/_/g," "],[f,"Xiaomi"],[h,v]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[u,[f,"OPPO"],[h,g]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[u,[f,"Vivo"],[h,g]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[u,[f,"Realme"],[h,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[u,[f,"Motorola"],[h,g]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[f,"Motorola"],[h,v]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[u,[f,"LG"],[h,v]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[u,[f,"LG"],[h,g]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[u,[f,"Lenovo"],[h,v]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[u,/_/g," "],[f,"Nokia"],[h,g]],[/droid.+;\s(pixel\sc)[\s)]/i],[u,[f,"Google"],[h,v]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[u,[f,"Google"],[h,g]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[f,"Sony"],[h,g]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[u,"Xperia Tablet"],[f,"Sony"],[h,v]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[u,[f,"OnePlus"],[h,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[u,[f,"Amazon"],[h,v]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[u,"Fire Phone"],[f,"Amazon"],[h,g]],[/\((playbook);[\w\s\),;-]+(rim)/i],[u,f,[h,v]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[u,[f,"BlackBerry"],[h,g]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[u,[f,"ASUS"],[h,v]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[u,[f,"ASUS"],[h,g]],[/(nexus\s9)/i],[u,[f,"HTC"],[h,v]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[f,[u,/_/g," "],[h,g]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[u,[f,"Acer"],[h,v]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[u,[f,"Meizu"],[h,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[f,u,[h,g]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[f,u,[h,v]],[/\s(surface\sduo)\s/i],[u,[f,"Microsoft"],[h,v]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[u,[f,"Fairphone"],[h,g]],[/\s(u304aa)\sbuild/i],[u,[f,"AT&T"],[h,g]],[/sie-(\w*)/i],[u,[f,"Siemens"],[h,g]],[/[;\/]\s?(rct\w+)\sbuild/i],[u,[f,"RCA"],[h,v]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[u,[f,"Dell"],[h,v]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[u,[f,"Verizon"],[h,v]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[u,[f,"Barnes & Noble"],[h,v]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[u,[f,"NuVision"],[h,v]],[/;\s(k88)\sbuild/i],[u,[f,"ZTE"],[h,v]],[/;\s(nx\d{3}j)\sbuild/i],[u,[f,"ZTE"],[h,g]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[u,[f,"Swiss"],[h,g]],[/[;\/]\s?(zur\d{3})\sbuild/i],[u,[f,"Swiss"],[h,v]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[u,[f,"Zeki"],[h,v]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[f,"Dragon Touch"],u,[h,v]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[u,[f,"Insignia"],[h,v]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[u,[f,"NextBook"],[h,v]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[f,"Voice"],u,[h,g]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[f,"LvTel"],u,[h,g]],[/;\s(ph-1)\s/i],[u,[f,"Essential"],[h,g]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[u,[f,"Envizen"],[h,v]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[u,[f,"MachSpeed"],[h,v]],[/[;\/]\s?tu_(1491)\sbuild/i],[u,[f,"Rotor"],[h,v]],[/(shield[\w\s]+)\sbuild/i],[u,[f,"Nvidia"],[h,v]],[/(sprint)\s(\w+)/i],[f,u,[h,g]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[f,"Microsoft"],[h,g]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[f,"Zebra"],[h,v]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[f,"Zebra"],[h,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[f,u,[h,m]],[/droid.+;\s(shield)\sbuild/i],[u,[f,"Nvidia"],[h,m]],[/(playstation\s[345portablevi]+)/i],[u,[f,"Sony"],[h,m]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[u,[f,"Microsoft"],[h,m]],[/smart-tv.+(samsung)/i],[f,[h,y]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[f,"Samsung"],[h,y]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[f,"LG"],[h,y]],[/(apple)\s?tv/i],[f,[u,"Apple TV"],[h,y]],[/crkey/i],[[u,"Chromecast"],[f,"Google"],[h,y]],[/droid.+aft([\w])(\sbuild\/|\))/i],[u,[f,"Amazon"],[h,y]],[/\(dtv[\);].+(aquos)/i],[u,[f,"Sharp"],[h,y]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[f,w.trim],[u,w.trim],[h,y]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[h,y]],[/((pebble))app\/[\d\.]+\s/i],[f,u,[h,b]],[/droid.+;\s(glass)\s\d/i],[u,[f,"Google"],[h,b]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[u,[f,"Zebra"],[h,b]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[f,[h,E]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[u,[h,g]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[u,[h,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[h,w.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[u,[f,"Generic"]],[/(phone)/i],[[h,g]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[_,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[_,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,_],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[_,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,_],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[d,[_,L.str,P.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[_,L.str,P.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[_,/_/g,"."],[d,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[d,"Mac OS"],[_,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[d,_],[/\(bb(10);/i],[_,[d,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[_,[d,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[_,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[_,[d,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],_],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[d,_],[/(sunos)\s?([\w\.\d]*)/i],[[d,"Solaris"],_],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[d,_]]},C=function(e,t){if("object"==typeof e&&(t=e,e=r),!(this instanceof C))return new C(e,t).getResult();var n=e||(void 0!==o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),i=t?w.extend(k,t):k;return this.getBrowser=function(){var e={name:r,version:r};return L.rgx.call(e,n,i.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:r};return L.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:r,model:r,type:r};return L.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:r,version:r};return L.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:r,version:r};return L.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>255?w.trim(e,255):e,this},this.setUA(n),this};C.VERSION="0.7.28",C.BROWSER={NAME:d,MAJOR:"major",VERSION:_},C.CPU={ARCHITECTURE:p},C.DEVICE={MODEL:u,VENDOR:f,TYPE:h,CONSOLE:m,MOBILE:g,SMARTTV:y,TABLET:v,WEARABLE:b,EMBEDDED:E},C.ENGINE={NAME:d,VERSION:_},C.OS={NAME:d,VERSION:_},typeof t!==s?(e.exports&&(t=e.exports=C),t.UAParser=C):(i=function(){return C}.call(t,n,t,e))===r||(e.exports=i);var O=void 0!==o&&(o.jQuery||o.Zepto);if(O&&!O.ua){var M=new C;O.ua=M.getResult(),O.ua.get=function(){return M.getUA()},O.ua.set=function(e){M.setUA(e);var t=M.getResult();for(var n in t)O.ua[n]=t[n]}}}("object"==typeof window?window:this)},7147:(e,t,n)=>{"use strict";var i=n(7301),o="URLSearchParams"in self,r="Symbol"in self&&"iterator"in Symbol,a="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in self,c="ArrayBuffer"in self;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function _(e){this.map={},e instanceof _?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return i.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new i((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return i.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return i.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return i.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||i.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,o=p(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=m(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return i.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return i.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}_.prototype.append=function(e,t){e=d(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},_.prototype.delete=function(e){delete this.map[d(e)]},_.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},_.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},_.prototype.set=function(e,t){this.map[d(e)]=h(t)},_.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},_.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},_.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},_.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},r&&(_.prototype[Symbol.iterator]=_.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(e,t){var n,i,o=(t=t||{}).body;if(e instanceof E){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new _(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new _(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),b.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}})),t}function L(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new _(t.headers),this.url=t.url||"",this._initBody(e)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},y.call(E.prototype),y.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},L.error=function(){var e=new L(null,{status:0,statusText:""});return e.type="error",e};var P=[301,302,303,307,308];L.redirect=function(e,t){if(-1===P.indexOf(t))throw new RangeError("Invalid status code");return new L(null,{status:t,headers:{location:e}})};var k=self.DOMException;try{new k}catch(e){(k=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),k.prototype.constructor=k}function C(e,t){return new i((function(n,i){var o=new E(e,t);if(o.signal&&o.signal.aborted)return i(new k("Aborted","AbortError"));var r=new XMLHttpRequest;function s(){r.abort()}r.onload=function(){var e,t,i={status:r.status,statusText:r.statusText,headers:(e=r.getAllResponseHeaders()||"",t=new _,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var o=n.join(":").trim();t.append(i,o)}})),t)};i.url="responseURL"in r?r.responseURL:i.headers.get("X-Request-URL");var o="response"in r?r.response:r.responseText;n(new L(o,i))},r.onerror=function(){i(new TypeError("Network request failed"))},r.ontimeout=function(){i(new TypeError("Network request failed"))},r.onabort=function(){i(new k("Aborted","AbortError"))},r.open(o.method,o.url,!0),"include"===o.credentials?r.withCredentials=!0:"omit"===o.credentials&&(r.withCredentials=!1),"responseType"in r&&a&&(r.responseType="blob"),o.headers.forEach((function(e,t){r.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",s),r.onreadystatechange=function(){4===r.readyState&&o.signal.removeEventListener("abort",s)}),r.send(void 0===o._bodyInit?null:o._bodyInit)}))}C.polyfill=!0,self.fetch||(self.fetch=C,self.Headers=_,self.Request=E,self.Response=L)},3804:e=>{"use strict";e.exports=window.React},7196:e=>{"use strict";e.exports=window.ReactDOM},4327:()=>{}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>e+".js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="OpenStadComponents.[name]:",__webpack_require__.l=(e,t,n,i)=>{if(inProgress[e])inProgress[e].push(t);else{var o,r;if(void 0!==n)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var c=a[s];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==dataWebpackPrefix+n){o=c;break}}o||(r=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",dataWebpackPrefix+n),o.src=e),inProgress[e]=[t];var l=(t,n)=>{o.onerror=o.onload=null,clearTimeout(u);var i=inProgress[e];if(delete inProgress[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},u=setTimeout(l.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=l.bind(null,o.onerror),o.onload=l.bind(null,o.onload),r&&document.head.appendChild(o)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})();var installedCssChunks={617:0,898:0,841:0,684:0,790:0,792:0,415:0,940:0,747:0,723:0,665:0,239:0,498:0,226:0};__webpack_require__.f.compat=(e,t)=>{installedCssChunks[e]?t.push(installedCssChunks[e]):0!==installedCssChunks[e]&&{89:1}[e]&&t.push(installedCssChunks[e]=new Promise((function(t,n){for(var i="css/"+({}[e]||e)+".css",o=__webpack_require__.p+i,r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var s=(l=r[a]).getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(s===i||s===o))return t()}var c=document.getElementsByTagName("style");for(a=0;a<c.length;a++){var l;if((s=(l=c[a]).getAttribute("data-href"))===i||s===o)return t()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=t,u.onerror=function(t){var i=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=i,delete installedCssChunks[e],u.parentNode.removeChild(u),n(r)},u.href=o,document.getElementsByTagName("head")[0].appendChild(u)})).then((function(){installedCssChunks[e]=0})))},(()=>{var e={617:0,898:0,841:0,684:0,790:0,792:0,415:0,940:0,747:0,723:0,665:0,239:0,498:0,226:0};__webpack_require__.f.j=(t,n)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,o)=>i=e[t]=[n,o]));n.push(i[2]=o);var r=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(r,(n=>{if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[r,a,s]=n,c=0;for(i in a)__webpack_require__.o(a,i)&&(__webpack_require__.m[i]=a[i]);if(s)s(__webpack_require__);for(t&&t(n);c<r.length;c++)o=r[c],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[r[c]]=0},n=self.webpackChunkOpenStadComponents_name_=self.webpackChunkOpenStadComponents_name_||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{OpenStadComponent:()=>e.Z,Forms:()=>t.default,ChoicesGuide:()=>n.ChoicesGuide,ChoicesGuideResult:()=>n.ChoicesGuideResult,BaseMap:()=>i.default,Button:()=>o.default,IdeasOnMap:()=>a.default,IdeaDetails:()=>s.default,IdeasOverview:()=>c.default,IdeasImage:()=>l.default,Lightbox:()=>r.default,Poll:()=>u.default,PreviousNextButtonBlock:()=>d.default,Reactions:()=>h.default});__webpack_require__(4794),__webpack_require__(1457),__webpack_require__(3462),__webpack_require__(4533),__webpack_require__(9116),__webpack_require__(7147),__webpack_require__(3804),__webpack_require__(7196),__webpack_require__(7299);var e=__webpack_require__(7961),t=(__webpack_require__(2150),__webpack_require__(1588)),n=__webpack_require__(3190),i=__webpack_require__(3397),o=__webpack_require__(8556),r=__webpack_require__(3778),a=__webpack_require__(6705),s=__webpack_require__(6605),c=__webpack_require__(6623),l=__webpack_require__(4315),u=__webpack_require__(9738),d=__webpack_require__(3377),h=__webpack_require__(1662)})(),(window.OpenStadComponents=window.OpenStadComponents||{}).all=__webpack_exports__})();
//# sourceMappingURL=all.js.map