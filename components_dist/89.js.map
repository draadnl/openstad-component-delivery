{"version":3,"sources":["webpack:///./src/base-map/component/area.jsx","webpack:///./src/base-map/component/base-map.jsx","webpack:///./src/base-map/component/marker-cluster-group.jsx","webpack:///./src/base-map/component/marker.jsx","webpack:///./src/base-map/component/tile-layer.jsx","webpack:///./src/base-map/index.jsx","webpack:///./src/base-map/lib/amaps-cluster-icon.js","webpack:///./src/base-map/lib/search.js","webpack:///./src/ideas-on-map/component/map.jsx"],"names":["createCutoutPolygon","area","center","L","polygon","getBounds","getCenter","smallest","index","forEach","point","i","y","Math","sin","lng","cos","lat","x","bearing","atan2","PI","a","slice","b","length","concat","map","obj","OpenStadComponentMapArea","props","defaultConfig","polygonStyle","self","this","Array","isArray","inside","j","xi","yi","xj","yj","positions","pathOptions","config","OpenStadComponent","OpenStadComponentMap","search","zoom","zoomposition","disableDefaultUI","autoZoomAndCenter","scrollWheelZoom","clustering","isActive","target","divId","console","log","latitude","longitude","searchAddressByLatLng","suggestAddresses","LookupLatLngByAddressId","onMapClick","bind","state","markers","setArea","addMarkers","centerOn","editorMarker","position","setBoundsAndCenter","mapIsReady","event","CustomEvent","detail","id","window","dispatchEvent","markersData","markerData","addMarker","iconCreateFunction","icon","categorize","category","data","eval","categorizeByField","categories","defaultIcon","onClick","onMarkerClick","visible","doNotCluster","isClustered","push","setState","marker","indexOf","splice","newData","isFaded","points","poly","_latlng","coordinates","panTo","LatLng","bounds","latLngBounds","fitBounds","showMarker","hideMarker","filterFuntion","filterFunction","applyFilter","isPointInArea","latlng","customEvent","document","areaHTML","ref","el","clusterMarkers","layers","className","on","func","variant","minZoom","maxZoom","mapTiles","key","layer","OpenStadComponentMapMarkerCluster","maxClusterRadius","showCoverageOnHover","cluster","amapsCreateClusterIcon","onClusterClick","onClusterAnimationEnd","e","onAnimationEnd","OpenStadComponentMapMarker","markerprops","JSON","parse","err","iconSize","width","height","iconAnchor","anchor","addToClassname","before","removeFromClassName","iconUrl","Icon","html","divIcon","eventHandlers","eventname","EventName","charAt","toUpperCase","toLowerCase","onEvent","href","location","draggable","React","OpenStadComponentMapTileLayer","url","subdomains","attribution","OpenStadComponentBaseMap","elem","attributes","ReactDOM","getAllChildMarkers","colors","total","clusterMarker","find","options","color","soFar","Object","keys","myColor","perc","count","getChildCount","addresssesMunicipality","next","locatieApiUrl","replace","fetch","then","response","ok","Error","json","doc","docs","result","address","straatnaam","huisnummer","searchValue","headers","found","text","weergavenaam","Map","locationIcon","ideas","merge","filters","prevProps","prevState","ideasFilterOnchangeListener","onChangeFilter","addEventListener","ideasFilterResetAllListener","onResetFilters","removeEventListener","idea","visibleIdeas","getMarkers","filter","contains","selectedLocation","selectedLocationMarker","updateMarker","removeMarker","keepCenter","exception","elat","elng","fieldName","setFilter","value"],"mappings":"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","file":"89.js","sourcesContent":["'use strict';\n\nimport OpenStadComponent from '../../component/index.jsx';\nimport { Polygon } from 'react-leaflet'\n\nexport function\tcreateCutoutPolygon(area) {\n\n\tvar self = this;\n\n\t// polygon must defined from the south west corner to work with the outer box\n\tvar bounds = L.polygon(area).getBounds();\n\tvar center = bounds.getCenter();\n\n\tvar smallest = 0; var index = 0;\n\n\tarea.forEach(function( point, i ) {\n\t\tvar y = Math.sin(point.lng-center.lng) * Math.cos(point.lat);\n\t\tvar x = Math.cos(center.lat)*Math.sin(point.lat) - Math.sin(center.lat)*Math.cos(point.lat)*Math.cos(point.lng-center.lng);\n\t\tvar bearing = Math.atan2(y, x) * 180 / Math.PI;\n\t\tif (45 - bearing < smallest) {\n\t\t\tsmallest = 45 - bearing;\n\t\t\tindex = i;\n\t\t}\n\t});\n\n\tvar a = area.slice(0, index);\n\tvar b = area.slice(index, area.length);\n\tarea = b.concat(a);\n\n\t// outer box\n\t// TODO: should be calculated dynamically from the center point\n\tvar delta1 = 0.01;\n\tvar delta2 = 5;\n\tvar outerBox = [\n\t\t{lat: -90 + delta2, lng:  -180 + delta1 },\n\t\t{lat: -90 + delta2, lng:     0          },\n\t\t{lat: -90 + delta2, lng:   180 - delta1 },\n\t\t{lat:   0,          lng:   180 - delta1 },\n\t\t{lat:  90 - delta2, lng:   180 - delta1 },\n\t\t{lat:  90 - delta2, lng:     0          },\n\t\t{lat:  90 - delta2, lng:  -180 + delta1 },\n\t\t{lat:  90 - delta2, lng:  -180 + delta1 },\n\t\t{lat:   0,          lng:  -180 + delta1 },\n\t];\n\n  let result = [\n    outerBox.map(obj => [obj.lat, obj.lng]),\n    area.map(obj => [obj.lat, obj.lng])\n  ];\n\n  return result;\n\n}\n\n\nexport class OpenStadComponentMapArea extends OpenStadComponent {\n\n  constructor(props, defaultConfig) {\n\n    super(props, defaultConfig, {\n\t\t\tarea: null,\n      polygonStyle: {\n\t\t\t  \"color\": \"#d00\",\n\t\t\t  \"fillColor\": \"#000\",\n\t\t\t  \"fillOpacity\": 0.15\n\t\t  }\n\t\t});\n\n  }\n\n  isPointInArea(point) {\n\n    let self = this;\n    let polygon = self.props.area && self.props.area[1] && Array.isArray(self.props.area[1]) ? self.props.area[1] : self.props.area;\n\n    if (!point) return false;\n    if (!polygon) return true;\n\n\t  // taken from http://pietschsoft.com/post/2008/07/02/Virtual-Earth-Polygon-Search-Is-Point-Within-Polygon\n\n    var x = point.lat, y = point.lng;\n\n    var inside = false;\n    for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n        var xi = polygon[i][0], yi = polygon[i][1];\n        var xj = polygon[j][0], yj = polygon[j][1];\n\n        var intersect = ((yi > y) != (yj > y))\n            && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect) inside = !inside;\n    }\n\n    return inside; \n\n  }\n  \n  render() {\n\n    return (\n      <Polygon positions={this.props.area} pathOptions={this.config.polygonStyle}/>\n    );\n    \n\n  }\n\n}\n\nexport default OpenStadComponentMapArea;\n\n","'use strict';\n\nimport merge from 'merge';\nimport OpenStadComponent from '../../component/index.jsx';\nimport { MapContainer, MapConsumer, LayerGroup } from 'react-leaflet';\nimport TileLayer from './tile-layer.jsx';\nimport Marker from './marker.jsx';\nimport MarkerClusterGroup from './marker-cluster-group.jsx';\nimport { OpenStadComponentMapArea as Area, createCutoutPolygon } from './area.jsx';\nimport { searchAddressByLatLng, suggestAddresses, LookupLatLngByAddressId } from '../lib/search.js';\n\nimport '../css/default.less';\nimport 'leaflet/dist/leaflet.css';\nimport 'react-leaflet-markercluster/dist/styles.min.css';\n\n// TODO: wat doet updatemarker?\n\nexport default class OpenStadComponentMap extends OpenStadComponent {\n\n  constructor(props, defaultConfig) {\n\n    super(props, {\n\t\t\tsearch: false,\n\t\t\tcenter: {\n\t\t\t\tlat: 52.37104644463586,\n\t\t\t\tlng: 4.900402911007405,\n\t\t\t},\n\t\t\tzoom: 14,\n\t\t\tzoomposition: 'bottomleft',\n\t\t\tdisableDefaultUI: true,\n\t\t\tarea: null,\n\t\t\tautoZoomAndCenter: false,\n      scrollWheelZoom: true,\n      clustering: {\n        isActive: true,\n      },\n\t\t}, defaultConfig);\n\n\t\tlet self = this;\n    self.config.target = self.divId;\n\n    // polygon is the old name for area\n    if (self.config.polygon || self.config.autoZoomAndCenter == 'polygon') console.log(\"DEPRECATED: use 'area' instead of 'polygon'\");\n    if (self.config.polygon && !self.config.area) self.config.area = self.config.polygon;\n    if (self.config.autoZoomAndCenter == 'polygon') self.config.autoZoomAndCenter = 'area';\n\n    // more backwards compatibility\n    self.config.center.lat = props.config && props.config.center && props.config.center.latitude || self.config.center.lat;\n    self.config.center.lng = props.config && props.config.center && props.config.center.longitude || self.config.center.lng;\n\n    // search functions\n    self.searchAddressByLatLng = searchAddressByLatLng.bind(self);\n    self.suggestAddresses = suggestAddresses.bind(self);\n    self.LookupLatLngByAddressId = LookupLatLngByAddressId.bind(self);\n\n    self.onMapClick = self.onMapClick.bind(self)\n\n    self.state = {\n\t\t  markers: [],\n    }\n\n  }\n\n\tasync componentDidMount() {\n\n    let self = this;\n\n    // area\n    await self.setArea(self.config.area);\n\n    // initial markers\n    if (self.config.markers && self.config.markers.length) {\n      this.addMarkers(self.config.markers)\n    }\n\n\t  // zoom and center\n\t  if (self.config.autoZoomAndCenter) {\n\t\t  let centerOn = ( self.config.autoZoomAndCenter == 'area' && self.config.area ) || ( self.state.markers && self.state.markers.length && self.state.markers ) || self.config.area;\n\n\t\t  if (self.editorMarker) {\n\t\t\t  if (self.editorMarker.position) {\n\t\t\t\t  centerOn = [self.editorMarker];\n\t\t\t  } else {\n\t\t\t\t  centerOn = self.config.area;\n\t\t\t  }\n\t\t  }\n\t\t  if (centerOn) {\n\t\t\t  self.setBoundsAndCenter( centerOn );\n\t\t  }\n\t  }\n\n    // console.log('BASE-MAP DID MOUNT');\n\t\tself.mapIsReady = true;\n\t\tlet event = new CustomEvent('osc-map-is-ready', { detail: { id: self.divId } });\n\t\twindow.dispatchEvent(event);\n\n\t}\n\n\taddMarkers(markersData) {\n\t\tlet self = this;\n    markersData.forEach(markerData => {\n      self.addMarker(markerData)\n    });\n  }\n\n\taddMarker(markerData) {\n\n    let {markers} = this.state;\n\n    markerData.iconCreateFunction = markerData.iconCreateFunction || this.config.iconCreateFunction;\n    if (!markerData.icon && this.config.categorize) {\n      let category = markerData.data && eval(`markerData.data.${this.config.categorize.categorizeByField}`);\n      let icon = ( this.config.categorize.categories[ category ] && this.config.categorize.categories[ category ].icon );\n      if (icon) markerData.icon = icon;\n    }\n    if (!markerData.icon && this.config.defaultIcon) {\n      markerData.icon = this.config.defaultIcon;\n    }\n\n    markerData.onClick = markerData.onClick ? [ markerData.onClick, this.onMarkerClick ] : [ this.onMarkerClick ];\n    markerData.visible = true;\n\n\t\tif (this.config.clustering && this.config.clustering.isActive && !markerData.doNotCluster) {\n      markerData.isClustered = true;\n\t\t}\n\n    markers.push(markerData);\n    this.setState({markers});\n    return markerData;\n\n\t}\n\n\tremoveMarker(marker) {\n\n    if (!marker) return;\n    let {markers} = this.state;\n\n    let index = markers.indexOf(marker);\n    if (index > -1) {\n      markers.splice(index, 1)\n    }\n\n    this.setState({markers});\n\n  }\n\n\tupdateMarker(marker, newData) {\n\n    if (!marker) return;\n    let {markers} = this.state;\n\n    let index = markers.indexOf(marker);\n\n    if ( index != -1 ) {\n\n      let lat = newData.lat || marker.lat;\n      let lng = newData.lng || marker.lng;\n      if (lat && lng) {\n        markers[index].lat = lat\n        markers[index].lng = lng\n      }\n\n      if (typeof newData.isFaded != 'undefined') {\n        markers[index].isFaded = newData.isFaded\n      }\n\n      this.setState({markers});\n\n    }\n\n  }\n\n  getMarkers() {\n    return this.state.markers;\n  }\n\n  setMarkers(markers) {\n    return this.setState({markers});\n  }\n\n  async setArea(area) {\n    if (area) {\n      let polygon = createCutoutPolygon(area);\n      await this.setState({ area: polygon })\n    }\n  }\n\n  async unsetArea(area) {\n    await this.setState({ area: null });\n  }\n\n  setBoundsAndCenter( points ) {\n\n\t  let self = this;\n\n    if (!Array.isArray(points) || points.length == 0) {\n      self.map.panTo(new L.LatLng(self.config.center.lat, self.config.center.lng));\n      return;\n    }\n\n\t  let poly = [];\n\t  points.forEach(function(point) {\n\t\t  if (point._latlng) {\n\t\t\t  point = point._latlng;\n\t\t  } else if (point.position) {\n\t\t\t  point = point.position.coordinates ? { lat: point.position.coordinates[0], lng: point.position.coordinates[1] }  : point.position;\n\t\t  }\n\t\t  poly.push(point);\n\t  })\n\n    if (poly.length == 1) {\n      self.map.panTo(new L.LatLng(poly[0].lat, poly[0].lng));\n    } else {\n\t    let bounds = L.latLngBounds(poly);\n\t    self.map.fitBounds(bounds);\n    }\n\n\t  // let zoom = parseInt(self.map.getZoom())\n\t  // self.map.setZoom(zoom - 1)\n\n  }\n\n  showMarkers(markers) {\n\t  let self = this;\n    markers.forEach((marker) => {\n      self.showMarker(marker);\n    });\n  }\n  \n  showMarker(marker) {\n    if (!marker) return;\n    let {markers} = this.state;\n\n    let index = markers.indexOf(marker);\n    if (index > -1) {\n      markers[index].visible = true;\n    }\n\n    this.setState({markers});\n  }\n\n  hideMarkers(markers) {\n\t  let self = this;\n    markers.forEach((marker) => {\n      self.hideMarker(marker);\n    });\n  }\n  \n  hideMarker(marker) {\n    if (!marker) return;\n    let {markers} = this.state;\n\n    let index = markers.indexOf(marker);\n    if (index > -1) {\n      markers[index].visible = false;\n    }\n\n    this.setState({markers});\n  }\n\n  setFilter(filterFuntion) {\n\t  let self = this;\n\t  self.filterFunction = filterFuntion;\n\t  self.applyFilter();\n  }\n\n  applyFilter() {\n\t  let self = this;\n\t  if (self.filterFunction) {\n\t\t  self.state.markers.forEach(function(marker) {\n\t\t\t  if ( self.filterFunction(marker) ) {\n\t\t\t\t  self.showMarker(marker);\n\t\t\t  } else {\n\t\t\t\t  self.hideMarker(marker);\n\t\t\t  }\n\t\t  });\n\t  } else {\n\t\t  self.state.markers.forEach(function(marker) {\n\t\t\t  self.showMarker(marker);\n\t\t  });\n\t  }\n  }\n\n  isPointInArea(point) {\n    if (this.area) {\n      return this.area.isPointInArea(point);\n    } else {\n      return true;\n    }\n  }\n\n\tonMapClick(event) {\n    event.isPointInArea = this.isPointInArea(event.latlng);\n\t\tlet customEvent = new CustomEvent('osc-map-click', { detail: event });\n\t\tdocument.dispatchEvent(customEvent);\n  }\n\n\tonMarkerClick(event) {\n\t\tlet customEvent = new CustomEvent('osc-map-marker-click', { detail: event });\n\t\tdocument.dispatchEvent(customEvent);\n  }\n\n  onMapClusterAnimationEnd(event) {\n  }\n\n\trender() {\n\n    let self = this;\n\n    let areaHTML = null;\n    if (self.state.area) {\n      areaHTML = (<Area config={self.config} area={self.state.area} ref={el => (self.area = el)}/>);\n    }\n\n    let clusterMarkers = [];\n    let layers = self.props.layers || [];\n\n    return (\n      <MapContainer id={self.divId} className={self.props.className || 'osc-map'} center={[self.config.center.lat, self.config.center.lng]} zoom={self.config.zoom} scrollWheelZoom={self.config.scrollWheelZoom}>\n\n        <MapConsumer>\n          { map => {\n            if (self.map) return null;\n            self.map = map;\n            map.on('click', event => {\n              let onClick = self.config.onClick || [];\n              if (!Array.isArray(onClick)) onClick = [onClick];\n              onClick.push(self.onMapClick);\n              onClick.map(func => {\n\t\t\t          if (typeof func == 'string') onClick = eval(func);\n                func(event);\n              })\n            })\n            return null;\n          }}\n        </MapConsumer>\n\n        <TileLayer variant={self.config.variant} minZoom={self.config.minZoom} maxZoom={self.config.maxZoom} mapTiles={self.config.mapTiles}/>\n\n        {self.state.markers.map((data, i) => {\n          if (data.isClustered) {\n            clusterMarkers.push(data);\n          } else {\n            return (<Marker {...data} key={`marker-${i}`}/>);\n          }\n        })}\n\n        {layers.map((layer, i) => {\n          return (\n            <LayerGroup className={`layergroup-${i}`} key={`layergroup-${i}`}>{layer}</LayerGroup>\n          );\n        })}\n\n        <MarkerClusterGroup config={{ ...self.config.clustering, categorize: self.config.categorize }} markers={clusterMarkers}/>\n\n        {areaHTML}\n\n      </MapContainer>\n    );\n\n  }\n\n}\n","'use strict';\n\nimport React from 'react';\nimport OpenStadComponent from '../../component/index.jsx';\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nimport Marker from './marker.jsx';\nimport amapsCreateClusterIcon from '../lib/amaps-cluster-icon.js';\n\nexport default class OpenStadComponentMapMarkerCluster extends OpenStadComponent {\n\n  constructor(props, defaultConfig) {\n\n    super(props, defaultConfig, {\n      isActive: true,\n      maxClusterRadius: 40,\n      showCoverageOnHover: false,\n      categorize: {\n        categorizeByField: 'xxx',\n        categories: {},\n      }\n    });\n\n    this.iconCreateFunction = this.iconCreateFunction.bind(this);\n\n  }\n\n  componentDidMount() {\n  }\n\n\ticonCreateFunction(cluster) {\n    // TODO: uitwerken default voor andere varianten dan amaps\n\t\tlet iconCreateFunction = this.config.iconCreateFunction || amapsCreateClusterIcon // ( this.config.variant == 'amaps' ? amapsCreateClusterIcon.bind(self) : self.createClusterIcon );\n\t\tif (iconCreateFunction && typeof iconCreateFunction == 'string') iconCreateFunction = eval(iconCreateFunction);\n    iconCreateFunction = iconCreateFunction.bind(this)\n    return iconCreateFunction(cluster, this.props.markers);\n  }\n  \n\tonClusterClick(event) {\n    let func = this.config.onClusterClick;\n    if (func) {\n\t\t\tif (typeof func == 'string') func = eval(func);\n      func(event);\n    }\n\t\tlet customEvent = new CustomEvent('osc-map-cluster-click', { event });\n\t\tdocument.dispatchEvent(customEvent);\n  }\n\n\tonClusterAnimationEnd(event) {\n    // todo: deze lijkt niets te doen\n    let func = this.config.onClusterAnimationEnd;\n    if (func) {\n\t\t\tif (typeof func == 'string') func = eval(func);\n      func(event);\n    }\n\t\tlet customEvent = new CustomEvent('osc-map-cluster-animation-end', { event });\n\t\tdocument.dispatchEvent(customEvent);\n  }\n\n  render() {\n\n    let self = this;\n\n    return (\n      <MarkerClusterGroup {...this.config} iconCreateFunction={self.iconCreateFunction} onClick={e => self.onClusterClick(e)} onAnimationEnd={e => self.onClusterAnimationEnd(e)}>\n        {this.props.markers.map((data, i) => \n          <Marker {...data} key={`marker-${i}`}/>\n        )}\n      </MarkerClusterGroup>\n    );\n  }\n  \n}\n","'use strict';\n\nimport React from 'react';\nimport { Marker, Popup } from 'react-leaflet'\nimport { addToClassname, removeFromClassName } from '../../libs/index.jsx';\n\nexport default class OpenStadComponentMapMarker extends React.Component {\n\n  render() {\n\n    let markerprops = { ...this.props };\n\n    // position\n    let position = this.props.position;\n    if (this.props.lat) {\n      position = [ this.props.lat, this.props.lng ];\n    }\n\n    // icon\n    delete markerprops.icon;\n\t\tlet icon = this.props.icon;\n\t\tif (!icon) {\n\t\t\tlet iconCreateFunction = this.props.iconCreateFunction;\n\t\t\tif (iconCreateFunction && typeof iconCreateFunction == 'string') {\n\t\t\t\ticonCreateFunction = eval(iconCreateFunction);\n\t\t\t}\n\t\t\tif (iconCreateFunction && typeof iconCreateFunction == 'function') {\n\t\t\t\ticon = iconCreateFunction();\n\t\t\t}\n\t\t}\n    if (icon) {\n      try {\n        icon = JSON.parse(icon);\n      } catch(err) {}\n\n      if (!icon.iconSize && icon.width && icon.height) icon.iconSize = [icon.width, icon.height]\n      if (!icon.iconAnchor && icon.anchor) icon.iconAnchor = icon.anchor\n\n      addToClassname(icon, 'osc-map-marker', { before: true })\n      markerprops.isFaded ? addToClassname(icon, 'osc-map-marker-faded') : removeFromClassName(icon, 'osc-map-marker-faded');\n      if (icon.iconUrl) markerprops.icon = new L.Icon(icon);\n      if (icon.html) markerprops.icon = new L.divIcon(icon);\n    }\n\n    // events\n    let eventHandlers = {};\n    for (let eventname of ['click', 'mouseDown', 'mouseUp', 'dragStart', 'dragEnd']) {\n      let EventName = 'on' + eventname.charAt(0).toUpperCase() + eventname.slice(1);;\n      eventname = eventname.toLowerCase();\n      let onEvent = markerprops[EventName] || [];\n      if (!Array.isArray(onEvent)) onEvent = [onEvent];\n\t\t  if (EventName == 'onClick' && this.props.href) {\n\t\t    onEvent.push(function() {\n\t\t      document.location.href = markerprops.href;\n\t\t    });\n\t\t  }\n      if (onEvent.length) {\n        eventHandlers[eventname] = e => {\n          onEvent.map(func => {\n\t\t\t      if (typeof func == 'string') return eval(func)(e);\n            return func(e);\n          })\n        }\n\t\t  }\n    }\n\n    let draggable = eventHandlers['dragstart'] || eventHandlers['dragend'];\n    \n    return this.props.visible ? (\n      <Marker position={position} {...markerprops} eventHandlers={{ ...eventHandlers }} draggable={!!draggable}/>\n    ) : null;\n\n  }\n  \n}\n","'use strict';\n\nimport OpenStadComponent from '../../component/index.jsx';\nimport { TileLayer } from 'react-leaflet'\n\nexport default class OpenStadComponentMapTileLayer extends OpenStadComponent {\n\n  render() {\n\n    switch(this.props.variant) {\n\t\t\tcase \"n9r\":\n        return (\n          <TileLayer\n            url=\"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png\"\n\t          minZoom={ typeof this.props.minZoom != 'undefined' ? this.props.minZoom : 0 }\n\t          maxZoom={ typeof this.props.maxZoom != 'undefined' ? this.props.maxZoom : 19 }\n            subdomains=\"abcd\"\n          />)\n        break;\n\t\t\tcase \"amaps\":\n        return (\n\t\t\t\t  <TileLayer\n            url=\"https://t{s}.data.amsterdam.nl/topo_wm/{z}/{x}/{y}.png\"\n\t          subdomains=\"1234\"\n\t          minZoom={ typeof this.props.minZoom != 'undefined' ? this.props.minZoom : 11 }\n\t          maxZoom={ typeof this.props.maxZoom != 'undefined' ? this.props.maxZoom : 21 }\n          />)\n\t\t\t\tbreak;\n\t\t\tcase \"openstreetmaps\":\n        return (\n          <TileLayer\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n\t          minZoom={ typeof this.props.minZoom != 'undefined' ? this.props.minZoom : 0 }\n\t          maxZoom={ typeof this.props.maxZoom != 'undefined' ? this.props.maxZoom : 19 }\n            subdomains=\"abc\"\n            attribution=\"<a href='https://www.openstreetmap.org/copyright'>Â© OpenStreetMap contributors</a>\"\n\n          />)\n        break;\n\t\t\tcase \"custom\":\n        return (\n          <TileLayer\n            url={this.props.mapTiles && this.props.mapTiles.url || 'https://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/standaard/EPSG:3857/{z}/{x}/{y}.png'}\n\t          minZoom={ typeof this.props.minZoom != 'undefined' ? this.props.minZoom : 0 }\n\t          maxZoom={ typeof this.props.maxZoom != 'undefined' ? this.props.maxZoom : 19 }\n            subdomains={this.props.mapTiles && this.props.mapTiles.subdomains || ''}\n            attribution={this.props.mapTiles && this.props.mapTiles.attribution}\n          />)\n        break;\n\t\t\tdefault:\n\t\t\tcase \"nlmaps\":\n        return (\n          <TileLayer\n            url=\"https://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/standaard/EPSG:3857/{z}/{x}/{y}.png\"\n\t          minZoom={ typeof this.props.minZoom != 'undefined' ? this.props.minZoom : 6 }\n\t          maxZoom={ typeof this.props.maxZoom != 'undefined' ? this.props.maxZoom : 19 }\n\t          bounds={[[50.5, 3.25], [54, 7.6]]}\n            subdomains=''\n\t          attribution=\"Kaartgegevens &copy; <a href='kadaster.nl'>Kadaster</a\"\n          />)\n\t\t}\n\n  }\n\n}\n","// polyfills\nimport 'whatwg-fetch';\n\n// react\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// the module\nimport OpenStadComponentBaseMap from './component/base-map.jsx';\n\n// render elements\nOpenStadComponentBaseMap.renderElement = function renderElement( elem, config ) {\n  let attributes = elem.attributes;\n\tReactDOM.render( <OpenStadComponentBaseMap attributes={attributes} config={config}/>, elem)\n}\n\nexport {\n  OpenStadComponentBaseMap as default,\n  OpenStadComponentBaseMap as BaseMap,\n};\n\n","export default function amapsCreateClusterIcon(cluster, markers) {\n\n  let self = this;\n  \n  let clusterMarkers = cluster.getAllChildMarkers();\n\n  let colors = {}\n  let total = clusterMarkers.length;\n  let isFaded = true;\n  clusterMarkers.forEach((clusterMarker) => {\n    // find this marker in the actual markers list because the clusterMarker is not updated\n    let marker = markers.find(marker => marker.lat == clusterMarker.options.lat && marker.lng == clusterMarker.options.lng);\n    if (!marker) return // console.log('Marker not found:', clusterMarker)\n    let category = marker && marker.data && eval(`marker.data.${self.config.categorize.categorizeByField}`);\n    let color = ( self.config.categorize.categories[ category ] && self.config.categorize.categories[ category ].color ) || '#164995';\n    if ( !colors[color] ) colors[color] = 0;\n    colors[color]++;\n    if ( !(marker && marker.isFaded) ) isFaded = false;\n  });\n\n  let html = '<svg viewBox=\"0 0 36 36\"><circle cx=\"18\" cy=\"18\" r=\"14\" fill=\"white\"/>'\n\n  let soFar = 0;\n  Object.keys(colors).forEach((key) => {\n    let myColor = key;\n    let perc = 100 * colors[key] / total;\n    let angle = (soFar / 100) * 360;\n    \n    html += `    <path\n      d=\"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\"\n      fill=\"none\"\n      transform=\"rotate(${angle}, 18, 18)\"\n      stroke=\"${myColor}\"\n      stroke-width=\"4\"\n      stroke-dasharray=\"${perc}, 100\"\n    />`;\n    soFar = soFar + perc;\n  });\n\n  let count = cluster.getChildCount();\n  html += '<text x=\"18\" y=\"21\" text-anchor=\"middle\" class=\"openstad-component-ideas-on-map-icon openstad-component-ideas-on-map-icon-text\">' + count + '</text>';\n\n  html += '</svg>';\n\n  let className = 'osc-map-marker-cluster';\n  className += ' openstad-component-ideas-on-map-icon-cluster'; // backwards compatibility; should be added by ideas-on-map\n  if (isFaded) className += ' osc-map-marker-cluster-faded'\n\n  return L.divIcon({ html: html, className, iconSize: L.point(36, 36), iconAnchor: [18, 18] });\n\n}\n","export const searchAddressByLatLng = function({ latlng, addresssesMunicipality, next }) {\n  \n\tlet self = this;\n  let locatieApiUrl = 'https://api.pdok.nl/bzk/locatieserver/search/v3_1/free?lat=[[lat]]5&lon=[[lng]]&fq=type:adres&rows=1';\n  if (addresssesMunicipality) {\n    locatieApiUrl += `&fq=gemeentenaam:${addresssesMunicipality}`;\n  }\n\n\tlatlng = latlng || {};\n\n\tlet url = locatieApiUrl\n\t\t\t.replace(/\\[\\[lat\\]\\]/, latlng.lat)\n\t\t\t.replace(/\\[\\[lng\\]\\]/, latlng.lng);\n\n\tfetch(url)\n    .then((response) => {\n      if (!response.ok) throw Error(response);\n      return response.json();\n    })\n    .then( json => {\n\n      let doc = json.response && json.response.docs && json.response.docs[0];\n      \n      if (!doc) throw new Error ('Niets gevonden');\n\n      let result = {\n        address: `${doc.straatnaam} ${doc.huisnummer}`\n      }\n\n\t\t\tresult.lat = latlng.lat;\n\t\t\tresult.lng = latlng.lng;\n\t\t\tif (next) return next(result);\n      return result;\n\n    })\n    .catch((err) => {\n      console.log('Zoek adres: niet goed');\n      console.log(err);\n\t\t\tif (next) next({});\n    });\n\n}\n\nexport const suggestAddresses = function({ searchValue, addresssesMunicipality, next }) {\n  let url = `https://api.pdok.nl/bzk/locatieserver/search/v3_1/suggest?rows=5&fq=gemeentenaam:${addresssesMunicipality}&fq=*:*&q=${searchValue}`;\n\n  fetch(url, {\n    headers: {\n      // 'Content-Type': 'application/json',\n    },\n  })\n\t\t.then((response) => {\n\t\t\treturn response.json();\n\t\t})\n    .then( json => {\n      let result = []\n      if (json && json.response && json.response.docs && json.response.docs.length) {\n        result = json.response.docs.map( found => { return {\n          id: found.id,\n\t\t\t\t\ttext: found.weergavenaam,\n\t\t\t\t}});\n      }\n\t\t\tif (next) return next(result);\n      return result;\n    })\n    .catch((err) => {\n      console.log('Search failed:', err);\n\t\t\tif (next) next({});\n    });\n\n}\n\nexport const LookupLatLngByAddressId = function({ id, addresssesMunicipality, next }) {\n  fetch(`https://api.pdok.nl/bzk/locatieserver/search/v3_1/lookup?fq=gemeentenaam:${addresssesMunicipality}&&id=${id}`)\n\t\t.then((response) => {\n\t\t\treturn response.json();\n\t\t})\n    .then( json => {\n      let result = {};\n      if (json && json.response && json.response.docs && json.response.docs[0]) {\n        result = json.response.docs[0];\n      }\n\t\t\tif (next) return next(result);\n      return result;\n    })\n    .catch((err) => {\n      console.log('Search failed:', err);\n      if (next) next({})\n    });\n\n}\n","'use strict';\n\nimport merge from 'merge';\nimport OpenStadComponentBaseMap from '../../base-map/index.jsx';\n\nexport default class Map extends OpenStadComponentBaseMap {\n\n  constructor(props) {\n\n    super(props, {\n      clustering: {\n        maxClusterRadius: 100,\n        showCoverageOnHover: false,\n      },\n      locationIcon: { html: '<svg width=\"39\" height=\"50\" viewBox=\"0 0 39 50\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19.1038 0C29.6577 0 38.2075 8.46671 38.2075 18.9181C38.2075 33.1786 21.7544 47.7273 21.0432 48.3035L19.1038 50L17.1643 48.3035C16.4532 47.7273 0 33.1786 0 18.9181C0 8.46831 8.54983 0 19.1038 0ZM32.3245 18.9181C32.3083 11.6837 26.4091 5.84187 19.1038 5.82586C11.7984 5.84187 5.89922 11.6837 5.88306 18.9181C5.88306 27.3367 14.1581 37.2439 19.0876 42.1095C23.1767 38.1242 32.3245 27.993 32.3245 18.9181Z\" fill=\"#EC0000\"/><path d=\"M19.104 5.82568C26.4093 5.84169 32.3086 11.6836 32.3247 18.9179C32.3247 27.9928 23.1769 38.124 19.0879 42.1093C14.1584 37.2437 5.8833 27.3366 5.8833 18.9179C5.89946 11.6836 11.7987 5.84169 19.104 5.82568ZM25.5689 18.9179C25.5689 15.3807 22.6759 12.5158 19.104 12.5158C15.5322 12.5158 12.6391 15.3807 12.6391 18.9179C12.6391 22.455 15.5322 25.3199 19.104 25.3199C22.6759 25.3199 25.5689 22.455 25.5689 18.9179Z\" fill=\"white\"/><path d=\"M19.1038 25.3202C22.6743 25.3202 25.5687 22.4539 25.5687 18.9182C25.5687 15.3824 22.6743 12.5161 19.1038 12.5161C15.5333 12.5161 12.6389 15.3824 12.6389 18.9182C12.6389 22.4539 15.5333 25.3202 19.1038 25.3202Z\" fill=\"#EC0000\"/></svg>', className: 'osc-ideas-on-map-icon', width: 39, height: 50, iconAnchor: [20, 50] },\n      // types: [],\n    });\n\n    // tmp fallback\n    this.config.autoZoomAndCenter = this.config.autoZoomAndCenter || 'area';\n\n    // backwards compatibility\n    if ( this.config.autoZoomAndCenter == 'polygon' )this.config.autoZoomAndCenter = 'area';\n\n    this.ideas = [];\n\n    this.state = merge.recursive(this.state, {\n      filters: {},\n    });\n\n  }\n\n\tcomponentDidMount(prevProps, prevState) {\n\n    super.componentDidMount(prevProps, prevState);\n\n    let self = this;\n\n    self.ideasFilterOnchangeListener = function(event) {\n      self.onChangeFilter(event.detail)\n    }      \n\t  document.addEventListener('osc-ideas-filter-onchange', self.ideasFilterOnchangeListener);\n\n    self.ideasFilterResetAllListener = function(event) {\n      self.onResetFilters(event.detail)\n    }      \n\t  document.addEventListener('osc-ideas-filter-reset-all', self.ideasFilterResetAllListener);\n    \n\t}\n\n  componentWillUnmount() {\n    document.removeEventListener('osc-ideas-filter-onchange', this.ideasFilterOnchangeListener)\n    document.removeEventListener('osc-ideas-filter-reset-all', this.ideasFilterResetAllListener)\n  }\n  \n  addIdea(idea) {\n    let self = this;\n    self.ideas.push(idea);\n    self.addMarker({ lat: idea.location.coordinates[0], lng: idea.location.coordinates[1], data: idea });\n  }\n\n  getVisibleIdeas() {\n    let self = this;\n    let visibleIdeas = self.getMarkers()\n        .filter( marker => marker.visible && marker.data && self.map.getBounds().contains({ lat: marker.lat, lng: marker.lng }))\n        .map( marker => marker.data );\n    self.setState({ visibleIdeas });\n    return visibleIdeas;\n  }\n\n  setSelectedLocation(location) {\n    this.selectedLocation = location;\n    if (this.selectedLocation) {\n      if (this.selectedLocationMarker) {\n        this.updateMarker(this.selectedLocationMarker, { ...location });\n      } else {\n\t\t    let icon = { html: this.config.locationIcon.html, className: 'osc-ideas-on-map-icon', iconSize: L.point(this.config.locationIcon.width, this.config.locationIcon.height), iconAnchor: this.config.locationIcon.iconAnchor };\n        this.selectedLocationMarker = this.addMarker({ ...location, icon, doNotCluster: true });\n      }\n    } else {\n      if (this.selectedLocationMarker) {\n        this.removeMarker(this.selectedLocationMarker);\n      }\n      this.selectedLocationMarker = null;\n    }\n  }\n\n  setBoundsAndCenter(points) {\n    super.setBoundsAndCenter(points || ( this.config.autoZoomAndCenter == 'area' && this.config.area ) || this.getMarkers());\n  }\n\n  showMarkers({ keepCenter=false }) {\n\t  var self = this;\n    self.getMarkers().forEach((marker) => {\n      self.showMarker(marker)\n    });\n  }\n\n  hideMarkers({ exception }) {\n\t  var self = this;\n    let elat = exception && exception.location && exception.location.lat\n    let elng = exception && exception.location && exception.location.lng\n    if (elat && elng) self.setBoundsAndCenter([{ lat: elat, lng: elng }]);\n    self.getMarkers().forEach((marker) => {\n      if (!(elat == marker.lat && elng == marker.lng)) {\n        self.hideMarker(marker)\n      }\n    });\n  }\n\n  fadeMarkers({ exception }) {\n    let self = this;\n    self.getMarkers().forEach((marker) => {\n      let isFaded;\n      if (exception && marker.data && marker.data.id && exception.id == marker.data.id) {\n        isFaded = false;\n      } else if (this.selectedLocationMarker && this.selectedLocationMarker == marker) {\n        isFaded = false;\n      } else {\n        isFaded = true;\n      }\n      self.updateMarker(marker, { isFaded })\n    });\n  }\n\n  unfadeAllMarkers() {\n    let self = this;\n    // markers\n    self.getMarkers().forEach((marker) => {\n      self.updateMarker(marker, { isFaded:false })\n    });\n  }\n\n  onChangeFilter(filter) {\n    // TODO: areas update zou ook met polygons moeten werken\n    let self = this;\n    let filters = self.state.filters;\n    filters[filter.fieldName] = filter;\n    self.setState({ filters }, () => {\n\t    self.setFilter(function(marker) {\n        let result = true;\n        Object.keys(self.state.filters).forEach((fieldName) => {\n          let filter = self.state.filters[fieldName]\n\t\t      if (filter.value && filter.value !== '0') {\n\t\t\t      if (marker.data && !eval(`marker.data.${filter.fieldName}`) || eval(`marker.data.${filter.fieldName}`) != filter.value) result = false;\n\t\t      }\n        });\n        return result;\n\t    })\n    });\n  }\n\n  onResetFilters(filter) {\n    this.setBoundsAndCenter()\n  }\n\n}\n"],"sourceRoot":""}