/*! For license information please see ideas-on-map.js.LICENSE.txt */
(()=>{var __webpack_modules__={676:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},3349:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},6610:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>r})},5991:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:()=>i})},6156:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},7608:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:()=>r})},379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4665);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},6070:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(484),i=n(3349);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},4665:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:()=>r})},4699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2961);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(676);var i=n(2961);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},484:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})},2961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(676);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},1224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(6610),i=n(5991),o=n(379),a=n(6070),s=n(7608),c=n(7961),l=n(7177);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e,{number:null,icon:null,url:null,label:null})).state={number:i.config.number,icon:i.config.icon,url:i.config.url,label:i.config.label},i}return(0,i.Z)(n,[{key:"updateNumber",value:function(e){this.setState({number:e})}},{key:"render",value:function(){var e=this,t="osc-button-component ".concat(e.props.className),n=parseInt(void 0!==e.props.number?e.props.number:e.state.number),r=null;(n||0==n)&&(t+=" osc-numberplate-button",r=React.createElement(l.Z,{number:n,ref:function(t){e.numberplates=t}}));var i=null;if(e.config.icon){var o=void 0!==e.props.icon?e.props.icon:e.state.icon;t+=" osc-icon-button",i=React.createElement("div",{className:"osc-icon"},React.createElement("img",{src:o.url,style:{width:o.width,height:o.height,marginTop:o.top,marginLeft:o.left}}))}var a=null;if(e.config.label){void 0!==e.props.label?e.props.label:e.state.label;a=React.createElement("div",{className:"osc-button-label"},React.createElement("div",{className:"osc-elipsis"},e.config.label))}var s=void 0!==e.props.onClick?e.props.onClick:null,c=void 0!==e.props.url?e.props.url:e.state.url;return c&&(s=function(){return document.location.href=c}),s&&(t+=" osc-button-clickable"),e.props.disabled&&(t+=" osc-disabled"),React.createElement("div",{id:e.divId,onClick:s,className:t,role:"link",tabIndex:"0"},r,i,a)}}]),n}(c.Z)},7177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(6610),i=n(5991),o=n(379),a=n(6070),s=n(7608);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var l=function(e){(0,o.Z)(n,e);var t=c(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e,{number:0})).state={number:i.config.number},i}return(0,i.Z)(n,[{key:"updateNumber",value:function(e){this.setState({number:e})}},{key:"render",value:function(){var e=this,t=[],n=parseInt(void 0!==e.props.number?e.props.number:e.state.number),r=(n=n.toString()).length;r<3&&(r=3),n=("000"+n).slice(-r);for(var i=0;i<n.length;i++){var o=n.length-i-1;t.push(React.createElement("div",{id:"osc-numberplate-"+o,className:"osc-numberplate",key:"osc-numberplate-"+i},n.charAt(i)))}return React.createElement("div",{id:e.divId,className:e.props.className||"osc-numberplates",ref:function(t){return e.instance=t}},t)}}]),n}(n(7961).Z)},7961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(484),i=n(6610),o=n(5991),a=n(3349),s=n(379),c=n(6070),l=n(7608),u=n(1965),d=n.n(u),f=n(3804),p=n.n(f);n(3462);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var h=function(e){(0,s.Z)(n,e);var t=_(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.Z)(this,n),r=t.call(this,e);var c=(0,a.Z)(r);if(e.attributes&&Object.keys(e.attributes).forEach((function(t){var n=e.attributes[t];c[n.name]=n.value})),"string"==typeof c.config)try{c.config=JSON.parse(c.config)}catch(e){}var l=e.config||{};return l=m(l),c.config=d().recursive({siteId:null,api:{url:null,headers:null,isUserLoggedIn:!1},user:{}},o,s,l),c.divId=c.divId||c.config&&c.config.divId||e.id||"openstad-component-".concat(parseInt(1e8*Math.random())),c.config.divId=null,window[c.divId]=c,r}return(0,o.Z)(n,[{key:"componentDidMount",value:function(e,t){}}]),n}(p().Component);function m(e){return"object"!=(0,r.Z)(e)||Object.keys(e).forEach((function(t){void 0!==e[t]&&null!=e[t]||delete e[t],"object"==(0,r.Z)(e[t])&&(e[t]=m(e[t]))})),e}},1337:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(484),i=n(6610),o=n(5991),a=n(3349),s=n(379),c=n(6070),l=n(7608);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var d=function(e){(0,s.Z)(n,e);var t=u(n);function n(e){var o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,n),o=t.call(this,e,{choices:[],name:"",placeholder:"",disabled:!1,required:!1},s);var c=(0,a.Z)(o);return c.state={value:null!=(0,r.Z)(e.value)?e.value:"",error:null},o.onChange=e.onChange,o}return(0,o.Z)(n,[{key:"validate",value:function(e){var t=e.showErrors,n=!this.config.required||!!this.state.value,r="";return!n&&t&&(r=!0),this.setState({isValid:n,error:r}),n}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},t.setState(e,(function(){t.validate({})})),"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}}]),n}(n(7961).Z)},1588:(e,t,n)=>{"use strict";n.d(t,{default:()=>F});n(7147);var r=n(3804),i=n.n(r),o=(n(7196),n(4393),n(6156)),a=n(6610),s=n(5991),c=n(3349),l=n(379),u=n(6070),d=n(7608),f=n(7961),p=n(1965),_=n.n(p),h=n(1337);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var v=function(e){(0,l.Z)(n,e);var t=m(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this;return React.createElement("input",{type:"hidden",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}})}}]),n}(h.Z);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var b=function(e){(0,l.Z)(n,e);var t=g(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).state={value:r.props.value},r.onKeyUpx=r.onKeyUpx.bind((0,c.Z)(r)),r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this.props.value;n=this.filterHTML(n),this.input.innerHTML=n}},{key:"filterHTML",value:function(e){return e=(e=(e=e.replace(/<(\/?\s*(?:a [^>]+|a|b|i|strong|em|p|div|br|ul|li)\s*\/?)>/g,"[[[$1]]]")).replace(/<[^>]+>/g,"")).replace(/\[\[\[([^\]]+)\]\]\]/g,"<$1>")}},{key:"executeAction",value:function(e,t,n){e.preventDefault(),e.stopPropagation(),document.execCommand(t,!1,n),this.onKeyUp()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e),this.props.onChange&&this.props.onChange({value:this.state.value})}},{key:"onKeyUpx",value:function(){var e=this.input.innerHTML;e=this.filterHTML(e),this.setState({value:e}),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"osc-html-editor"},React.createElement("div",{className:"osc-html-editor-buttons"},React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-bold",onMouseDown:function(t){return e.executeAction(t,"bold")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-italic",onMouseDown:function(t){return e.executeAction(t,"italic")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-insertunorderedlist",onMouseDown:function(t){return e.executeAction(t,"insertunorderedlist")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-createlink",onMouseDown:function(t){return e.executeAction(t,"createlink",prompt("Lank naar","http://"))}}," ")),React.createElement("div",{className:"osc-html-editor-content",contentEditable:!0,onFocus:function(t){return e.onFocus(t)},onBlur:function(t){return e.onBlur(t)},onKeyUp:function(t){return e.onKeyUpx()},ref:function(t){return e.input=t}}))}}]),n}(f.Z);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var E=function(e){(0,l.Z)(n,e);var t=y(n);function n(e){var r;(0,a.Z)(this,n),r=t.call(this,e,{name:"tekst",inputType:"input",minLength:5,maxLength:1024,placeholder:""});var i=(0,c.Z)(r);return i.id=e.id||"osc-formfields-plaintext-with-counter-"+parseInt(1e6*Math.random()),i.state={focused:!1,value:e.value||"",valueLength:e.value&&e.value.length||0},i.key=e.useKey||(i.id||"osc-input-with-counter-")+parseInt(1e7*Math.random),r.onChange=e.onChange,i.handleOnChange=i.handleOnChange.bind((0,c.Z)(r)),i.onInputFocus=i.onInputFocus.bind((0,c.Z)(r)),i.onInputBlur=i.onInputBlur.bind((0,c.Z)(r)),i.onInputKeyUp=i.onInputKeyUp.bind((0,c.Z)(r)),r}return(0,s.Z)(n,[{key:"isValid",value:function(){var e={isValid:!0,warning:null};return this.state.value.length<this.config.minLength&&(e.warning="De tekst is te kort",e.isValid=!1),this.state.value.length>this.config.maxLength&&(e.warning="De tekst is te lang",e.isValid=!1),this.setState(e),e.isValid}},{key:"validate",value:function(){return this.setState({showWarning:!0}),this.isValid()}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},this.setState(e,(function(){"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}))}},{key:"onInputFocus",value:function(){var e={focused:!0,showWarning:!1};this.setState(e)}},{key:"onInputBlur",value:function(){var e={focused:!1};this.setState(e)}},{key:"onInputKeyUp",value:function(e){var t={};t.value=e||this.input.value,t.isValid=t.value.length>=this.config.minLength&&t.value.length<=this.config.maxLength,this.setState(t)}},{key:"render",value:function(){var e=this,t=this,n=null,r=null;if(t.state.focused)if(t.state.value.length<t.config.minLength)n=React.createElement("div",{className:"osc-form-counter osc-form-error"},"Nog minimaal ",React.createElement("span",{className:""},t.config.minLength-t.state.value.length)," tekens");else{var i=t.state.value.length>t.config.maxLength?"osc-form-error":"";n=React.createElement("div",{className:"osc-form-counter "+i},"Je hebt nog ",React.createElement("span",{className:""},t.config.maxLength-t.state.value.length)," tekens over.")}t.state.showWarning&&t.state.warning&&(r=React.createElement("div",{className:"osc-form-warning",ref:function(t){return e["form-warning"]=t}},t.state.warning));var o=null;switch(t.config.inputType){case"htmlarea":o=React.createElement(b,{value:this.state.value,onChange:t.handleOnChange,onFocus:t.onInputFocus,onBlur:t.onInputBlur,onKeyUp:t.onInputKeyUp});break;case"textarea":o=React.createElement("textarea",{key:t.key,ref:function(e){return t.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(e){return t.handleOnChange({value:t.input.value})},onKeyUp:function(e){return t.onInputKeyUp()},onFocus:function(e){return t.onInputFocus(e)},onBlur:function(e){return t.onInputBlur(e)}});break;default:o=React.createElement("input",{key:t.key,ref:function(e){return t.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(e){return t.handleOnChange({value:t.input.value})},onKeyUp:function(e){return t.onInputKeyUp()},onFocus:function(e){return t.onInputFocus(e)},onBlur:function(e){return t.onInputBlur(e)}})}return React.createElement("div",{id:t.id,ref:function(e){return t.instance=e},className:"osc-input-with-counter"},React.createElement("div",{className:"osc-form-feedback"},o,n,r))}}]),n}(f.Z);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var O=function(e){(0,l.Z)(n,e);var t=w(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-radios"},e.config.choices.map((function(t){return t.dangerousDescription?React.createElement("div",{className:"osc-radio-container",key:t.value},React.createElement("div",{className:"osc-radio-input".concat(e.state.value==t.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:e.divId,value:t.value,onChange:function(n){return e.handleOnChange({value:t.value})}})),React.createElement("div",{className:"osc-radio-text",dangerouslySetInnerHTML:{__html:t.dangerousDescription}})):React.createElement("div",{className:"osc-radio-container",key:t.value},React.createElement("div",{className:"osc-radio-input".concat(e.state.value==t.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:e.divId,value:t.value,onChange:function(n){return e.handleOnChange({value:t.value})}})),React.createElement("div",{className:"osc-radio-text"},t.dangerousDescription?null:t.description||t.title||t.value))})),t)}}]),n}(h.Z);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var R=function(e){(0,l.Z)(n,e);var t=k(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"validate",value:function(e){var t=e.showErrors,n=!0,r="";return this.state.value?this.state.value.match(/^\s*\d{4}\s*[a-zA-Z][a-zA-Z]\s*$/)||(n=!1,t&&(r="Dit is geen postcode")):this.config.required&&(n=!1,t&&(r="Je hebt nog niets ingevuld")),this.setState({isValid:n,error:r}),n}},{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},e.state.error)),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}}),t)}}]),n}(h.Z);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var P=function(e){(0,l.Z)(n,e);var t=I(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this.state.value||this.config.choices[0]&&this.config.choices[0].value;this.handleOnChange({value:e})}},{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-select"},React.createElement("select",{value:this.state.value||"",disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}},e.config.choices.map((function(e,t){var n=e.description||e.title||e.value;return React.createElement("option",{value:e.value||"",key:"".concat(n,"-").concat(e.value,"-").concat(t)},n)}))),t)}}]),n}(h.Z);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var L=function(e){(0,l.Z)(n,e);var t=M(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}}),t)}}]),n}(h.Z);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var C=function(e){(0,l.Z)(n,e);var t=D(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textarea"},React.createElement("textarea",{value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}},this.state.value),t)}}]),n}(h.Z);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var A=i().lazy((function(){return Promise.all([n.e(439),n.e(779)]).then(n.bind(n,6779))})),N=function(e){(0,l.Z)(n,e);var t=x(n);function n(e){var r;(0,a.Z)(this,n),r=t.call(this,e,{inputType:null,validateAction:null,changeAction:null,required:!1,title:null,description:null,choices:[]});var i=(0,c.Z)(r),o=r.config.config;return delete r.config.config,r.config=_().recursive(r.config,o),i.config.name=i.config.name||i.config.title.toLowerCase(),i.state={value:e.initValue||void 0},i.handleOnChange=i.handleOnChange.bind(i),i.onChange=e.onChange,r}return(0,s.Z)(n,[{key:"validate",value:function(e){var t=e.showErrors;return!this.input||this.input.validate({showErrors:t})}},{key:"handleOnChange",value:function(e){"function"==typeof this.onChange&&this.onChange(e)}},{key:"render",value:function(){var e=this,t=null;e.config.title&&(t=i().createElement("h3",{className:"osc-form-title"},e.config.title));var n=null;e.config.description&&(n=i().createElement("div",{className:"osc-form-description",dangerouslySetInnerHTML:{__html:e.config.description}}));var o=null;switch(e.config.inputType){case"hidden":o=i().createElement(v,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"html-with-counter":case"htmlarea-with-counter":o=i().createElement(E,{config:T(T({},e.config),{},{inputType:"htmlarea"}),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"image-upload":o=i().createElement(r.Suspense,{fallback:i().createElement("div",null,"Loading...")},i().createElement(A,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}}));break;case"input-with-counter":case"text-with-counter":o=i().createElement(E,{config:T({inputType:"input"},e.config),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"postcode":o=i().createElement(R,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"radios":o=i().createElement(O,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"select":case"multiple-choice":o=i().createElement(P,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"text":o=i().createElement(L,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"textarea":o=i().createElement(C,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"textarea-with-counter":o=i().createElement(E,{config:T(T({},e.config),{},{inputType:"textarea"}),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;default:console.log("Form field "+e.config.inputType+"not yet implemented")}return i().createElement("div",{id:e.id,ref:function(t){return e.instance=t},className:"osc-form-field"},t,n,o)}}]),n}(f.Z);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var B=function(e){(0,l.Z)(n,e);var t=Z(n);function n(e){var r;(0,a.Z)(this,n),r=t.call(this,e,{title:null,intro:null,fields:[]});var i=(0,c.Z)(r),o=e.values;return!o&&i.config.fields&&i.config.fields.length&&(o={},i.config.fields.map((function(e,t){var n=e.name||e.title.toLowerCase();o[n]=e.value}))),i.state={values:o||{}},i.handleOnChange=i.handleOnChange.bind((0,c.Z)(r)),i.fields=[],r}return(0,s.Z)(n,[{key:"getValues",value:function(){return this.state.values}},{key:"validate",value:function(e){var t=e.showErrors,n=e.scrollTo,r=!0,i=null;return this.fields.forEach((function(e){e.validate({showErrors:t})||(r=!1,i||(i=e))})),n&&i&&i.instance&&i.instance.scrollIntoView&&i.instance.scrollIntoView({behavior:"smooth"}),r}},{key:"handleOnChange",value:function(e){var t=this,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state.values);n[e.name]=e.value,this.setState({values:n},(function(){"function"==typeof t.props.onChange&&t.props.onChange(e)}))}},{key:"render",value:function(){var e=this,t=null;e.config.title&&(t=React.createElement("h2",{className:"osc-form-title"},e.config.title));var n=null;e.config.intro&&(n=React.createElement("div",{className:"osc-form-intro",dangerouslySetInnerHTML:{__html:e.config.intro}}));var r=null;return e.config.fields&&e.config.fields.length&&(r=React.createElement("div",{className:"osc-form-fields"},e.config.fields.map((function(t,n){return React.createElement(N,(0,o.Z)({config:t,initValue:t.value,onChange:e.handleOnChange,ref:function(t){return e.input=t},key:"osc-form-field-".concat(n)},"ref",(function(t){e.fields[n]=t})))})))),React.createElement("div",{id:e.divId,className:"osc-form",ref:function(t){return e.instance=t}},t,n,r)}}]),n}(f.Z);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var W=function(e){(0,l.Z)(n,e);var t=U(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).state={value:r.props.value,touched:r.props.touched||!1},r.handleChange=r.handleChange.bind((0,c.Z)(r)),r}return(0,s.Z)(n,[{key:"handleChange",value:function(e){var t=e.target.value;"function"==typeof this.props.onChange&&this.props.onChange(t),this.setState({value:t,touched:!0})}},{key:"doTouch",value:function(){"function"==typeof this.props.onChange&&this.props.onChange(50),this.setState({touched:!0})}},{key:"calcProgress",value:function(e,t,n){return 2*(n-e)/(t-e)-1}},{key:"render",value:function(){var e=this,t=e.state,n=t.value,r=t.touched,i=e.props,o=i.min,a=i.max,s=i.step;return React.createElement("div",{className:"".concat(e.props.className," osc-slider")},React.createElement("div",{className:"osc-slider-track-container"},React.createElement("div",{className:"osc-slider-track"}),React.createElement("div",{className:"osc-slider-track-progress-container"},React.createElement("div",{className:"osc-slider-track-progress",style:{transform:"scaleX("+e.calcProgress(o,a,n)+")"}})),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-left"}),React.createElement("div",{className:"osc-slider-track-dot-start osc-slider-track-dot-center"}),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-right"})),React.createElement("input",{type:"range",min:o,max:a,step:s,value:n,onClick:function(){r||e.doTouch()},onChange:e.handleChange,className:r?"osc-slider-input-range":"osc-slider-input-range osc-slider-untouched",ref:function(t){return e.input=t}}))}}]),n}(f.Z);const F={Form:B,FormField:N,Hidden:v,InputWithCounter:E,Postcode:R,Radios:O,Select:P,Text:L,Textarea:C,Slider:W}},3301:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeaDetails});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5991),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7961),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2150),_poll_index_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9738),_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1662),_vote_buttons_jsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1708),_image_index_jsx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4315);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if(t){var i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeaDetails=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__.Z)(IdeaDetails,_OpenStadComponent);var _super=_createSuper(IdeaDetails);function IdeaDetails(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_10__.Z)(this,IdeaDetails),(t=_super.call(this,e,{siteId:null,ideaId:null,idea:{showVoteButtons:!0,showLabels:!1,shareChannelsSelection:["facebook","twitter","mail","whatsapp"],metaDataTemplate:null},image:{allowMultipleImages:!1},argument:{isActive:!0,formIntro:"Mijn reactie op deze inzending is ...",ignoreReactionsForIdeaIds:"",closeReactionsForIdeaIds:""},poll:{canAddPolls:!1},vote:{},labels:{},types:null,typeField:"typeId",typeLabel:"Thema"})).state={idea:t.props.idea,ideaId:e.idea&&e.idea.id||t.config.ideaId,showPollForm:!1},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_11__.Z)(IdeaDetails,[{key:"componentDidMount",value:function(){var e=this;e.reactionAddedListener=function(t){e.onReactionStored(t.detail,!0)},document.addEventListener("osc-new-reaction-stored",e.reactionAddedListener),e.reactionEditedListener=function(t){e.onReactionStored(t.detail)},document.addEventListener("osc-reaction-edited",e.reactionEditedListener),e.reactionDeletedListener=function(t){e.onReactionDeleted(t.detail)},document.addEventListener("osc-reaction-deleted",e.reactionDeletedListener),e.pollCreatedListener=function(t){e.onPollCreated(t.detail)},document.addEventListener("osc-new-poll-stored",e.pollCreatedListener),e.pollDeletedListener=function(t){e.onPollDeleted(t.detail)},document.addEventListener("osc-poll-deleted",e.pollDeletedListener),e.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.reactionAddedListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener),document.removeEventListener("osc-new-poll-stored",this.pollCreatedListener),document.removeEventListener("osc-poll-deleted",this.pollDeletedListener)}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=e.idea&&e.idea.id,i=n.props.idea&&n.props.idea.id;i&&r!==i&&n.setState({ideaId:i},(function(){n.fetchData()}))}},{key:"dispatchEditIdeaButtonClick",value:function(e){if(e.stopPropagation(),this.config.editIdeaLink)document.location.href=this.config.editIdeaLink;else{var t=new window.CustomEvent("osc-edit-idea-button-click",{detail:this.state.idea});document.dispatchEvent(t)}}},{key:"showPollForm",value:function(){this.setState({showPollForm:!0})}},{key:"hidePollForm",value:function(){this.setState({showPollForm:!1})}},{key:"dispatchAddPollClick",value:function(e){e.stopPropagation(),this.showPollForm()}},{key:"scrollToReactions",value:function(){var e=document.querySelector("#reactions");e&&e.scrollIntoView()}},{key:"onReactionStored",value:function(e,t){t&&this.state.idea.argCount++,this.setState({idea:this.state.idea})}},{key:"onReactionDeleted",value:function(e){this.state.idea.argCount--,this.setState({idea:this.state.idea})}},{key:"onPollCreated",value:function(){this.hidePollForm(),this.fetchData()}},{key:"onPollDeleted",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=e.state.ideaId||this.state.idea&&this.state.idea.id;if(t){var n="".concat(e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(t,"?includeVoteCount=1&includeArguments=1&includeArgsCount=1&includeUser=1&includeUserVote=1");e.config.poll.canAddPolls&&(n+="&includePoll=1");var r=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.api.getHeaders(e.config);fetch(n,{headers:r}).then((function(e){if(!e.ok)throw Error("Error fechting detail");return e.json()})).then((function(t){var n=t;e.setState({idea:n},(function(){_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.localStorage.get("osc-login-pending-scroll-to-reactions")&&(document.getElementById("reactions")&&document.getElementById("reactions").scrollIntoView(),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.localStorage.set("osc-login-pending-scroll-to-reactions",!1))}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}}},{key:"deleteIdea",value:function(){var e=this,t=this;if(t.config.user&&t.config.user.role&&"admin"==t.config.user.role&&(this.state.idea||this.state.idea.id)){var n="".concat(t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(this.state.idea.id),r=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.api.getHeaders(t.config),i=this.state.idea.id;fetch(n,{method:"DELETE",headers:r}).then((function(e){if(!e.ok)throw Error("Error deleting idea");return e.json()})).then((function(t){if(e.config.afterDeleteIdeaLink)document.location.href=e.config.afterDeleteIdeaLink;else{var n=new window.CustomEvent("osc-idea-deleted",{detail:{ideaId:i}});document.dispatchEvent(n)}})).catch((function(e){console.log("Niet goed"),console.log(e)}))}}},{key:"render",value:function render(){var self=this,idea=self.state.idea;if(!idea)return null;var labelHTML=null;if(self.config.idea.showLabels){var typeId=eval("idea.".concat(self.config.typeField)),typeDef=self.config.types&&self.config.types.find((function(e){return e.id==typeId||e.value==typeId}));if(typeDef){var labelText=typeDef.label,backgroundColor=typeDef.backgroundColor,textColor=typeDef.textColor;labelHTML=React.createElement("div",{className:"osc-idea-label",style:{color:textColor,backgroundColor}},labelText)}}var pollHTML=null,addPollButtonHTML=null;self.config.poll.canAddPolls&&(idea.poll||self.state.showPollForm?pollHTML=React.createElement("div",null,React.createElement("div",{id:"poll",className:"osc-poll-header"},React.createElement("h3",null,self.config.poll.title||"Poll")),React.createElement(_poll_index_jsx__WEBPACK_IMPORTED_MODULE_5__.default,{config:_objectSpread(_objectSpread(_objectSpread({},self.config),self.config.poll),{},{ideaId:self.state.ideaId}),poll:idea.poll})):idea.can&&idea.can.edit&&(addPollButtonHTML=React.createElement("div",{className:"osc-editbuttons-container"},React.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchAddPollClick(e)}},"Poll toevoegen"))));var voteButtonsHTML=null;self.config.idea.showVoteButtons&&(void 0===self.config.vote.voteValues||self.config.vote.voteValues.length>0)&&(voteButtonsHTML=React.createElement("div",{className:"osc-vote-buttons-container"},React.createElement("h3",null,"Likes"),React.createElement(_vote_buttons_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{config:this.config,idea:this.state.idea,name:"likebutton"})));var editButtonsHTML=null;idea.can&&idea.can.edit&&(editButtonsHTML=React.createElement("div",{className:"osc-editbuttons-container"},React.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchEditIdeaButtonClick(e)}},"Bewerk idee"),React.createElement("button",{className:"osc-idea-details-editbutton osc-delete",onClick:function(e){confirm("Weet u het zeker")&&self.deleteIdea(e)}},"Verwijder idee")));var modBreakHTML=null;idea&&idea.modBreak&&(modBreakHTML=React.createElement("div",{className:"osc-modbreak"},idea.modBreakDateHumanized,React.createElement("br",null),React.createElement("br",null),idea.modBreak));var reactionsCountHTML=null;self.config.argument.isActive&&(reactionsCountHTML=React.createElement("div",null,React.createElement("h3",null,"Reacties"),React.createElement("a",{onClick:self.scrollToReactions,className:"osc-no-of-reactions"},idea.argCount||0," reacties")));var reactionsHTML=null;if(self.config.argument.isActive){var config=_objectSpread({},self.config);config.argument.isActive=this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)"))),config.argument.isClosed=this.config.argument.isClosed||this.config.argument.closeReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")));var loginUrl=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.auth.getLoginUrl(self.config);reactionsHTML=React.createElement("div",null,React.createElement("div",{id:"reactions",className:"osc-reactions-header"},React.createElement("h3",null,self.config.argument.title||"Reacties")),React.createElement(_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_6__.default,{config:_objectSpread(_objectSpread({},self.config.argument),{},{title:void 0,api:self.config.api,user:self.config.user,siteId:self.config.siteId,ideaId:idea.id,loginUrl})}))}var shareButtonsHTML=null;if(self.config.idea.shareChannelsSelection.length){var facebookButtonHTML=self.config.idea.shareChannelsSelection.includes("facebook")?React.createElement("li",null,React.createElement("a",{className:"osc-share-facebook",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.location.href)},"Facebook")):null,twitterButtonHTML=self.config.idea.shareChannelsSelection.includes("twitter")?React.createElement("li",null,React.createElement("a",{className:"osc-share-twitter",target:"_blank",href:"https://twitter.com/intent/tweet?text="+encodeURIComponent(document.location.href)},"Twitter")):null,mailButtonHTML=self.config.idea.shareChannelsSelection.includes("mail")?React.createElement("li",null,React.createElement("a",{className:"osc-share-email",target:"_blank",href:"mailto:?subject="+encodeURIComponent(eval("idea.".concat(self.config.titleField)))+"&body="+encodeURIComponent(document.location.href)},"Email")):null,whatsappButtonHTML=self.config.idea.shareChannelsSelection.includes("whatsapp")?React.createElement("li",null,React.createElement("a",{className:"osc-share-whatsapp",target:"_blank",href:"https://wa.me/?text="+encodeURIComponent(document.location.href)},"WhatsApp")):null;shareButtonsHTML=React.createElement("div",{className:"osc-details-sharebuttons"},React.createElement("ul",null,facebookButtonHTML,twitterButtonHTML,mailButtonHTML,whatsappButtonHTML))}var authorHTML=idea.user.displayName;this.config.linkToUserPageUrl&&(authorHTML=React.createElement("a",{href:this.config.linkToUserPageUrl+"/"+idea.user.id,className:"osc-author-link"},authorHTML));var metaDataHTML=self.config.idea.metaDataTemplate;return metaDataHTML&&(metaDataHTML=metaDataHTML.replace(/\{createDate\}/,idea.createDateHumanized),metaDataHTML=metaDataHTML.replace(/\{theme\}/,idea.extraData.theme),metaDataHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.reactTemplate({html:metaDataHTML,username:authorHTML})),React.createElement("div",{id:self.id,className:self.props.className||"osc-info-block-idea-details",ref:function(e){return self.instance=e}},React.createElement("div",{className:"osc-spacer"}),React.createElement("div",{className:"osc-idea-details-container"},React.createElement("div",{className:"osc-idea-details"},React.createElement("h2",null,eval("idea.".concat(self.config.titleField))),React.createElement("div",{className:"osc-details-image-and-stats"},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_8__.IdeaImage,{config:self.config,idea})),labelHTML,shareButtonsHTML,React.createElement("div",{className:"osc-details-stats"},voteButtonsHTML,reactionsCountHTML,editButtonsHTML)),React.createElement("p",{className:""},metaDataHTML),modBreakHTML,React.createElement("p",{className:"osc-details-summary"},idea.summary),React.createElement("p",{className:"osc-details-description",dangerouslySetInnerHTML:{__html:idea.description}}),addPollButtonHTML),pollHTML,reactionsHTML,React.createElement("div",{className:"osc-bottom-spacer"})))}}]),IdeaDetails}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__.Z)},1708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(6610),i=n(5991),o=n(379),a=n(6070),s=n(7608),c=n(7961),l=n(2150),u=n(1224);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var f=function(e){(0,o.Z)(n,e);var t=d(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e,{vote:{isActive:!1,requiredUserRole:"member",voteType:"likes",voteValues:[{label:"like",value:"yes"}]}})).state={value:i.props.value,busy:!1},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=l.ZP.localStorage.get("osc-ideas-on-map-vote-pending");n&&(this.doVote(null,n),l.ZP.localStorage.remove("osc-ideas-on-map-vote-pending"))}},{key:"doVote",value:function(e,t){var n=this;if(e&&e.stopPropagation(),!this.state.busy&&(this.setState({busy:t}),this.config.vote.isActive)){var r=this,i="".concat(r.config.api.url,"/api/site/").concat(r.config.siteId,"/vote"),o=l.ZP.api.getHeaders(r.config);if(!r.config.user||!r.config.user.role){l.ZP.localStorage.set("osc-ideas-on-map-vote-pending",t);var a=l.ZP.auth.getLoginUrl(r.config);return"anonymous"==r.config.vote.requiredUserRole&&(a+="&useOauth=anonymous"),document.location.href=a}var s={};r.props.idea.userVote&&(s[r.props.idea.userVote.opinion]=-1),fetch(i,{method:"post",headers:o,body:JSON.stringify({ideaId:r.props.idea.id,opinion:t})}).then((function(e){if(!e.ok)throw Error("Stemmen is niet gelukt");return e.json()})).then((function(e){var t;e.length&&(t=e[0]),t&&(s[t.opinion]=1),Object.keys(s).map((function(e){r.props.idea[e]+=s[e]})),r.props.idea.userVote=t||null,n.setState({busy:!1});var i=new window.CustomEvent("osc-idea-liked",{detail:{ideaId:r.props.idea.id,change:s}});document.dispatchEvent(i)})).catch((function(e){alert(e.message)}))}}},{key:"render",value:function(){var e=this,t=this,n="osc-numberplate-button";return this.config.vote.isActive||(n+=" osc-inactive"),this.config.vote.voteValues.map((function(r){var i=void 0!==e.props.idea[r.value]?e.props.idea[r.value]:0,o="osc-vote-button-"+r.value+" "+n;return e.state.busy==r.value&&(o+=" osc-busy"),r.value==(e.props.idea&&e.props.idea.userVote&&e.props.idea.userVote.opinion)&&(o+=" osc-user-has-voted"),React.createElement(u.Z,{config:{label:r.label},number:i,className:o,onClick:function(e){return t.doVote(e,r.value)},key:"like-button-".concat(r.value)})}))}}]),n}(c.Z)},6605:(e,t,n)=>{"use strict";n.d(t,{default:()=>s.Z});n(7147);var r=n(3804),i=n.n(r),o=n(7196),a=n.n(o),s=(n(8409),n(3301));s.Z.renderElement=function(e,t){var n=e.attributes;a().render(i().createElement(s.Z,{attributes:n,config:t}),e)}},7244:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(6156),i=n(6610),o=n(5991),a=n(379),s=n(6070),c=n(7608),l=n(7961),u=n(6623),d=n(3349),f=(n(1965),n(3804)),p=n.n(f);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var v=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e,{searchIn:["ideas","addresses"]})).config.doSearchFunction=r.config.doSearchFunction||r.doSearchx.bind((0,d.Z)(r)),r.state={searchValue:"",searchResult:{locations:[],ideas:[]},showSuggestions:!1},r.updateSearchResult=r.updateSearchResult.bind((0,d.Z)(r)),r}return(0,o.Z)(n,[{key:"componentDidMount",value:function(e,t){}},{key:"handleChange",value:function(e){this.updateSearchValue(e),e.length>=3&&this.config.doSearchFunction(e,this.updateSearchResult)}},{key:"handleButtonClick",value:function(e){var t=this;t.state.searchValue&&t.setState({searchValue:""},(function(){t.inputfield.focus()}))}},{key:"updateSearchValue",value:function(e){this.setState({searchValue:e,showSuggestions:e.length>=3})}},{key:"showSuggestions",value:function(){this.setState({showSuggestions:this.state.searchValue.length>=3})}},{key:"hideSuggestions",value:function(){var e=this;setTimeout((function(){e.setState({showSuggestions:!1})}),500)}},{key:"updateSearchResult",value:function(e,t){this.setState(h(h({},this.state),{},{searchResult:t,showSuggestions:e.length>=3}))}},{key:"doSearchx",value:function(e){console.log("search function not defined")}},{key:"onSuggestionClick",value:function(e,t,n){this.updateSearchValue(e),n&&n(t)}},{key:"render",value:function(){var e=this,t=null;if(e.state.showSuggestions){var n=null;this.config.searchIn.includes("ideas")&&this.config.searchIn.includes("addresses")&&(n=p().createElement("div",{className:"osc-search-suggestions-hr"}));var r=null;this.config.searchIn.includes("addresses")&&(r=p().createElement("div",null,"Adressen:",e.state.searchResult.locations.map((function(t,n){var r=t.text.replace(new RegExp(e.state.searchValue,"ig"),(function(e){return"<strong>"+e+"</strong>"}));return p().createElement("div",{className:"osc-search-suggestion osc-search-suggestion-idea",onClick:function(n){return e.onSuggestionClick(t.text,n,t.onClick)},key:"search-result-"+n,dangerouslySetInnerHTML:{__html:r}})}))));var i=null;this.config.searchIn.includes("ideas")&&(i=p().createElement("div",null,this.config.ideaName,":",e.state.searchResult.ideas.map((function(t,n){var r=t.text.replace(new RegExp(e.state.searchValue,"ig"),(function(e){return"<strong>"+e+"</strong>"}));return p().createElement("div",{className:"osc-search-suggestion osc-search-suggestion-idea",onClick:function(n){return e.onSuggestionClick(t.text,n,t.onClick)},key:"search-result-"+n,dangerouslySetInnerHTML:{__html:r}})})))),t=p().createElement("div",{className:"osc-search-suggestions",ref:function(t){return e.suggestions=t}},r,n,i)}return p().createElement("div",{id:e.id,className:e.props.className||"osc-search",ref:function(t){return e.instance=t}},t,p().createElement("input",{type:"text",value:this.state.searchValue,placeholder:e.config.placeholder,onChange:function(){return e.handleChange(e.inputfield.value)},onBlur:function(){return e.hideSuggestions()},onFocus:function(){return e.showSuggestions()},className:"osc-default-input osc-search-input",ref:function(t){return e.inputfield=t}}),p().createElement("button",{className:"osc-search-button".concat(this.state.searchValue?" osc-active":""),onClick:function(t){return e.handleButtonClick(t)},ref:function(t){return e.resetButton=t}}))}}]),n}(l.Z);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var E=function(e){(0,a.Z)(n,e);var t=y(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this,t=null;e.config.search&&(t=React.createElement("div",{className:"osc-search-container"},React.createElement("div",{className:"osc-search-button",onClick:function(){return e.toggleMobileActiveSelector("search")}}),React.createElement(v,{config:b({},this.config),className:"osc-search".concat("search"==e.state.mobileActiveSelector?" osc-is-active":"")})));var n;n=React.createElement("button",{value:"reset",onClick:function(){return e.resetAll()},className:"osc-button osc-reset-button"},"Alles tonen");var r=null;if(e.config.filter&&e.config.filter.length){var i=e.filters&&e.filters.find((function(e){return e.state.currentValue}));e.filters=[],r=React.createElement("div",{className:"osc-ideas-filters-and-button-container"},React.createElement("div",{className:"osc-ideas-filter-button".concat(i?" osc-active":""),onClick:function(){return e.toggleMobileActiveSelector("filters")}}),React.createElement("div",{className:"osc-ideas-filters-container".concat("filters"==e.state.mobileActiveSelector?" osc-is-active":"")},e.config.filter.map((function(t,n){return React.createElement(u.IdeasFilter,{config:t,className:"osc-align-right-container",key:"osc-ideas-filter-".concat(n),ref:function(t){return e.filters[n]=t}})}))),n)}var o;return o=React.createElement("div",{className:"osc-ideas-filters-and-reset-button-container"},r),React.createElement("div",{className:"osc-ideas-filterbar ".concat(e.props.className||"")},t,o)}}]),n}(u.IdeasFilterbar)},7035:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeasForm});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7329),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7961),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2150),_forms_index_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1588);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if(t){var i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeasForm=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__.Z)(IdeasForm,_OpenStadComponent);var _super=_createSuper(IdeasForm);function IdeasForm(props){var _this;(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__.Z)(this,IdeasForm),_this=_super.call(this,props,{user:{},ideaId:null,idea:{titleMinLength:10,titleMaxLength:20,summaryMinLength:20,summaryMaxLength:140,descriptionMinLength:140,descriptionMaxLength:5e3,fields:[]}});var self=(0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__.Z)(_this),fields=self.config.idea.fields=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__.Z)(self.config.idea.fields);fields.forEach((function(e){"image-upload"==e.inputType&&(e.allowMultiple=self.config.image&&self.config.image.allowMultipleImages)})),self.props.idea.extraData||(self.props.idea.extraData={});var state={formfields:{id:self.props.idea.id||"",user:self.props.idea.user||{}},showFormErrorsWarning:!1,isBusy:!1};fields.forEach((function(field){field.name&&(state.formfields[field.name]=eval("self.props.idea."+field.name),field.value=eval("self.props.idea."+field.name))}));var titleField=fields.find((function(e){return"title"==e.name}));titleField&&(titleField.minLength=self.config.idea.titleMinLength,titleField.maxLength=self.config.idea.titleMaxLength);var summaryField=fields.find((function(e){return"summary"==e.name}));summaryField&&(summaryField.minLength=self.config.idea.summaryMinLength,summaryField.maxLength=self.config.idea.summaryMaxLength);var descriptionField=fields.find((function(e){return"description"==e.name}));descriptionField&&(descriptionField.minLength=self.config.idea.descriptionMinLength,descriptionField.maxLength=self.config.idea.descriptionMaxLength);var imageField=fields.find((function(e){return"image-upload"==e.inputType}));if(imageField&&(imageField.config=imageField.config||{},imageField.config.image=self.config.image),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.user.hasRole(self.config.user,"editor")){if(self.config.types&&"typeId"==self.config.typeField){var choices=[];self.config.types.forEach((function(e){var t=e;(!t.auth||t.auth.createableBy&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.user.hasRole(self.config.user,t.auth.createableBy))&&choices.push({title:t.name,value:t.id||t.value})})),self.config.idea.fields.push({name:"typeId",title:"Type inzending",value:self.props.idea.typeId,inputType:"multiple-choice",choices}),state.formfields.typeId=self.props.idea.typeId}self.config.idea.fields.push({name:"modBreak",title:"Moderator reactie",value:self.props.idea.modBreak,inputType:"textarea-with-counter",minLength:0,maxLength:2e3}),state.formfields.modBreak=self.props.idea.modBreak}else self.config.types&&"typeId"==self.config.typeField&&(self.config.idea.fields.push({name:"typeId",value:self.props.idea.typeId,inputType:"hidden"}),state.formfields.typeId=self.props.idea.typeId);return self.state=state,_this}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_10__.Z)(IdeasForm,[{key:"componentDidMount",value:function(e,t){var n=this;n.updateLocationListener=function(e){n.updateLocation(e.detail&&e.detail.location)},document.addEventListener("osc-update-location",n.updateLocationListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-update-location",this.updateLocationListener)}},{key:"updateLocation",value:function(e){if(e){var t=_objectSpread({},this.state);t.formfields.location={coordinates:[e.lat,e.lng]},t.formfields.address=e.address,this.setState(t)}}},{key:"validateIdea",value:function(){var e=this,t=!0;return e.state.formfields.location?e["form-warning-location"].style.display="none":(e["form-warning-location"].style.display="block",t=!1),t}},{key:"submitIdea",value:function(){var e=this,t=this;t.setState({isBusy:!0},(function(){var n=t.form.getValues(),r=t.form.validate({showErrors:!0,scrollTo:!0});if(t.validateIdea()&&r){if(t.setState({showFormErrorsWarning:!1}),!t.config.api.isUserLoggedIn)return alert("Je bent niet ingelogd");var i=t.config.api.url+"/api/site/"+t.config.siteId+"/idea",o=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.api.getHeaders(t.config),a={location:JSON.stringify(_objectSpread({type:"Point"},t.state.formfields.location))};Object.keys(n).forEach((function(e){var t=e.match(/^extraData\.(.+)/);t?(a.extraData||(a.extraData={}),a.extraData[t[1]]=n[e]):a[e]=n[e]}));var s="POST";"number"==typeof e.state.formfields.id&&(s="PUT",i=i+"/"+e.state.formfields.id),fetch(i,{method:s,headers:o,body:JSON.stringify(a)}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){t.setState({isBusy:!1},(function(){var t=new window.CustomEvent("osc-idea-stored",{detail:{idea:e}});document.dispatchEvent(t)}))})).catch((function(e){console.log("Niet goed"),console.log(e),"function"==typeof e.json?e.json().then((function(e){return t.setState({isBusy:!1,showFormErrorsWarning:e.message})})):t.setState({isBusy:!1,showFormErrorsWarning:e.message||e})}))}else t.setState({isBusy:!1,showFormErrorsWarning:!0})}))}},{key:"render",value:function(){var e=this,t=this,n=null;if(t.state.showFormErrorsWarning){var r="Niet alle velden zijn correct ingevuld. Scroll naar boven om te zien wat er mis gaat.";"string"==typeof t.state.showFormErrorsWarning&&(r=t.state.showFormErrorsWarning),n=React.createElement("div",{className:"osc-form-errors-warning"},r)}var i;return i=React.createElement(_forms_index_jsx__WEBPACK_IMPORTED_MODULE_5__.default.Form,{config:{fields:t.config.idea.fields},values:{typeId:t.state.formfields.typeId},ref:function(e){t.form=e}}),React.createElement("div",{id:t.id,className:t.props.className||"osc-infobar-idea-form",ref:function(e){return t.instance=e}},React.createElement("div",{className:"osc-spacer"}),React.createElement("form",{className:"osc-form"},React.createElement("h1",null,"Nieuw punt toevoegen"),React.createElement("div",{className:"osc-form-group"},React.createElement("h2",null,"Naam"),t.state.formfields.user&&t.state.formfields.user.displayName),React.createElement("div",{className:"osc-form-group"},React.createElement("h2",null,"Een locatie vlakbij"),t.state.formfields.address||"Adres wordt gezocht...",React.createElement("div",{className:"osc-form-warning",style:{display:"none"},ref:function(t){return e["form-warning-location"]=t}},"Geen locatie geselecteerd")),i,React.createElement("br",null),n,React.createElement("br",null),React.createElement("a",{className:"osc-button osc-button-blue".concat(t.state.isBusy?" osc-disabled":""),onClick:function(){t.state.isBusy||t.submitIdea()},ref:function(e){return t.submitButton=e}},"Versturen"),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null)))}}]),IdeasForm}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__.Z)},1583:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>OpenStadComponentIdeasOnMap});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(4699),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(484),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7608),merge__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1965),merge__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3804),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),react_device_detect__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9359),_filterbar_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7244),_infobar_jsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4286),_preview_jsx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5068),_component_index_jsx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7961),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2150);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if(t){var i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Map=react__WEBPACK_IMPORTED_MODULE_4___default().lazy((function(){return Promise.all([__webpack_require__.e(677),__webpack_require__.e(89)]).then(__webpack_require__.bind(__webpack_require__,7093))})),OpenStadComponentIdeasOnMap=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_11__.Z)(OpenStadComponentIdeasOnMap,_OpenStadComponent);var _super=_createSuper(OpenStadComponentIdeasOnMap);function OpenStadComponentIdeasOnMap(e){var t;(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_12__.Z)(this,OpenStadComponentIdeasOnMap),t=_super.call(this,e,{display:{type:"complete",width:null,height:null},canSelectLocation:!0,onMarkerClickAction:"selectIdea",types:[],typeField:null,titleField:"title",summaryField:"summary",user:{},sort:{},map:{},api:{url:null,headers:null,isUserLoggedIn:!1},idea:{canAddNewIdeas:!0},content:{},search:{addresssesMunicipality:"amsterdam"}});var n=(0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_13__.Z)(t);return n.config.ideaName=n.config.ideaName||"Inzendingen",n.config.doSearchFunction=n.config.doSearchFunction||n.doSearch.bind(n),n.config.typeField=n.config.typeField||"extraData.theme",n.config.types&&n.config.types.length&&n.config.types.forEach((function(e){if(e.value&&!e.name&&(e.name=e.value),e.name&&!e.id&&(e.id=e.name),e.backgroundColor&&!e.color&&(e.color=e.backgroundColor),e.mapicon&&"string"==typeof e.mapicon)try{e.mapicon=JSON.parse(e.mapicon)}catch(t){console.log(e),console.log(t)}if(e.listicon&&"string"==typeof e.listicon)try{e.listicon=JSON.parse(e.listicon)}catch(t){console.log(e),console.log(t)}if(e.buttonicon&&"string"==typeof e.buttonicon)try{e.buttonicon=JSON.parse(e.buttonicon)}catch(t){console.log(e),console.log(t)}})),n.state={status:"default",infobarOnMobileIsOpen:!1,ideas:[],visibleIdeas:[],listedIdeas:[],selectedIdea:null,selectedLocation:null,currentEditIdea:null},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_14__.Z)(OpenStadComponentIdeasOnMap,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("hashchange",(function(t){var n=window.location.hash.match(/(\w)(\d+)$/);if(n){var r=n[2],i=e.state.ideas&&e.state.ideas.find((function(e){return e.id==r}));"D"==n[1]&&e.showIdeaDetails(i),"S"==n[1]&&e.hideIdeaDetails()}else"idea-details"==e.state.status&&e.hideIdeaDetails(),"idea-selected"==e.state.status&&e.setSelectedIdea(null)}),!1),window.addEventListener("osc-map-is-ready",(function(t){e.fetchData({}),e.map.map.on("zoomend",(function(){e.onChangeMapBoundaries()})),e.map.map.on("moveend",(function(){e.onChangeMapBoundaries()}))})),document.addEventListener("osc-map-click",(function(t){e.onMapClick(t.detail)})),document.addEventListener("osc-map-marker-click",(function(t){e.onMarkerClick(t.detail)})),document.addEventListener("osc-map-cluster-click",(function(t){e.onClusterClick(t.detail)})),document.addEventListener("osc-ideas-filter-onchange",(function(t){e.onChangeFilter(t.detail)})),document.addEventListener("osc-set-selected-idea",(function(t){e.onUpdateSelectedIdea(t.detail)})),document.addEventListener("osc-set-selected-location",(function(t){e.setSelectedLocation(null)})),document.addEventListener("osc-new-idea-click",(function(t){e.onNewIdeaClick({idea:t.detail.idea})})),document.addEventListener("osc-selected-idea-click",(function(t){e.onSelectedIdeaClick({idea:t.detail.idea})})),document.addEventListener("osc-click-mobile-switcher",(function(t){e.onClickMobileSwitcher()})),document.addEventListener("osc-idea-tile-click",(function(t){e.onIdeaClick(t.detail.idea)})),document.addEventListener("osc-idea-tile-mouse-enter",(function(t){e.onTileMouseEnter(t.detail.idea)})),document.addEventListener("osc-idea-tile-mouse-leave",(function(t){e.onTileMouseLeave(t.detail.idea)})),document.addEventListener("osc-idea-liked",(function(t){e.onIdeaLiked(t.detail)})),document.addEventListener("osc-new-reaction-stored",(function(t){e.onReactionStored(t.detail,!0)})),document.addEventListener("osc-reaction-edited",(function(t){e.onReactionStored(t.detail)})),document.addEventListener("osc-reaction-deleted",(function(t){e.onReactionDeleted(t.detail)})),document.addEventListener("osc-edit-idea-button-click",(function(t){e.onEditIdeaClick(t.detail)})),document.addEventListener("osc-idea-deleted",(function(t){e.onIdeaDeleted(t.detail)})),document.addEventListener("osc-idea-stored",(function(t){document.location.href="#",e.onIdeaStored(t.detail.idea)}))}},{key:"fetchData",value:function(e){for(var t=e.showIdeaDetails,n=e.showIdeaSelected,r=this,i="".concat(r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea?includeVoteCount=1&includeArgsCount=1&includeUser=1"),o=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__.ZP.api.getHeaders(r.config),a=r.map.getMarkers();a.length>0;){var s=a[0];r.map.removeMarker(s)}r.map.setMarkers([]),fetch(i,{headers:o}).then((function(e){return e.json()})).then((function(e){!(t=t||window.location.hash.match(/^#D(\d+)/)&&window.location.hash.match(/^#D(\d+)/)[1])&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__.ZP.localStorage.get("osc-login-pending-show-details")&&(t=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__.ZP.localStorage.get("osc-login-pending-show-details"),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__.ZP.localStorage.remove("osc-login-pending-show-details")),n=n||window.location.hash.match(/^#S(\d+)/)&&window.location.hash.match(/^#S(\d+)/)[1];var i=e&&e.filter((function(e){return e.location}));r.updateListedIdeas({ideas:i,sortOrder:r.config.sort.defaultValue}),i.map((function(e){e.id==t&&(t=e),e.id==n&&(n=e),e.image=e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[0]||"https://stemvanwest.amsterdam.nl/img/placeholders/idea.jpg",r.map.addIdea(e)})),r.map.setBoundsAndCenter(),r.setState({ideas:i},(function(){if(r.setInfobarOnMobileIsOpen(r.config.startWithListOpenOnMobile),"object"==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_15__.Z)(n)&&null!=n&&(r.setCurrentEditIdea(null),r.setSelectedIdea(n,(function(){}))),"object"==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_15__.Z)(t)&&null!=t&&r.showIdeaDetails(t),window.location.hash.match(/^#newidea/)){var e=window.location.hash.match(/&([^&]+)=([^&]+)/g),i={};e&&e.forEach((function(e){var t=e.split("="),n=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16__.Z)(t,2),r=n[0],o=n[1];r=r.substring(1,r.length),i[r]=decodeURIComponent(o);try{i[r]=JSON.parse(i[r])}catch(e){}})),r.setCurrentEditIdea(i,(function(e){e.location&&r.setSelectedLocation(e.location),r.showIdeaForm()}))}r.onChangeMapBoundaries()}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}},{key:"updateListedIdeas",value:function(e){var t=e.ideas,n=void 0===t?this.getVisibleIdeas():t,r=e.sortOrder,i=void 0===r?this.state.currentSortOrder:r,o=e.center,a=void 0===o?{lat:52.37104644463586,lng:4.900402911007405}:o,s=e.maxLength;i&&(n=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_10__.ZP.ideasSort({ideas:n,sortOrder:i,center:a})),s&&(n=n.splice(0,s)),this.setState({listedIdeas:n})}},{key:"setSelectedIdea",value:function(e,t){var n=this;n.setCurrentEditIdea(null),n.setSelectedLocation(null);var r=e?"idea-details"==n.state.status?"idea-details":"idea-selected":n.state.status;n.setState({selectedIdea:e,status:r},(function(){if(e?(n.map.fadeMarkers({exception:e}),n.updateListedIdeas({ideas:n.state.ideas.filter((function(t){return t.id!=e.id})),sortOrder:"distance",center:{lat:e.location.coordinates[0],lng:e.location.coordinates[1]},maxLength:5})):(n.map&&n.map.unfadeAllMarkers(),n.updateListedIdeas({ideas:n.getVisibleIdeas()})),t)return t(e)}))}},{key:"setSelectedLocation",value:function(e,t){var n=this;if(e&&e.coordinates&&(e.lat=e.coordinates[0],e.lng=e.coordinates[1]),n.map&&n.map.setSelectedLocation(e),e){e.isPointInArea=n.map.isPointInArea(e,n.config.map.polygon),n.map.fadeMarkers({});var r=n.state.selectedIdea&&n.state.selectedIdea.id;n.updateListedIdeas({ideas:n.state.ideas.filter((function(e){return e.id!=r})),sortOrder:"distance",center:e,maxLength:5}),n.setState({selectedLocation:e},(function(){n.state.currentEditIdea&&n.updateCurrentEditIdea({location:e},(function(t){n.updateLocationAddress(e)})),t&&t(n.state.selectedLocation)}));var i=new window.CustomEvent("osc-update-location",{detail:{location:e}});document.dispatchEvent(i)}else n.setState({selectedLocation:null},(function(){n.map.unfadeAllMarkers(),n.updateListedIdeas({ideas:n.getVisibleIdeas()});var r=new window.CustomEvent("osc-update-location",{detail:{location:e}});document.dispatchEvent(r),t&&t(n.state.selectedLocation)}))}},{key:"updateLocationAddress",value:function(e){e&&(e.coordinates&&(e.lat=e.coordinates[0],e.lng=e.coordinates[1]),this.map.searchAddressByLatLng({latlng:e,addresssesMunicipality:this.config.search.addresssesMunicipality,next:function(t){e.address=t&&t.address||"Geen adres gevonden";var n=new window.CustomEvent("osc-update-location",{detail:{location:e}});document.dispatchEvent(n)}}))}},{key:"showIdeaDetails",value:function(e){var t=this,n=this;n.setSelectedIdea(e),n.openInfobarOnMobile(),n.setState({status:"idea-details"},(function(){t.map.fadeMarkers({exception:e}),n.map.map.invalidateSize(),n.map.map.panTo({lat:e.location.coordinates[0],lng:e.location.coordinates[1]})}))}},{key:"hideIdeaDetails",value:function(){var e=this;e.setState({status:"idea-selected"},(function(){var t=e.state.selectedIdea;t&&e.updateListedIdeas({ideas:e.state.ideas.filter((function(e){return e.id!=t.id})),sortOrder:"distance",center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5}),e.map.showMarkers({}),e.map.map.invalidateSize()}))}},{key:"setCurrentEditIdea",value:function(e,t){var n=e;return this.setState({currentEditIdea:n},(function(){if(t)return t(n)}))}},{key:"updateCurrentEditIdea",value:function(e,t){var n=this.state.currentEditIdea;return n=merge__WEBPACK_IMPORTED_MODULE_3___default().recursive(n,e),this.setCurrentEditIdea(n,t)}},{key:"showIdeaForm",value:function(){var e=this,t=e.state.currentEditIdea;if(e.config.idea.formUrl){var n=e.config.idea.formUrl;n=(n=(n=(n=n.replace(/:ideaId/,"number"==typeof t.id?t.id:"")).replace(/:location/,t.location?JSON.stringify({lat:t.location.coordinates[0],lng:t.location.coordinates[1]}):"")).replace(/:typeId/,t.typeId)).replace(/:address/,t.address),document.location.href=n}else e.setState({status:"idea-form"},(function(){e.map.map.invalidateSize(),e.map.hideMarkers({exception:{location:t&&t.location&&{lat:t.location.coordinates[0],lng:t.location.coordinates[1]}||e.map.selectedLocation}});var n=t.location||e.state.selectedLocation;e.updateLocationAddress(n)}))}},{key:"hideIdeaForm",value:function(){var e=this;if(this.state.currentEditIdea&&"number"==typeof this.state.currentEditIdea.id){var t=e.state.ideas.find((function(t){return t.id==e.state.currentEditIdea.id}));e.showIdeaDetails(t),document.location.href="#D"+t.id}else{var n=e.state.currentEditIdea&&e.state.currentEditIdea.location||e.state.selectedLocation;n?(n.isPointInArea=this.map.isPointInArea(n,this.config.map.polygon),e.setState({status:"location-selected"},(function(){e.map.showMarkers({})}))):e.setState({status:"default"},(function(){e.map.showMarkers({}),e.setCurrentEditIdea(null)}))}}},{key:"setInfobarOnMobileIsOpen",value:function(e,t){this.setState({infobarOnMobileIsOpen:e}),t&&t()}},{key:"openInfobarOnMobile",value:function(e){this.setState({infobarOnMobileIsOpen:!0}),e&&e()}},{key:"closeInfobarOnMobile",value:function(e){this.setState({infobarOnMobileIsOpen:!1}),e&&e()}},{key:"doSearch",value:function doSearch(searchValue,callback){var self=this,searchValueLc=searchValue.toLowerCase(),searchResult={ideas:[],locations:[]};function onClickAddress(e){self.map.LookupLatLngByAddressId({id:e,addresssesMunicipality:self.config.search.addresssesMunicipality,next:function(e){var t=e.centroide_ll.match(/POINT\((\d+\.\d+) (\d+\.\d+)\)/);self.map.map.panTo(new L.LatLng(t[2],t[1])),self.onMapClick({latlng:{lat:t[2],lng:t[1]}},!0)}})}this.state.ideas.forEach((function(idea){var title=eval("idea.".concat(self.config.titleField))||"",titlelLc=title.toLowerCase(),summary=eval("idea.".concat(self.config.summaryField))||"",summaryLc=summary.toLowerCase();(titlelLc.match(searchValueLc)||summaryLc.match(searchValueLc))&&searchResult.ideas.push({text:title,onClick:function(){self.onUpdateSelectedIdea(idea)}})})),self.map.suggestAddresses({searchValue:searchValueLc,addresssesMunicipality:self.config.search.addresssesMunicipality,next:function(e){searchResult.locations=e&&e.map((function(e){return e.onClick=function(){return onClickAddress(e.id)},e})),callback(searchValue,searchResult)}})}},{key:"getVisibleIdeas",value:function(){var e=this.map.getVisibleIdeas();return this.setState({visibleIdeas:e}),e}},{key:"onMapClick",value:function(e,t){var n=this;if(1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_5__.tq)this.closeInfobarOnMobile();else switch(this.state.status){case"idea-details":this.hideIdeaDetails(),document.location.href="#S"+this.state.selectedIdea.id;break;case"idea-form":this.map.isPointInArea(e.latlng,this.config.map.polygon)&&this.setSelectedLocation(e.latlng);break;default:if(!this.state.selectedIdea&&!this.state.selectedLocation||t){if(!this.config.canSelectLocation)break;this.setSelectedLocation(e.latlng,(function(e){n.setState({status:"location-selected"}),n.updateLocationAddress(e)}))}else this.setState({status:"default"}),document.location.href="#",this.setSelectedIdea(null),this.updateListedIdeas({ideas:this.getVisibleIdeas()});document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0)}}},{key:"onMarkerClick",value:function(e){if(1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_5__.tq)this.closeInfobarOnMobile();else switch(this.state.status){case"idea-details":this.onUpdateSelectedIdea(e.target.options.data),document.location.href="#D"+e.target.options.data.id,document.querySelector("#osc-ideas-on-map-info")&&document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0);break;case"idea-form":break;default:this.state.currentEditIdea||this.state.selectedLocation?(this.setSelectedIdea(null),this.setState({status:"default"}),this.setCurrentEditIdea(null),this.onUpdateSelectedIdea(null)):(this.onUpdateSelectedIdea(e.target.options.data),"showIdeaDetails"==this.config.onMarkerClickAction&&(document.location.href="#D"+e.target.options.data.id)),document.querySelector("#osc-ideas-on-map-info")&&document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0)}}},{key:"onClusterClick",value:function(e){1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_5__.tq&&this.closeInfobarOnMobile()}},{key:"onChangeMapBoundaries",value:function(){var e=this;if(e.map)switch(e.state.status){case"idea-form":break;case"idea-selected":case"location-selected":if(e.infobar){var t=e.state.selectedIdea||e.state.currentEditIdea;t&&e.updateListedIdeas({ideas:e.state.ideas.filter((function(e){return e.id!=t.id})),sortOrder:"distance",center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5})}break;default:e.infobar&&e.updateListedIdeas({ideas:e.getVisibleIdeas()})}}},{key:"onUpdateSelectedIdea",value:function(e){var t=this,n="default";e?"idea-details"==this.state.status?(document.location.href="#D"+e.id,n="idea-details"):(document.location.href="#S"+e.id,n="idea-selected"):document.location.href="#",this.setState({status:n},(function(){t.setSelectedIdea(e)}))}},{key:"onIdeaClick",value:function(e){document.location.href="#D"+e.id}},{key:"onEditIdeaClick",value:function(e){var t=this;t.setCurrentEditIdea(e,(function(e){t.showIdeaForm()}))}},{key:"onIdeaDeleted",value:function(e){var t=this;t.setCurrentEditIdea(null),t.setSelectedIdea(null),t.setSelectedLocation(null),t.setState({status:"default"},(function(){t.map.setBoundsAndCenter(),t.fetchData({})}))}},{key:"onDeleteIdeaClick",value:function(e){console.log("Delete idea",e.id)}},{key:"onSelectedIdeaClick",value:function(e){var t=e.idea;document.location.href="#D"+t.id}},{key:"onNewIdeaClick",value:function(e){var t=e.idea,n=this,r=merge__WEBPACK_IMPORTED_MODULE_3___default().recursive(this.state.currentEditIdea||{},this.state.selectedLocation);r.typeId=t&&t.typeId,n.setCurrentEditIdea(r,(function(e){n.showIdeaForm()}))}},{key:"onIdeaStored",value:function(e){this.setCurrentEditIdea(null),this.fetchData({showIdeaDetails:e.id})}},{key:"onIdeaLiked",value:function(e){this.state.ideas.find((function(t){return t.id==e.ideaId})).yes+=e.change}},{key:"onReactionStored",value:function(e,t){t&&this.state.ideas.find((function(t){return t.id==e.ideaId})).argCount++}},{key:"onReactionDeleted",value:function(e){this.state.ideas.find((function(t){return t.id==e.ideaId})).argCount--}},{key:"onChangeFilter",value:function(e){this.setSelectedIdea(null),this.setCurrentEditIdea(null),this.setSelectedLocation(null),this.setState({status:"default"}),this.onChangeMapBoundaries()}},{key:"onTileMouseEnter",value:function(e){this.map.fadeMarkers({exception:e})}},{key:"onTileMouseLeave",value:function(e){this.map.unfadeAllMarkers(),this.state.selectedIdea&&this.map.fadeMarkers({exception:this.state.selectedIdea}),this.map.selectedLocation&&this.map.fadeMarkers({})}},{key:"onClickBackToOverview",value:function(e){this.hideIdeaDetails(),document.location.href="#S"+this.state.selectedIdea.id}},{key:"onClickMobileSwitcher",value:function(){var e=this,t=this;t.setInfobarOnMobileIsOpen(!this.state.infobarOnMobileIsOpen,(function(n){if("location-selected"==t.state.status||"idea-selected"==e.state.status){t.state.selectedIdea||t.state.currentEditIdea;t.map.setBoundsAndCenter()}}))}},{key:"render",value:function render(){var _this6=this,infoHTML=null,filterHTML=null,mobilePopupHTML=null;switch(this.state.status){case"idea-details":infoHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{config:this.config,displayType:"details",selectedIdea:this.state.selectedIdea,idea:this.state.selectedIdea,className:"osc-ideas-on-map-info",ref:function(e){return _this6.infobar=e}}),filterHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-ideas-filterbar"},react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-backbutton",onClick:function(){return _this6.onClickBackToOverview()}},"Terug naar overzicht"));break;case"idea-form":infoHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{config:this.config,displayType:"form",selectedIdea:this.state.selectedIdea,idea:_objectSpread(_objectSpread({},this.state.currentEditIdea),{},{user:this.state.currentEditIdea&&this.state.currentEditIdea.user||this.config.user}),className:"osc-ideas-on-map-info",ref:function(e){return _this6.infobar=e}}),filterHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-ideas-filterbar"},react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-backbutton",onClick:function(){return _this6.hideIdeaForm()}},"Terug naar ",this.state.currentEditIdea&&"number"==typeof this.state.currentEditIdea.id?"idee":"overzicht"));break;case"location-selected":case"idea-selected":if("location-selected"==this.state.status){var location=this.state.selectedLocation||this.state.currentEditIdea&&this.state.currentEditIdea.location||{};location.isPointInArea=this.map.isPointInArea(location,this.config.map.polygon),location.isPointInArea&&(mobilePopupHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_preview_jsx__WEBPACK_IMPORTED_MODULE_8__.Z,{config:_objectSpread(_objectSpread({},this.config),{},{display:{type:"mobilePreview"}}),selectedLocation:location}))}else mobilePopupHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-mobile-popup osc-clickable",onClick:function(){_this6.openInfobarOnMobile(),document.location.href="#D"+_this6.state.selectedIdea.id}},react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-image",style:{backgroundImage:"url(".concat(this.state.selectedIdea&&this.state.selectedIdea.image,")")}}),eval(this.state.selectedIdea&&"this.state.selectedIdea.".concat(this.config.titleField)));infoHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{config:this.config,selectedIdea:this.state.selectedIdea,selectedLocation:this.state.selectedLocation,currentEditIdea:this.state.currentEditIdea,ideas:this.state.listedIdeas,id:"osc-ideas-on-map-info",className:"osc-ideas-on-map-info",infobarOnMobileIsOpen:this.state.infobarOnMobileIsOpen,ref:function(e){return _this6.infobar=e}}),filterHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_filterbar_jsx__WEBPACK_IMPORTED_MODULE_6__.Z,{config:this.config,className:"osc-ideas-filterbar"});break;default:infoHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{config:this.config,selectedIdea:this.state.selectedIdea,ideas:this.state.listedIdeas,id:"osc-ideas-on-map-info",className:"osc-ideas-on-map-info",infobarOnMobileIsOpen:this.state.infobarOnMobileIsOpen,ref:function(e){return _this6.infobar=e}}),filterHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_filterbar_jsx__WEBPACK_IMPORTED_MODULE_6__.Z,{config:this.config,className:"osc-ideas-filterbar"}),mobilePopupHTML=null}var divStyle={},simpleHTML=null;if("simple"==this.config.display.type){filterHTML=null,infoHTML=null,mobilePopupHTML=null;var buttonHTML=null;this.config.linkToCompleteUrl&&(buttonHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement("button",{onClick:function(){document.location.href=_this6.config.linkToCompleteUrl},className:"osc-button-blue",style:{position:"absolute",top:20,right:20}},"Bekijk de volledige kaart")),simpleHTML=react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:400}},buttonHTML),this.config.display.width&&(divStyle.width=this.config.display.width),this.config.display.height&&(divStyle.height=this.config.display.height)}var mapConfig=_objectSpread(_objectSpread({},this.config.map),{},{zoomControl:"simple"!=this.config.display.type,categorize:{categorizeByField:this.config.typeField,categories:{}}});return this.config.types.forEach((function(e){mapConfig.categorize.categories[e.id]={color:e.color,icon:e.mapicon}})),mapConfig.defaultIcon=mapConfig.defaultIcon||{html:'<svg viewBox="0 0 26 26"><circle cx="13" cy="13" r="13" fill="#164995"/></svg>',width:26,height:26,anchor:[13,13]},react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{id:this.divId,className:"osc-ideas-on-map osc-ideas-on-map-".concat(this.state.status," osc-mobile-").concat(this.state.infobarOnMobileIsOpen?"opened":"closed"),style:divStyle,ref:function(e){return _this6.instance=e}},filterHTML,infoHTML,react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",{className:"osc-ideas-on-map-map osc-ideas-on-map-map-".concat(this.config.display.type)},react__WEBPACK_IMPORTED_MODULE_4___default().createElement(react__WEBPACK_IMPORTED_MODULE_4__.Suspense,{fallback:react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",null,"Loading...")},react__WEBPACK_IMPORTED_MODULE_4___default().createElement(Map,{id:this.divId+"-map",config:mapConfig,ref:function(e){return _this6.map=e}}))),simpleHTML,mobilePopupHTML)}}]),OpenStadComponentIdeasOnMap}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_9__.Z)},4286:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(6156);var i=n(6610),o=n(5991),a=n(379),s=n(6070),c=n(7608),l=n(7961),u=n(6623);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var _=function(e){(0,a.Z)(n,e);var t=p(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this,t=void 0!==e.props.ideas?e.props.ideas:e.state.ideas||[],n=React.createElement("h3",{className:"osc-title"},e.props.title||e.config.title," (",t.length,")");return React.createElement("div",{id:e.id,className:"osc-ideas-overview ".concat(e.props.className||"")},React.createElement(u.IdeasFilterbar,{config:e.config,showFilterbar:e.props.showFilterbar,className:"osc-ideas-filterbar"}),React.createElement(u.IdeasSort,{config:f({},e.config.sort),ideas:t,showSort:!e.props.hideSortButton,className:"osc-align-right-container",ref:function(t){return e.sorter=t}}),n,React.createElement(u.IdeasList,{config:e.config,ideas:t,className:""}))}}]),n}(u.IdeasOverview),h=n(6605),m=n(7035),v=n(5068);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var E=function(e){(0,a.Z)(n,e);var t=y(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{display:{columns:1,showFilterbar:!1},idea:{canAddNewIdeas:!0,showVoteButtons:!0},argument:{isActive:!0,ignoreReactionsForIdeaIds:""},types:[]}),e.config.content.noSelectionHTML&&!e.config.content.noSelectionLoggedInHTML&&(r.config.content.noSelectionLoggedInHTML=e.config.content.noSelectionHTML),e.config.content.noSelectionHTML&&!e.config.content.noSelectionNotLoggedInHTML&&(r.config.content.noSelectionNotLoggedInHTML=e.config.content.noSelectionHTML),r.state={currentSortOrder:r.config.defaultValue,infobarOnMobileIsOpen:e.infobarOnMobileIsOpen||!1},r}return(0,o.Z)(n,[{key:"updateIdeas",value:function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),console.log("updateIdeas moet weg")}}]),(0,o.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.setSelectedLocationListener=function(e){n.setNewIdea(e.detail)},document.addEventListener("osc-set-selected-location",n.setSelectedLocationListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-set-selected-location",this.setSelectedLocationListener)}},{key:"setNewIdea",value:function(e){console.log("DEZE MOET WEG"),this.setState(b(b({},this.state),{},{selectedIdea:null}))}},{key:"dispatchClickMobileSwitcher",value:function(e){e.stopPropagation();var t=new window.CustomEvent("osc-click-mobile-switcher",{detail:{}});document.dispatchEvent(t)}},{key:"render",value:function(){var e=this,t=this,n=b({},t.config);if(n.display.type="list",this.props.idea&&this.props.idea.extraData&&this.props.idea.extraData.type&&("Kans"==this.props.idea.extraData.type||"Knelpunt"==this.props.idea.extraData.type)&&(n.types=[{name:"Kans",label:"Dit gaat goed",value:"Kans",buttonLabel:"Ik wil een idee posten",backgroundColor:"#bed200",textColor:"black"},{name:"Knelpunt",label:"Dit kan beter",value:"Knelpunt",backgroundColor:"#ff9100",textColor:"black"}],n.typeField="extraData.type",n.showLabels=!0),"details"==t.props.displayType)return React.createElement(h.default,{config:n,idea:this.props.idea,className:t.props.className||"osc-infobar-idea-details",ref:function(t){return e.ideadetails=t}});if("form"==t.props.displayType)return React.createElement(m.Z,{config:n,idea:this.props.idea,className:"osc-ideas-on-map-info",ref:function(t){return e.ideaform=t}});var r,i=t.props.ideas,o="",a="",s=!1;(t.props.currentEditIdea||t.props.selectedLocation)&&(o="in de buurt",a="Meer details en acties",s=!0),t.props.selectedIdea&&(o="in de buurt",a="Meer details",s=!0),o||(o="in dit gebied"),t.props.currentEditIdea||t.props.selectedIdea||(a="".concat(n.ideaName," in dit gebied (").concat(i&&i.length||0,")")),t.state.infobarOnMobileIsOpen&&(a="Terug naar de kaart"),r=React.createElement("div",{className:"osc-mobile-switcher",onClick:function(e){return t.dispatchClickMobileSwitcher(e)}},a);var c=n.ideaName+" "+o;return n.display.onMouseOverTileFadeOthers=!0,React.createElement("div",{id:t.props.id,className:t.props.className||"osc-infobar",ref:function(e){return t.instance=e}},r,React.createElement("div",{className:"osc-info-content"},React.createElement(v.Z,{config:n,selectedIdea:t.props.selectedIdea,selectedLocation:t.props.currentEditIdea||t.props.selectedLocation}),React.createElement(_,{config:n,ideas:i,hideSortButton:s,title:c,ref:function(e){return t.list=e}})))}}]),n}(l.Z)},5068:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Preview});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5991),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7961),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2150),_image_index_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4315),_ideas_overview_index_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6623);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if(t){var i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Preview=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__.Z)(Preview,_OpenStadComponent);var _super=_createSuper(Preview);function Preview(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8__.Z)(this,Preview),t=_super.call(this,e,{display:{type:"idea-selection"},api:{},content:{noSelectionLoggedInHTML:"",noSelectionNotLoggedInHTML:"",selectionActiveLoggedInHTML:"Ingelogd: er is een punt geselecteerd binnen de polygon, met een adres: {address} en {addButton}.",selectionInactiveLoggedInHTML:"Ingelogd: er is een punt geselecteerd buiten de polygon, met een {address}",selectionActiveNotLoggedInHTML:'Niet ingelogd: er is een punt geselecteerd binnen de polygon, met een adres: {address} en {loginButton} of <a href="{loginLink}">login link</a>.',selectionInactiveNotLoggedInHTML:"Niet ingelogd: er is een punt geselecteerd buiten de polygon, met een {address}",mobilePreviewLoggedInHTML:"Een locatie vlakbij <h4>{address}</h4>{addButton}",mobilePreviewNotLoggedInHTML:'Een locatie vlakbij <h4>{address}</h4><div>Wilt u een nieuw punt toevoegen? Dan moet u eerst <a href="{loginLink}">inloggen</a>.</div>',showNoSelectionOnMobile:!1},idea:{canAddNewIdeas:!0,showVoteButtons:!0}}),e.config.content=e.config.content||{},e.config.content.noSelectionHTML&&!e.config.content.noSelectionLoggedInHTML&&(t.config.content.noSelectionLoggedInHTML=e.config.content.noSelectionHTML),e.config.content.noSelectionHTML&&!e.config.content.noSelectionNotLoggedInHTML&&(t.config.content.noSelectionNotLoggedInHTML=e.config.content.noSelectionHTML),t.state={},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__.Z)(Preview,[{key:"componentDidMount",value:function(e,t){var n=this;n.updateLocationListener=function(e){n.updateLocation(e.detail&&e.detail.location)},document.addEventListener("osc-update-location",n.updateLocationListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-update-location",this.updateLocationListener)}},{key:"updateLocation",value:function(e){e&&this.setState({location:e,address:e.address})}},{key:"dispatchOnButtonIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-selection-button-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchNewIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-new-idea-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"openPreviewWindow",value:function(){var e=new window.CustomEvent("osc-click-mobile-switcher");document.dispatchEvent(e)}},{key:"dispatchSelectedIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-selected-idea-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchClosePreview",value:function(e,t){var n;e.stopPropagation(),"idea"==t&&(n=new window.CustomEvent("osc-set-selected-idea",{detail:null})),"location"==t&&(n=new window.CustomEvent("osc-set-selected-location",{detail:null})),document.dispatchEvent(n)}},{key:"render",value:function render(){var self=this;if("mobilePreview"==self.config.display.type){var contentHTML=this.config.api.isUserLoggedIn?this.config.content.mobilePreviewLoggedInHTML:this.config.content.mobilePreviewNotLoggedInHTML,_addButton=null,_loginButton=null,_loginLink=null;this.config.api.isUserLoggedIn?this.config.idea.canAddNewIdeas&&(_addButton=React.createElement("button",{className:"osc-button osc-button-blue",onClick:function(e){self.openPreviewWindow(),self.dispatchNewIdeaClick(e)},ref:function(e){return self.newIdeaButton=e}},"Nieuw punt toevoegen")):this.config.idea.canAddNewIdeas&&(_loginButton=React.createElement("button",{onClick:function(){document.location.href="/oauth/login?returnTo="+encodeURIComponent(document.location.href)},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),_loginLink="javascript: document.location.href = '/oauth/login?returnTo=' + encodeURIComponent(document.location.href)");var address=this.state.address||this.props.selectedLocation.address||"[adres wordt gezocht...]";return contentHTML=contentHTML.replace(/\{address\}/g,address||""),contentHTML=contentHTML.replace(/\{loginLink\}/g,_loginLink),contentHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.reactTemplate({html:contentHTML,addButton:_addButton,loginButton:_loginButton}),React.createElement("div",{className:"osc-mobile-popup"},contentHTML)}var selectedLocationHTML=null,selectedIdeaHTML=null,titleAddition="",mobileSwitcherHTML=null,mobileTitle="",addButton=null,loginButton=null,loginLink=null;if(self.config.idea.canAddNewIdeas){addButton=self.config.types&&"typeId"==self.config.typeField?React.createElement("span",{className:"osc-new-idea-buttons"},self.config.types.map((function(e,t){var n=e;if(!n.auth||n.auth.createableBy&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.user.hasRole(self.config.user,n.auth.createableBy)){var r=n?React.createElement("div",{className:"osc-button-background-image",dangerouslySetInnerHTML:{__html:n.buttonicon&&n.buttonicon.html||""}}):null;return React.createElement("button",{className:"osc-button osc-button-white"+(n&&n.auth&&n.auth.createableBy?" osc-button-required-role-is-".concat(n.auth.createableBy):""),onClick:function(e){return self.dispatchNewIdeaClick(e,{typeId:n.id||n.name})},key:"osc-button-".concat(t)},r,n&&n.buttonLabel||"Nieuw punt toevoegen")}return null}))):React.createElement("button",{className:"osc-button osc-button-blue",onClick:function(e){return self.dispatchNewIdeaClick(e)}},"Nieuw punt toevoegen");var loginUrl=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.auth.getLoginUrl(self.config);loginButton=React.createElement("button",{onClick:function(){document.location.href=loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),loginLink="javascript: document.location.href = '".concat(loginUrl,"'")}if(self.props.selectedLocation){var _contentHTML=null;_contentHTML=self.props.selectedLocation.isPointInArea?self.config.api.isUserLoggedIn?self.config.content.selectionActiveLoggedInHTML:self.config.content.selectionActiveNotLoggedInHTML:self.config.api.isUserLoggedIn?self.config.content.selectionInactiveLoggedInHTML:self.config.content.selectionInactiveNotLoggedInHTML;var _address=this.state.address||this.props.selectedLocation.address||"[adres wordt gezocht...]";_contentHTML=_contentHTML.replace(/\{address\}/g,_address||""),_contentHTML=_contentHTML.replace(/\{loginLink\}/g,loginLink),_contentHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.reactTemplate({html:_contentHTML,addButton,loginButton}),selectedLocationHTML=React.createElement("div",{className:"osc-infobar-new-idea"},React.createElement("button",{className:"osc-close-button-black",onClick:function(e){return self.dispatchClosePreview(e,"location")},ref:function(e){return self.resetButton=e}}),_contentHTML),titleAddition="in de buurt",mobileTitle="Meer details en acties"}if(self.props.selectedIdea){var idea=self.props.selectedIdea,ideaTypeValue;try{ideaTypeValue=eval("idea.".concat(self.config.typeField))}catch(e){ideaTypeValue=""}var typeDef=self.config.types.find((function(e){return e.name==ideaTypeValue||e.id==ideaTypeValue}));typeDef&&typeDef.listicon||(typeDef={listicon:{html:""}});var voteCountHTML=null;this.config.idea.showVoteButtons&&(voteCountHTML=React.createElement("div",{className:"osc-likes"},idea.yes||0));var argcountHTML=null;this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")))&&(argcountHTML=React.createElement("div",{className:"osc-reactions"},idea.argCount||0));var config=_objectSpread({},self.config);config.display.showStats=!0,config.display.showTypeIcon=!0,selectedIdeaHTML=React.createElement("div",{className:"osc-infobar-selected-idea",onClick:function(e){return self.dispatchSelectedIdeaClick(e,self.props.selectedIdea)}},React.createElement("button",{className:"osc-close-button-black",onClick:function(e){return self.dispatchClosePreview(e,"idea")},ref:function(e){return self.resetButton=e}}),React.createElement("h3",null,"Geselecteerd"),React.createElement(_ideas_overview_index_jsx__WEBPACK_IMPORTED_MODULE_6__.IdeaTile,{config,idea,className:"osc-".concat(self.config.display.columns,"-columns").concat(this.config.display.onMouseOverTileFadeOthers&&self.state.highLightIdeaId&&self.state.highLightIdeaId!=idea.id?" osc-opacity-65":""),key:"osc-idea-tile-".concat(idea.id)})),titleAddition="in de buurt",mobileTitle="Meer details"}var defaultBlockHTML=null;if(!selectedLocationHTML&&!selectedIdeaHTML){var noSelectionHTML=self.config.api.isUserLoggedIn?self.config.content.noSelectionLoggedInHTML:self.config.content.noSelectionNotLoggedInHTML;noSelectionHTML=noSelectionHTML||null,noSelectionHTML&&(noSelectionHTML=noSelectionHTML.replace(/\{loginLink\}/g,loginLink),noSelectionHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.ZP.reactTemplate({html:noSelectionHTML,addButton,loginButton}),defaultBlockHTML=React.createElement("div",{className:"osc-infobar-default-block".concat(self.config.content.showNoSelectionOnMobile?" osc-visible-on-mobile":"")},noSelectionHTML)),mobileTitle="".concat(self.config.ideaName," in dit gebied (").concat(self.state.ideas&&self.state.ideas.length||0,")")}return selectedLocationHTML||selectedIdeaHTML||defaultBlockHTML?React.createElement("div",{className:"osc-selection-block"},defaultBlockHTML,selectedLocationHTML,selectedIdeaHTML):null}}]),Preview}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__.Z)},8269:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeasOverview});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5991),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7961),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2150),_image_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4315);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeasOverview=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__.Z)(IdeasOverview,_OpenStadComponent);var _super=_createSuper(IdeasOverview);function IdeasOverview(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__.Z)(this,IdeasOverview),(t=_super.call(this,e,{idea:{showVoteButtons:!0,titleField:"title",summaryField:"summary",minimumYesVotes:void 0},display:{type:"tiles",columns:4,showStatusLabel:!1,showTheme:!1,showArea:!1,showVoteProgressbar:!1,showStats:!1,showTypeIcon:!1,onMouseOverTileFadeOthers:!1},image:{},argument:{isActive:!0,ignoreReactionsForIdeaIds:""},vote:{isViewable:!0,voteValues:[{value:"yes"},{value:"no"}]},types:[],typeField:"typeId"})).config.image.allowMultipleImages=!1,t.state={idea:t.props.idea||{}},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__.Z)(IdeasOverview,[{key:"dispatchIdeaTileClick",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchIdeaTileMouseEnter",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-mouse-enter",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchIdeaTileMouseLeave",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-mouse-leave",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"render",value:function render(){var self=this,idea=self.state.idea,statusLabelHTML=null;self.config.display.showStatusLabel;var themeAndAreaHTML=null;if(self.config.display.showTheme||self.config.display.showArea){var areaHTML=null;self.config.display.showArea&&idea.extraData.area&&(areaHTML=React.createElement("div",{className:"osc-area"},idea.extraData.area)),themeAndAreaHTML=React.createElement("div",{className:"osc-theme-and-area"},self.config.display.showTheme&&idea.extraData.theme&&React.createElement("div",{className:"osc-theme"},idea.extraData.theme),self.config.display.showTheme&&idea.extraData.theme&&self.config.display.showArea&&idea.extraData.area&&React.createElement("div",{className:"osc-divider"}),self.config.display.showArea&&idea.extraData.area&&React.createElement("div",{className:"osc-area"},idea.extraData.area))}var statsHTML=null;if(self.config.display.showStats){var stats=[];this.config.idea.showVoteButtons&&1==this.config.vote.isViewable&&this.config.vote.voteValues.find((function(e){return"yes"===e.value}))&&stats.push(React.createElement("div",{className:"osc-yes-votes"},idea.yes||0)),this.config.idea.showVoteButtons&&1==this.config.vote.isViewable&&this.config.vote.voteValues.find((function(e){return"no"===e.value}))&&stats.push(React.createElement("div",{className:"osc-no-votes"},idea.no||0));var argcountHTML=null;this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")))&&stats.push(React.createElement("div",{className:"osc-reactions"},idea.argCount||0)),statsHTML=React.createElement("div",{className:"osc-idea-stats-container"},stats.map((function(e,t){return React.createElement("div",{className:"osc-stat",key:"osc-stat-".concat(idea.id,"-").concat(t)},e)})))}var voteProgressHTML=null;self.config.display.showVoteProgressbar&&(console.log(idea.progress),voteProgressHTML=React.createElement("div",{className:"osc-progress-container"},React.createElement("div",{className:"osc-progress"},React.createElement("div",{className:"osc-progress-bar osc-status-open",style:{width:idea.progress+"%"}}),React.createElement("div",{className:"osc-progress-target"},self.config.idea.minimumYesVotes))));var typeIconHTML=null;if(self.config.display.showTypeIcon){var ideaTypeValue;try{ideaTypeValue=eval("idea.".concat(self.config.typeField))}catch(e){ideaTypeValue=""}var typeDef=self.config.types.find((function(e){return ideaTypeValue&&(e.id==ideaTypeValue||e.name==ideaTypeValue)}));typeDef&&typeDef.listicon||(typeDef={listicon:{html:""}});try{"string"==typeof typeDef.listicon&&(typeDef.listicon=JSON.parse(typeDef.listicon))}catch(e){}typeDef.listicon.html&&(typeIconHTML=React.createElement("div",{className:"osc-typeicon"},React.createElement("div",{className:"osc-typeicon-content",dangerouslySetInnerHTML:{__html:typeDef.listicon.html}})))}return React.createElement("div",{id:self.divId,className:"osc-idea-tile osc-displaytype-".concat(self.config.display.type," osc-column osc-").concat(self.config.display.columns,"-columns ").concat(self.props.className||""),onClick:function(e){return self.dispatchIdeaTileClick(e,idea)},onMouseEnter:function(e){return self.dispatchIdeaTileMouseEnter(e,idea)},onMouseLeave:function(e){return self.dispatchIdeaTileMouseLeave(e,idea)}},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_4__.IdeaImage,{config:this.config,idea,key:"image-"+idea.id})),React.createElement("div",{className:"osc-idea-tile-content"},statusLabelHTML,React.createElement("h4",{className:"osc-title"},eval("idea.".concat(self.config.idea.titleField))),themeAndAreaHTML,React.createElement("div",{className:"osc-summary"},eval("idea.".concat(self.config.idea.summaryField))),voteProgressHTML,statsHTML),React.createElement("div",{className:"osc-idea-tile-content-alt"},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_4__.IdeaImage,{config:this.config,idea,key:"image-"+idea.id})),React.createElement("h4",{className:"osc-title"},eval("idea.".concat(self.config.idea.titleField))),eval("idea.".concat(self.config.idea.summaryField)),statsHTML),typeIconHTML)}}]),IdeasOverview}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__.Z)},7234:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeasFilter});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7961);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeasFilter=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__.Z)(IdeasFilter,_OpenStadComponent);var _super=_createSuper(IdeasFilter);function IdeasFilter(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.Z)(this,IdeasFilter),(t=_super.call(this,e)).doFilter=t.doFilter.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.setFilter=t.setFilter.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.state={currentValue:t.config.defaultValue},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__.Z)(IdeasFilter,[{key:"componentDidMount",value:function(e,t){this.state.currentValue&&this.setFilter({value:this.state.currentValue})}},{key:"doFilter",value:function doFilter(ideas,value){var self=this;return value=value||this.state.currentValue,ideas=ideas.filter((function(idea){var fieldName=self.config.fieldName,fieldValue=eval("idea.".concat(fieldName));return fieldValue==value})),ideas}},{key:"setFilter",value:function(e){var t=e.value,n=this;this.setState({currentValue:t},(function(){var e=new window.CustomEvent("osc-ideas-filter-onchange",{detail:{fieldName:n.config.fieldName,value:t,doFilter:n.doFilter}});document.dispatchEvent(e)}))}},{key:"render",value:function(){var e=this;if(0==e.config.showFilter)return null;var t=null;return e.config.label&&(t=React.createElement("div",{className:"osc-filter-label"},e.config.label,":")),React.createElement("div",{className:"osc-ideas-filter ".concat(e.props.className||"")},t,React.createElement("select",{value:e.state.currentValue,onChange:function(){return e.setFilter({value:e.filterSelector.value})},className:"osc-default-select",ref:function(t){return e.filterSelector=t}},e.config.filterOptions.map((function(e,t){return React.createElement("option",{value:e.value,key:"filter-option-"+t},e.label)}))))}}]),IdeasFilter}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__.Z)},7530:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeasSearch});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7961);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeasSearch=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__.Z)(IdeasSearch,_OpenStadComponent);var _super=_createSuper(IdeasSearch);function IdeasSearch(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.Z)(this,IdeasSearch),(t=_super.call(this,e,{placeholder:"Zoeken",fieldNames:["title","summary"],showSearch:!0,showButton:!1,showSuggestions:!1,defaultValue:""})).doSearch=t.doSearch.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.setSearch=t.setSearch.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.state={currentValue:t.config.defaultValue},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__.Z)(IdeasSearch,[{key:"componentDidMount",value:function(e,t){this.state.currentValue&&this.setFilter({value:this.state.currentValue})}},{key:"doSearch",value:function doSearch(ideas,value){var self=this;return value=value||this.state.currentValue,ideas=ideas.filter((function(idea){var found=!1;return self.config.fieldNames.forEach((function(fieldName){var fieldValue=eval("idea.".concat(fieldName));fieldValue.match(new RegExp(value,"i"))&&(found=!0)})),found})),ideas}},{key:"setSearch",value:function(e){var t=e.value,n=this;this.setState({currentValue:t},(function(){var e=new window.CustomEvent("osc-ideas-search-onchange",{detail:{value:t,doSearch:n.doSearch}});document.dispatchEvent(e)}))}},{key:"showSuggestions",value:function(){}},{key:"hideSuggestions",value:function(){}},{key:"render",value:function(){var e=this;if(0==e.config.showSearch)return null;var t=null;e.config.label&&(t=React.createElement("div",{className:"osc-search-label"},e.config.label,":"));return React.createElement("div",{className:"osc-ideas-search ".concat(e.props.className||"")},t,null,React.createElement("input",{type:"text",value:this.state.currentValue,placeholder:e.config.placeholder,onChange:function(){return e.setSearch({value:e.searchInput.value})},onBlur:function(){return e.hideSuggestions()},onFocus:function(){return e.showSuggestions()},className:"osc-default-input osc-ideas-search-input",ref:function(t){return e.searchInput=t}}),React.createElement("button",{className:"osc-ideas-search-button".concat(this.state.currentValue?" osc-active":""),onClick:function(t){return e.setSearch({value:""})},ref:function(t){return e.resetButton=t}}))}}]),IdeasSearch}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__.Z)},6623:(e,t,n)=>{"use strict";n.d(t,{IdeaTile:()=>_.Z,IdeasFilter:()=>b.Z,IdeasFilterbar:()=>w,IdeasList:()=>m,IdeasOverview:()=>M,IdeasSort:()=>k});n(7147);var r=n(3804),i=n.n(r),o=n(7196),a=n.n(o),s=(n(6014),n(6610)),c=n(5991),l=n(379),u=n(6070),d=n(7608),f=n(7961),p=n(2150),_=n(8269);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var m=function(e){(0,l.Z)(n,e);var t=h(n);function n(e){var r;(0,s.Z)(this,n);var i={idea:{titleField:"title",summaryField:"summary"},sort:{sortOptions:[{value:"createdtime,desc",label:"Nieuwste eerst"},{value:"createdtime,asc",label:"Oudste eerst"}],showSort:!0,defaultValue:"createdtime,desc"},types:[]};switch(e.config.display&&e.config.display.type){case"list":i.display={title:"Inzendingen",columns:1,showStatusLabel:!1,showTheme:!1,showArea:!1,showVoteProgressbar:!1,showStats:!0,showTypeIcon:!0,onMouseOverTileFadeOthers:!1};break;case"grid":i.display={title:"Inzendingen",columns:3,showStatusLabel:!1,showTheme:!0,showArea:!0,showVoteProgressbar:!1,showStats:!1,showTypeIcon:!1,onMouseOverTileFadeOthers:!1};break;default:i.display={title:"Inzendingen",type:"tiles",columns:4,showStatusLabel:!0,showTheme:!1,showArea:!1,showVoteProgressbar:!0,showStats:!0,showTypeIcon:!1,onMouseOverTileFadeOthers:!1}}return(r=t.call(this,e,i)).state={highLightIdeaId:null},r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.ideaTileMouseEnterListener=function(e){n.onTileMouseEnter(e.detail)},document.addEventListener("osc-idea-tile-mouse-enter",n.ideaTileMouseEnterListener),n.ideaTileMouseLeaveListener=function(e){n.onTileMouseLeave(e.detail)},document.addEventListener("osc-idea-tile-mouse-leave",n.ideaTileMouseLeaveListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-idea-tile-mouse-enter",this.ideaTileMouseEnterListener),document.removeEventListener("osc-idea-tile-mouse-leave",this.ideaTileMouseLeaveListener)}},{key:"onTileMouseEnter",value:function(e){var t=e.idea;this.setState({highLightIdeaId:t.id})}},{key:"onTileMouseLeave",value:function(e){e.idea;this.setState({highLightIdeaId:null})}},{key:"render",value:function(){var e=this,t=this,n=t.props.ideas||[];return React.createElement("div",{className:"osc-tile-list-container osc-columns-container ".concat(t.props.className||"")},React.createElement("div",{className:"osc-tile-list osc-columns"},n.map((function(n,r){return React.createElement(_.Z,{config:t.config,idea:n,className:"".concat(e.config.display.onMouseOverTileFadeOthers&&t.state.highLightIdeaId&&t.state.highLightIdeaId!=n.id?" osc-opacity-65":""),key:"osc-idea-tile-".concat(n.id)})}))))}}]),n}(f.Z),v=n(6156),g=n(3349),b=n(7234),y=n(7530);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var w=function(e){(0,l.Z)(n,e);var t=E(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e,{display:{}})).doNextPendingResetAction=r.doNextPendingResetAction.bind((0,g.Z)(r)),r.state={pendingResetActions:[]},r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.ideasSearchOnchangeListener=function(e){n.doNextPendingResetAction()},document.addEventListener("osc-ideas-search-onchange",n.ideasSearchOnchangeListener),n.ideasFilterOnchangeListener=function(e){n.hideMobileActiveSelector(),n.doNextPendingResetAction()},document.addEventListener("osc-ideas-filter-onchange",n.ideasFilterOnchangeListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-ideas-search-onchange",this.ideasSearchOnchangeListener),document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener)}},{key:"toggleMobileActiveSelector",value:function(e){this.state.mobileActiveSelector!=e?this.showMobileActiveSelector(e):this.hideMobileActiveSelector()}},{key:"showMobileActiveSelector",value:function(e){this.setState({mobileActiveSelector:e})}},{key:"hideMobileActiveSelector",value:function(){this.setState({mobileActiveSelector:null})}},{key:"resetAll",value:function(){var e=this;e.search&&e.state.pendingResetActions.push(e.search.setSearch),e.filters&&e.filters.forEach((function(t){e.state.pendingResetActions.push(t.setFilter)}));var t=new window.CustomEvent("osc-ideas-filter-reset-all",{detail:{}});document.dispatchEvent(t),e.doNextPendingResetAction()}},{key:"doNextPendingResetAction",value:function(){var e=this.state.pendingResetActions.shift();e&&e({value:""})}},{key:"render",value:function(){var e=this;if(!(void 0!==e.props.showFilterbar?e.props.showFilterbar:e.config.display.showFilterbar))return null;var t=null;e.config.search&&(t=React.createElement("div",{className:"osc-ideas-search-container"},React.createElement("div",{className:"osc-ideas-search-button",onClick:function(){return e.toggleMobileActiveSelector("search")}}),React.createElement(y.Z,{config:e.config.search,className:"".concat("search"==e.state.mobileActiveSelector?" osc-is-active":""),ref:function(t){return e.search=t}})));var n;n=React.createElement("button",{value:"reset",onClick:function(){return e.resetAll()},className:"osc-button osc-reset-button"},"Alles tonen");var r=null;if(e.config.filter&&e.config.filter.length){var i=e.filters&&e.filters.find((function(e){return e.state.currentValue}));e.filters=[],r=React.createElement("div",{className:"osc-ideas-filters-and-button-container"},React.createElement("div",{className:"osc-ideas-filter-button".concat(i?" osc-active":""),onClick:function(){return e.toggleMobileActiveSelector("filters")}}),React.createElement("div",{className:"osc-ideas-filters-container".concat("filters"==e.state.mobileActiveSelector?" osc-is-active":"")},e.config.filter.map((function(t,n){return React.createElement(b.Z,{config:t,className:"osc-align-right-container",key:"osc-ideas-filter-".concat(n),ref:function(t){return e.filters[n]=t}})}))),n)}var o;return o=React.createElement("div",{className:"osc-ideas-filters-and-reset-button-container"},r),React.createElement("div",{className:"osc-ideas-filterbar ".concat(e.props.className||"")},t,o)}}]),n}(f.Z);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var k=function(e){(0,l.Z)(n,e);var t=O(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e,{label:null,sortOptions:[{value:"createdtime,desc",label:"Nieuwste eerst"},{value:"createdtime,asc",label:"Oudste eerst"},{value:"title",label:"Titel"},{value:"random",label:"Willekeurig"},{value:"likes,desc",label:"Meeste likes"},{value:"likes,asc",label:"Minste likes"},{value:"args,desc",label:"Meeste reacties"},{value:"args,asc",label:"Minste reacties"},{value:"ranking,asc",label:"Ranglijst"}],defaultValue:"createdtime,desc",showSort:!0,center:{latitude:52.37104644463586,longitude:4.900402911007405}})).state={currentValue:r.config.defaultValue},r}return(0,c.Z)(n,[{key:"doSort",value:function(e){var t=e.ideas,n=e.sortOrder,r=e.center;return n=n||this.state.currentValue,r=r||this.config.center,p.ZP.ideasSort({ideas:t,sortOrder:n,center:r})}},{key:"setSortOrder",value:function(e){var t=e.sortOrder,n=this.props.ideas||[];n=this.doSort({ideas:n,sortOrder:t}),this.setState({ideas:n,currentValue:t},(function(){var e=new window.CustomEvent("osc-ideas-sort-onchange",{detail:n});document.dispatchEvent(e)}))}},{key:"render",value:function(){var e=this;e.props.ideas;if(!(e.config.sortOptions&&e.config.sortOptions.length&&(void 0!==e.props.showSort?e.props.showSort:e.config.showSort)))return null;var t=null;return e.config.label&&(t=React.createElement("div",{className:"osc-sort-label"},e.config.label,":")),React.createElement("div",{className:"osc-ideas-sort ".concat(e.props.className||"")},t,React.createElement("select",{defaultValue:e.state.currentValue,onChange:function(){return e.setSortOrder({sortOrder:e.sortSelector.value})},className:"osc-default-select",ref:function(t){return e.sortSelector=t}},e.config.sortOptions.map((function(e,t){return React.createElement("option",{value:e.value,key:"sort-option-"+t},e.label)}))))}}]),n}(f.Z);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var M=function(e){(0,l.Z)(n,e);var t=P(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e,{siteId:null,title:"Inzendingen",display:{showFilterbar:!0},idea:{titleField:"title",summaryField:"summary"},sort:{showSort:!0,defaultValue:"createdtime,desc"},filter:[],types:[],typeLabel:"Thema"})).state={ideas:r.props.ideas||[],filters:{},search:null},r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.ideasFilterOnchangeListener=function(e){n.updateFilter(e.detail)},document.addEventListener("osc-ideas-filter-onchange",n.ideasFilterOnchangeListener),n.ideasSearchOnchangeListener=function(e){n.updateSearch(e.detail)},document.addEventListener("osc-ideas-search-onchange",n.ideasSearchOnchangeListener),n.ideasSortOnchangeListener=function(e){n.updateSort(e.detail)},document.addEventListener("osc-ideas-sort-onchange",n.ideasSortOnchangeListener),void 0===n.props.ideas&&n.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener),document.removeEventListener("osc-ideas-search-onchange",this.ideasSearchOnchangeListener),document.removeEventListener("osc-ideas-sort-onchange",this.ideasSortOnchangeListener)}},{key:"fetchData",value:function(){var e=this,t="".concat(e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea?summary=1&includeVoteCount=1&includeArgsCount=1"),n=p.ZP.api.getHeaders(e.config);fetch(t,{headers:n}).then((function(e){if(!e.ok)throw Error("Error fechting detail");return e.json()})).then((function(t){var n=t;n=e.sorter.doSort({ideas:n}),e.setState({ideas:n},(function(){}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}},{key:"updateFilter",value:function(e){var t=I({},this.state.filters);e.value?t[e.fieldName]={value:e.value,doFilter:e.doFilter}:delete t[e.fieldName],this.setState({filters:t})}},{key:"updateSearch",value:function(e){e=e.value?{value:e.value,doSearch:e.doSearch}:null,this.setState({search:e})}},{key:"updateSort",value:function(e){this.setState({ideas:e})}},{key:"render",value:function(){var e=this,t=void 0!==e.props.ideas?e.props.ideas:e.state.ideas||[],n=t;Object.keys(e.state.filters).forEach((function(t){var r=e.state.filters[t];n=r.doFilter(n)})),e.state.search&&(n=e.state.search.doSearch(n)),this.props.maxLength&&(n=t.slice(0,this.props.maxLength));var r=React.createElement("h3",{className:"osc-title"},e.config.title," (",n.length,")");return React.createElement("div",{id:e.id,className:"osc-ideas-overview ".concat(e.props.className||"")},React.createElement(w,{config:e.config,showFilterbar:e.props.showFilterbar,className:"osc-ideas-filterbar"}),React.createElement(k,{config:I({},e.config.sort),ideas:t,showSort:!e.props.hideSortButton,className:"osc-align-right-container",ref:function(t){return e.sorter=t}}),r,React.createElement(m,{config:e.config,ideas:n,className:""}))}}]),n}(f.Z);M.renderElement=function(e,t){var n=e.attributes;a().render(i().createElement(M,{attributes:n,config:t}),e)}},4315:(e,t,n)=>{"use strict";n.d(t,{IdeaImage:()=>b});n(7147);var r=n(3804),i=n.n(r),o=n(7196),a=n.n(o),s=(n(5784),n(484)),c=n(4699),l=n(6610),u=n(5991),d=n(379),f=n(6070),p=n(7608),_=n(1965),h=n.n(_);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var v=function(e){(0,d.Z)(n,e);var t=m(n);function n(e){var r;(0,l.Z)(this,n);return(r=t.call(this,e)).config=h().recursive({image:{server:{},aspectRatio:"16x9",allowMultipleImages:!1}},r.config,r.props.config||{}),r.state={currentImageIndex:0,width:0},r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this.mainElement&&this.mainElement.parentNode;e&&this.setState({width:e.offsetWidth})}},{key:"setCurrentImageIndex",value:function(e){this.setState({currentImageIndex:e})}},{key:"getImagesFromProps",value:function(){var e=this.props.images||[];this.props.image||e[this.state.currentImageIndex];return[this.props.image,e]}},{key:"getImageSrc",value:function(e){var t,n,r,i=this.getWidthHeight(),o=(0,c.Z)(i,2);if(n=o[0],r=o[1],n&&r&&(t=e,"object"==(0,s.Z)(e)&&e.src&&(t=e.src),t||(t=this.config.image.placeholderImageSrc),t&&this.config.image.server.srcExtension&&t.match(this.config.image.server.fetch))){var a=this.config.image.server.srcExtension;t+=a=a.replace(/\[\[width\]\]/g,n).replace(/\[\[height\]\]/g,r)}return t}},{key:"getAspectRatioFactor",value:function(){if(this.props.width&&this.props.height)return this.props.width/this.props.height;var e=this.config.image.aspectRatio.match(/(\d+)x(\d+)/);return e?e[1]/e[2]:16/9}},{key:"getWidthHeight",value:function(){var e=this.mainElement&&this.mainElement.parentNode,t=this.props.width||this.state.width||e&&e.offsetWidth;return[t,this.props.height||t*(1/this.getAspectRatioFactor())||void 0]}},{key:"render",value:function(){var e,t,n,r,o=this,a=this,s=a.getImagesFromProps(),l=(0,c.Z)(s,2);t=l[0],e=l[1];var u=a.getWidthHeight(),d=(0,c.Z)(u,2);if(n=d[0],r=d[1],a.config.image.allowMultipleImages&&e.length>1){var f=a.getImageSrc(t);return i().createElement("div",{id:a.divId,className:"osc-multiple-images ".concat(a.props.className||""),ref:function(e){return o.mainElement=e}},i().createElement("div",{className:"osc-image-spacer",style:{width:n,height:r}},i().createElement("div",{className:"osc-image",style:f?{backgroundImage:"url(".concat(f,")")}:{},key:"image-"+a.divId})),i().createElement("div",{className:"osc-multiple-images-thumbs",style:{height:.1*a.state.width}},e.map((function(e,t){var r=.1*n,o=r*a.getAspectRatioFactor(),s=1.05*o*t,c=a.getImageSrc(e);return i().createElement("div",{className:"osc-image-thumb-spacer",key:"osc-image-thumb-".concat(t),style:{left:s,width:o,height:r}},i().createElement("div",{className:"osc-image-thumb",style:c?{backgroundImage:"url(".concat(c,")"),zIndex:10-t}:{},onClick:function(e){return a.setCurrentImageIndex(t)}}))}))))}var p=a.getImageSrc(t);return i().createElement("div",{id:a.divId,className:"osc-image-spacer ".concat(a.props.className||""),style:{width:n,height:r},ref:function(e){return o.mainElement=e}},i().createElement("div",{className:"osc-image",style:p?{backgroundImage:"url(".concat(p,")")}:{},onClick:this.props.onClick,key:"image-"+a.divId}))}}]),n}(n(7961).Z);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var b=function(e){(0,d.Z)(n,e);var t=g(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getImagesFromProps",value:function(){var e=this.props.idea;if(!e)return["",[""]];var t=e.extraData&&e.extraData.images||[];return[e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[this.state.currentImageIndex],t]}}]),n}(v);b.renderElement=function(e,t){var n=e.attributes;a().render(i().createElement(b,{attributes:n,config:t}),e)}},2150:(e,t,n)=>{"use strict";n.d(t,{Gp:()=>_,ZP:()=>m,C7:()=>h});n(7147),n(3804),n(7196),n(6832);var r=n(1965),i=n.n(r),o=n(484),a={get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==(0,o.Z)(t))try{t=JSON.stringify(t)}catch(e){}sessionStorage.setItem(e,t)}},remove:function(e){sessionStorage.removeItem(e)}};const s=a;function c(e){var t,n=window.location.search.match(/(?:\?|&)jwt=([A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*)(?:&|$)/);if(n){t=n[1],s.set("osc-jwt",t);var r=document.location.search.replace("jwt="+t,"");"?"==r&&(r=""),document.location.search=r}return t=s.get("osc-jwt"),e&&e.jwt&&(t=e.jwt,s.set("osc-jwt",t)),t}var l={getHeaders:function(e){var t=i().recursive({"Content-type":"application/json"},e&&e.api&&e.api.headers),n=c();return n&&(t=i().recursive({"X-Authorization":"Bearer "+n},t)),t}};var u={getLoginUrl:function(e){var t="returnTo="+encodeURIComponent(document.location.toString()),n=e.loginUrl||"/oauth/login?{returnTo}";return n=n.replace(/{returnTo}/,t)}};var d={admin:["admin","moderator","editor","member","anonymous","all"],moderator:["moderator","editor","member","anonymous","all"],editor:["editor","member","anonymous","all"],member:["member","anonymous","all"],anonymous:["anonymous","all"],all:["all"],owner:null};var f={getUser:function(e,t){t=t||function(e){console.log("getUser: next not defined."),console.log(e)};var n=e.user||s.get("osc-user");if(n)return t(null,n);var r=c(e);if(!r)return t(null,{});var i="".concat(e.api.url,"/oauth/site/").concat(e.siteId,"/me"),o={"X-Authorization":"Bearer ".concat(r),"Content-Type":"application/json"};fetch(i,{headers:o}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){s.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},getJWT:c,logout:function(e,t){t=t||function(e){console.log("logout: next not defined.")};var n=e.user||s.get("osc-user");if(n)return t(null,n);var r=c(e);if(!r)return t(null,{});var i=e.api.url+"/oauth/site/"+e.siteId+"/me";fetch(i,{headers:{"X-Authorization":"Bearer "+r,"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){s.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},hasRole:function(e,t){var n=e.role;return Object.keys(d).includes(n)||(n="all"),d[n].includes(t)}};var p={get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==(0,o.Z)(t))try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)}},remove:function(e){localStorage.removeItem(e)}};function _(e,t,n){return e&&(e.className||(e.className=""),e.className.match(new RegExp(" ?"+t+"(?: |$)"))||(e.className=n&&n.before?t+" "+e.className:e.className+" "+t)),e}function h(e,t){return e&&e.className&&(e.className=e.className.replace(new RegExp(" ?"+t+"(?: |$)"),"")),e}const m={api:l,auth:u,user:f,ideasSort:function(e){var t=e.ideas,n=e.sortOrder,r=e.center;switch(n=n||"random"){case"title":t=t.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0}));break;case"ranking,asc":t=t.sort((function(e,t){return e.ranking-t.ranking}));break;case"likes,asc":t=t.sort((function(e,t){return e.yes-t.yes}));break;case"likes,desc":t=t.sort((function(e,t){return t.yes-e.yes}));break;case"createdtime,desc":t=t.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}));break;case"createdtime,asc":t=t.sort((function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}));break;case"distance":(r=r||{lat:52.37104644463586,lng:900402911007405}).coordinates&&(r.lat=r.coordinates[0],r.lng=r.coordinates[1]),t=t.map((function(e){return e._distance=Math.sqrt(Math.pow(e.location.coordinates[0]-r.lat,2)+Math.pow(e.location.coordinates[1]-r.lng,2)),e})).sort((function(e,t){return e._distance-t._distance}));break;case"args,desc":t=t.sort((function(e,t){return t.argCount-e.argCount}));break;case"args,asc":t=t.sort((function(e,t){return e.argCount-t.argCount}));break;default:t=t.sort((function(e,t){return Math.random()-.5}))}return t},localStorage:p,sessionStorage:a,reactTemplate:function(e){var t=e.html,n=void 0===t?"":t,r=arguments[0];delete r.html;var i=0;return Object.keys(r).forEach((function(e){var t=new RegExp("^((?:.|\n|\r)*)\\{".concat(e,"\\}((?:.|\n|\r)*)$"),"g").exec(n);t&&(i++,n=React.createElement("span",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:t[1]}}),r[e],React.createElement("span",{dangerouslySetInnerHTML:{__html:t[2]}})))})),0==i&&(n=React.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),n},addToClassname:_,removeFromClassName:h}},3270:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});n(7147),n(1457);var r=n(3804),i=n.n(r),o=n(7196),a=n.n(o),s=(n(5153),n(6156)),c=n(6610),l=n(5991),u=n(379),d=n(6070),f=n(7608);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var h=function(e){(0,u.Z)(n,e);var t=_(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,{})).state={width:300,height:200,title:"Titel",text:"Tekst",buttonAction:function(){return alert("Knop actie")},buttonText:"Knop tekst",cancelText:"Annuleren"},r}return(0,l.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.showModalPopupListener=function(e){n.showModalPopup(e.detail)},document.addEventListener("osc-show-modal-popup",n.showModalPopupListener),document.body.appendChild(this.instance)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-show-modal-popup",this.showModalPopupListener)}},{key:"showModalPopup",value:function(e){var t=this;e.divId&&e.divId!=t.divId||t.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),(function(){t.instance.style.display="block"}))}},{key:"hideModalPopup",value:function(){this.instance.style.display="none"}},{key:"render",value:function(){var e=this,t=e.state.content||null;return t||(t=React.createElement("div",{className:"osc-modal-popup-content"},React.createElement("div",{className:"osc-modal-popup-header"},e.state.title),React.createElement("div",{className:"osc-modal-popup-text"},e.state.text),React.createElement("div",{className:"osc-modal-popup-buttons"},React.createElement("button",{onClick:e.state.buttonAction,className:"osc-button-blue"},e.state.buttonText),React.createElement("button",{onClick:function(){return e.hideModalPopup()},className:"osc-button-white"},"Annuleren")))),React.createElement("div",{id:"osc-modal-popup-container",ref:function(t){return e.instance=t}},React.createElement("div",{id:"osc-modal-popup",style:{top:"calc(50% - ( ".concat(e.state.height2," / 2 )px)"),left:"calc(50% - ( ".concat(e.state.width," / 2 )px)"),width:e.state.width,height:e.state.height}},t,React.createElement("div",{className:"osc-close-button",onClick:function(){return e.hideModalPopup()}})))}}]),n}(n(7961).Z);h.renderElement=function(e,t){var n=e.attributes;a().render(i().createElement(h,{attributes:n,config:t}),e)}},9738:(e,t,n)=>{"use strict";n.d(t,{default:()=>k});n(7147);var r=n(3804),i=n.n(r),o=n(7196),a=n.n(o),s=(n(5123),n(6156)),c=n(6610),l=n(5991),u=n(3349),d=n(379),f=n(6070),p=n(7608),_=n(7961),h=n(2150),m=n(1588);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var y=function(e){(0,d.Z)(n,e);var t=b(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,{user:{},questionMinLength:30,questionMaxLength:500,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,allowChoiceTitles:!0})).state={user:e.user,pollId:e.pollId,poll:e.poll,isBusy:!1},r}return(0,l.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.state.user&&n.state.user.role?n.state.poll||n.fetchData():h.ZP.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},(function(e,t){n.setState({user:t},(function(){n.state.poll||n.fetchData()}))}))}},{key:"fetchData",value:function(e){var t=this;if(!t.state.pollId)return t.setState({poll:{question:"",choices:{1:{},2:{}}}});var n="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/poll/").concat(t.config.pollId,"?withUser=1&withVotes=1"),r=h.ZP.api.getHeaders(t.config);fetch(n,{headers:r}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(n){var r=g({},t.state);r.poll=n,t.setState(r,(function(){if(e)return e()}))})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"validatedResult",value:function(){var e=this,t=e.state.poll,n=e["question-input"],r=n.validate(),i={question:n.state.value,choices:{}};return Object.keys(t.choices).forEach((function(t){var n=e["title-input-".concat(t)],o=e["description-input-".concat(t)];(n&&n.state.value||o.state.value)&&(i.choices[t]={},e.config.allowChoiceTitles&&n.state.value&&(i.choices[t].title=n.state.value,n.validate()||(r=!1)),o.state.value&&(i.choices[t].description=o.state.value,o.validate()||(r=!1)))})),r?Object.keys(i.choices).length<2?null:i:null}},{key:"handleOnChange",value:function(e){var t=g({},this.state.poll);e.choice&&(t.choices[e.choice.id]={title:this.config.allowChoiceTitles&&e.choice.title,description:e.choice.description}),e.question&&(t.question=e.question),this.setState({poll:t},(function(){}))}},{key:"addChoice",value:function(){var e=g({},this.state.poll),t=Object.keys(e.choices).sort(),n=parseInt(t[t.length-1])+1;e.choices[n]={},this.setState({poll:e})}},{key:"canSubmit",value:function(){if(this.state.poll&&this.state.poll.can)return this.state.poll.can.edit;var e=this.config.requiredUserRole,t="moderator";return("anonymous"==e?t:"member"==e&&!0)||"editor"==e&&!0||"moderator"==e&&!0||"admin"==e&&!1}},{key:"submitForm",value:function(){var e=this;e.setState({isBusy:!0},(function(){var t=e.validatedResult();if(t){if(!e.canSubmit())return alert("Je bent niet ingelogd");var n=!0,r="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll"),i="POST";e.state.poll&&e.state.poll.id&&(r+="/".concat(e.state.poll.id),i="PUT",n=!1);var o=h.ZP.api.getHeaders(e.config),a=t;fetch(r,{method:i,headers:o,body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(r){var i=new CustomEvent("osc-new-poll-stored",{detail:r});n||(i=new CustomEvent("osc-poll-edited",{detail:r})),document.dispatchEvent(i),"function"==typeof e.config.onFinished&&e.config.onFinished(t)})).catch((function(t){console.log(t),t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1})}))}else e.setState({isBusy:!1})}))}},{key:"render",value:function(){var e=this,t=this,n=t.state.poll||{},r=null;t.config.formIntro&&(r=React.createElement("div",{className:"osc-intro"},t.config.formIntro));var i=null;if(t.canSubmit())i=React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){t.config.onFinished&&t.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(e){t.state.isBusy||t.submitForm()},className:"osc-button-blue osc-margin-left".concat(t.state.isBusy?" osc-disabled":"")},"Verzenden"));else{var o=h.ZP.auth.getLoginUrl(t.config);i=React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){t.config.onFinished&&t.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(){document.location.href=o},className:"osc-button-blue osc-not-logged-in-button osc-margin-left"},"Inloggen"))}return React.createElement("div",{id:t.divId,className:"osc-form",ref:function(e){return t.instance=e}},r,React.createElement("h4",null,"Vraag"),React.createElement(m.default.InputWithCounter,{config:{inputType:"text",minLength:t.config.questionMinLength,maxLength:t.config.questionMaxLength,placeholder:"Vraag"},value:n.question,onChange:function(e){return t.handleOnChange({question:e.value})},ref:function(e){return t["question-input"]=e}}),React.createElement("h4",null,"Keuzemogelijkheden"),React.createElement("ol",{className:"osc-poll-form-choices"},n&&n.choices&&Object.keys(n.choices).sort().map((function(e){var r=n.choices[e],i=null;return t.config.allowChoiceTitles&&(i=React.createElement(m.default.InputWithCounter,{config:{inputType:"text",minLength:t.config.titleMinLength,maxLength:t.config.titleMaxLength,placeholder:"Titel"},value:r.title,onChange:function(n){return t.handleOnChange({choice:{id:e,title:n.value}})},ref:function(n){return t["title-input-".concat(e)]=n}})),React.createElement("li",{className:"osc-poll-form-choice",key:"osc-key-".concat(e)},i,React.createElement(m.default.InputWithCounter,{config:{inputType:"text",minLength:t.config.descriptionMinLength,maxLength:t.config.descriptionMaxLength,placeholder:"Beschrijving"},value:r.description,onChange:function(n){return t.handleOnChange({choice:{id:e,description:n.value}})},ref:function(n){return t["description-input-".concat(e)]=n}}))}))),React.createElement("a",{className:"osc-add-choice-button",onClick:function(t){return e.addChoice()}},"Nog een keuzemogelijkheid toevoegen"),i)}}]),n}(_.Z);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var k=function(e){(0,d.Z)(n,e);var t=O(n);function n(e){var r;(0,c.Z)(this,n),r=t.call(this,e,{siteId:null,ideaId:null,title:null,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",withPercentage:!0,allowChoiceTitles:!0,allowShowResultsIfNotVoted:!1});var i=(0,u.Z)(r);return i.hideEditForm=i.hideEditForm.bind(i),i.state={user:i.config.user,poll:e.poll,pollId:e.poll&&e.poll.id||i.config.pollId,selectedChoice:null,showResult:!1,showQuestion:!1,editMode:!1,showVoteSucceeded:!1},i.state.poll&&(i.parseVoteCount(i.state.poll),i.state.poll.userVote&&(i.state.selectedChoice=i.state.poll.userVote)),r}return(0,l.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.state.user&&n.state.user.role?!n.state.poll&&n.config.ideaId&&n.fetchData():h.ZP.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},(function(e,t){n.setState({user:t},(function(){!n.state.poll&&n.config.ideaId&&n.fetchData()}))}))}},{key:"fetchData",value:function(e){var t=this;if(!t.state.pollId)return t.setState({editMode:!0},(function(){}));var n="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/poll/").concat(t.state.pollId,"?withUser=1&withUserVote=1&withVoteCount=1&withVotes=1"),r=h.ZP.api.getHeaders(t.config);fetch(n,{headers:r}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(n){var r=w(w({},t.state),{},{showResult:!1,showQuestion:!1});r.poll=n,r.pollId=n.id,t.parseVoteCount(r.poll),r.poll.userVote&&(r.selectedChoice=r.poll.userVote),t.setState(r,(function(){if(e)return e()}))})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"parseVoteCount",value:function(e){e.voteCount&&Object.keys(e.choices).sort().forEach((function(t){var n=e.choices[t];n.votesAbs=e.voteCount[t],n.votesPrc=parseInt(e.voteCount[t]/e.voteCount.total*100),n.votesPrc=n.votesPrc||0}))}},{key:"showEditForm",value:function(){this.setState({editMode:!0})}},{key:"hideEditForm",value:function(){this.setState({editMode:!1},(function(){this.fetchData()}))}},{key:"setShowResult",value:function(){this.setState({showResult:!0})}},{key:"setShowQuestion",value:function(){this.setState({showQuestion:!0})}},{key:"selectChoice",value:function(e){this.setState({selectedChoice:e.choice})}},{key:"onReactionEdited",value:function(e){this.fetchData()}},{key:"isValid",value:function(){return!!this.state.selectedChoice}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.state.user;return h.ZP.user.hasRole(t,e)}},{key:"submitVote",value:function(){var e=this;e.setState({isBusy:!0},(function(){if(e.isValid()){if(!e.canSubmit())return alert("Je bent niet ingelogd");var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll/").concat(e.state.poll.id,"/vote"),n=h.ZP.api.getHeaders(e.config),r={choice:e.state.selectedChoice};fetch(t,{method:"POST",headers:n,body:JSON.stringify(r)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.fetchData((function(){e.setState({isBusy:!1,showVoteSucceeded:!0},(function(){var e=new CustomEvent("osc-poll-voted",{detail:t});document.dispatchEvent(e)}))})),"function"==typeof e.config.onSubmit&&e.config.onSubmit({description:e.state.description})})).catch((function(t){t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1,isValid:!1})}))}else e.setState({isBusy:!1,isValid:!1})}))}},{key:"deletePoll",value:function(){var e=this;e.setState({isBusy:!0},(function(){var t=e.state.poll;if(!(t&&t.can&&t.can.delete))return alert("U kunt deze poll niet verwijderen");if(!t||!t.id)return alert("U kunt deze poll niet verwijderen");var n="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll/").concat(e.state.poll.id),r=h.ZP.api.getHeaders(e.config);fetch(n,{method:"DELETE",headers:r}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(e){var t=new CustomEvent("osc-poll-deleted",{detail:e});document.dispatchEvent(t)})).catch((function(t){console.log(t),t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1})}))}))}},{key:"render",value:function(){var e=this,t=this,n=t.state.poll||{};if(t.state.editMode)return React.createElement("div",{id:this.id,className:t.props.className||"osc-poll",ref:function(t){e.instance=t}},React.createElement(y,{config:w(w({},t.config),{},{onFinished:t.hideEditForm}),pollId:t.state.poll&&t.state.poll.id,poll:t.state.poll,user:t.state.user}));var r=null;if(n&&n.choices&&!n.userVote||t.state.showQuestion){var i={name:"pollChoice",choices:[]};Object.keys(n.choices).sort().map((function(e){var r=t.config.allowChoiceTitles&&n.choices[e].title?"<h4>".concat(n.choices[e].title,"</h4>"):"";r+=n.choices[e].description||"",i.choices.push({dangerousDescription:r,value:e})}));var o=null;if(t.canSubmit())o=React.createElement("button",{onClick:function(e){t.state.isBusy||t.submitVote()},className:"osc-button-blue".concat(t.isValid()?"":" osc-disabled")},"Stemmen");else{var a=h.ZP.auth.getLoginUrl(t.config);o=React.createElement("button",{onClick:function(){h.ZP.localStorage.set("osc-poll-login-pending",!0),document.location.href=a},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen")}var s=null;!t.config.allowShowResultsIfNotVoted||n.userVote||t.state.showResult||(s=React.createElement("a",{className:"osc-show-result-button",onClick:function(t){return e.setShowResult()}},"Resultaat bekijken")),r=React.createElement("div",{className:"osc-poll-question osc-form"},React.createElement(m.default.Radios,{config:i,value:t.state.selectedChoice,onChange:function(e){return t.selectChoice({choice:e.value})},ref:function(e){return t.description=e}}),React.createElement("div",{className:"osc-poll-question-buttons"},o,s))}var c=null;if(n&&(n.userVote||t.state.showResult)){var l=null;t.state.showQuestion||n&&n.choices&&!n.userVote||(l=React.createElement("a",{className:"osc-show-question-button",onClick:function(t){return e.setShowQuestion()}},"Stem aanpassen"));var u=null;if(n.voteCount&&n.voteCount.total){var d=1==n.voteCount.total?"stem":"stemmen";u=React.createElement("div",null,"Totaal ",n.voteCount.total," ",d,React.createElement("br",null),React.createElement("br",null))}c=React.createElement("ul",{className:"osc-choices"},Object.keys(n.choices).sort().map((function(e){var r=n.choices[e],i=null;t.config.allowChoiceTitles&&r.title&&(i=React.createElement("h4",null,r.title));var o=null;r.description&&(o=React.createElement("div",null,r.description));var a=null;t.config.withPercentage&&(a=React.createElement("div",{className:"osc-percentage"},r.votesPrc,"%"));var s=React.createElement("div",{className:"osc-choice-default"},i,o,React.createElement("div",{className:"osc-choice-bar".concat(t.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-mask"}),React.createElement("div",{className:"osc-choice-bar-progress",style:{width:(r.votesPrc||0)+"%"}})),a);return React.createElement("li",{className:"osc-choice",key:"osc-key-".concat(e)},s)})),u,l)}var f=null;t.state.poll&&t.state.poll.can&&t.state.poll.can.edit&&(f=React.createElement("div",{className:"osc-editbuttons"},React.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(e){return t.showEditForm()}},"Bewerk poll"),React.createElement("button",{className:"osc-editbutton osc-delete",onClick:function(e){confirm("Weet u het zeker")&&t.deletePoll()}},"Verwijder poll")));var p=null;return t.state.showVoteSucceeded&&(p=React.createElement("div",{className:"osc-vote-succeeded"},"Uw stem is opgeslagen")),React.createElement("div",{id:this.id,className:t.props.className||"osc-poll",ref:function(t){e.instance=t}},f,p,React.createElement("h4",null,n.question),r,c,React.createElement("br",null),React.createElement("br",null))}}]),n}(_.Z);k.renderElement=function(e,t){var n=e.attributes;a().render(i().createElement(k,{attributes:n,config:t}),e)}},1662:(e,t,n)=>{"use strict";n.d(t,{default:()=>L});n(7147);var r=n(3804),i=n.n(r),o=n(7196),a=n.n(o),s=(n(8694),n(6156)),c=n(6610),l=n(5991),u=n(3349),d=n(379),f=n(6070),p=n(7608),_=n(7961),h=n(2150),m=n(1588);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var g=function(e){(0,d.Z)(n,e);var t=v(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,{argumentId:null,api:{url:null,headers:null},user:{},descriptionMinLength:30,descriptionMaxLength:500,requiredUserRole:"member",formIntro:"",placeholder:""})).state={description:r.config.description||"",isValid:!1,isBusy:!1},r}return(0,l.Z)(n,[{key:"handleOnChange",value:function(e){(e=e||{}).description&&(e.isValid=this.description.isValid()),this.setState(e)}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.props.user||{};return h.ZP.user.hasRole(t,e)}},{key:"submitForm",value:function(){var e=this;e.setState({isBusy:!0},(function(){if(e.description.validate({showWarning:!0})){if(!e.canSubmit())return alert("Je bent niet ingelogd");var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/argument").concat(e.config.argumentId?"/".concat(e.config.argumentId):""),n=h.ZP.api.getHeaders(e.config),r=e.config.argumentId?"PUT":"POST",i={parentId:e.config.parentId,sentiment:e.config.sentiment,description:e.state.description};fetch(t,{method:r,headers:n,body:JSON.stringify(i)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){"function"==typeof e.config.onSubmit&&e.config.onSubmit({description:e.state.description}),e.setState({description:"",isBusy:!1,isValid:!1},(function(){if(e.description.handleOnChange({value:""}),e.config.argumentId){var n=new CustomEvent("osc-reaction-edited",{detail:t});document.dispatchEvent(n)}else{var r=new CustomEvent("osc-new-reaction-stored",{detail:t});document.dispatchEvent(r)}}))})).catch((function(t){t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1,isValid:!1})}))}else e.setState({isBusy:!1,isValid:!1})}))}},{key:"render",value:function(){var e=this,t={descriptionMinLength:e.config.descriptionMinLength||30,descriptionMaxLength:e.config.descriptionMaxLength||500},n=null;e.config.formIntro&&(n=React.createElement("div",{className:"osc-intro"},e.config.formIntro));var r=null,i=null;if(e.canSubmit())r=React.createElement(m.default.InputWithCounter,{config:{inputType:"textarea",minLength:t.descriptionMinLength,maxLength:t.descriptionMaxLength,placeholder:e.config.placeholder},value:e.state.description,onChange:function(t){return e.handleOnChange({description:t.value})},ref:function(t){return e.description=t}}),i=React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(t){e.state.isBusy||e.submitForm()},className:"osc-button-blue".concat(!e.state.isValid||e.state.isBusy?" osc-disabled":"")},"Verzenden"));else{r=React.createElement("div",{style:{position:"relative"}},React.createElement(m.default.InputWithCounter,{disabled:!0,config:{inputType:"textarea",minLength:t.descriptionMinLength,maxLength:t.descriptionMaxLength,placeholder:e.config.placeholder},value:e.state.description,ref:function(t){return e.description=t}}),React.createElement("div",{onClick:function(){return e.config.showNotLoggedInPopup()},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}));var o=h.ZP.auth.getLoginUrl(e.config);i=React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(){h.ZP.localStorage.set("osc-login-pending-scroll-to-reactions",!0),h.ZP.localStorage.set("osc-login-pending-show-details",e.config.ideaId),document.location.href=o},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"))}return React.createElement("div",{id:e.divId,className:""},n,r,i)}}]),n}(_.Z);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var w=function(e){(0,d.Z)(n,e);var t=E(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,{siteId:null,ideaId:null,title:null,descriptionMinLength:30,descriptionMaxLength:500,api:{url:null,headers:null},requiredUserRole:"member",userNameFields:["displayName"]})).state={user:e.user,isMenuActive:!1,isReplyFromActive:!1,editMode:!1},r}return(0,l.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.newReactionStoredListener=function(e){n.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",n.newReactionStoredListener),n.reactionEditedListener=function(e){n.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",n.reactionEditedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener)}},{key:"showMenu",value:function(){this.setState({isMenuActive:!0})}},{key:"toggleReplyForm",value:function(){this.setState({isReplyFromActive:!this.state.isReplyFromActive})}},{key:"toggleEditForm",value:function(e){this.setState({editMode:!this.state.editMode})}},{key:"getUserName",value:function(e){var t=this.config.userNameFields;return Array.isArray(t)&&(t={or:[t]}),t.or.map((function(t){return Array.isArray(t)?t.map((function(t){return e[t]})).join(" "):e[t]})).find((function(e){return!!e}))}},{key:"canEdit",value:function(){return!this.config.isClosed&&this.props.data.can.edit}},{key:"canDelete",value:function(){return!this.config.isClosed&&this.props.data.can.delete}},{key:"canLike",value:function(){if(this.config.isClosed)return!1;var e=this.config.requiredUserRole,t=this.props.user&&this.props.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"editor"==t||"moderator"==t||"admin"==t)||"editor"==e&&("editor"==t||"moderator"==t||"admin"==t)||"moderator"==e&&("moderator"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"canReply",value:function(){return this.props.data.can.reply}},{key:"userIsModerator",value:function(){return h.ZP.user.hasRole(this.config.user,"moderator")}},{key:"submitDelete",value:function(){var e=this;if(!e.canDelete())return alert("U kunt deze reactie niet verwijderen");var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/argument/").concat(e.props.data.id),n=h.ZP.api.getHeaders(e.config);fetch(t,{method:"DELETE",headers:n,body:JSON.stringify({})}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.setState({isDeleted:!0});var n=new CustomEvent("osc-reaction-deleted",{detail:{ideaId:e.config.ideaId}});document.dispatchEvent(n)})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"submitLike",value:function(){var e=this;if(!e.canLike())return e.config.showNotLoggedInPopup();var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/argument/").concat(e.props.data.id,"/vote"),n=h.ZP.api.getHeaders(e.config);fetch(t,{method:"POST",headers:n,body:JSON.stringify({})}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.setState({yes:t.yes,hasUserVoted:t.hasUserVoted})})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"onNewReactionStored",value:function(e){this.setState({isMenuActive:!1,isReplyFromActive:!1})}},{key:"onReactionEdited",value:function(e){e.id==this.props.data.id&&this.setState({editMode:!1,isMenuActive:!1})}},{key:"render",value:function(){var e=this,t=e.props.data||{can:{}};if(t.isDeleted)return null;var r=e.getUserName(t.user),i=h.ZP.user.hasRole(t.user,"editor")?"osc-is-admin":"",o=React.createElement("div",{className:"osc-reaction-user ".concat(i)},r),a=null;e.canEdit()&&e.canDelete()&&(a=React.createElement("div",{className:"osc-reaction-menu".concat(e.state.isMenuActive?" osc-reaction-hamburger-active":""),onClick:function(){e.showMenu()}},React.createElement("a",{className:"osc-reaction-delete",title:"Argument verwijderen",onClick:function(){confirm("Weet u het zeker?")&&e.submitDelete()}}),React.createElement("a",{className:"osc-reaction-edit",title:"Argument bewerken",onClick:function(){return e.toggleEditForm()}})));var s=React.createElement("div",{className:"osc-reaction-description",dangerouslySetInnerHTML:{__html:t.description}});e.state.editMode&&(s=React.createElement("div",{className:"osc-reaction-description"},React.createElement(g,{config:y(y({},e.config),{},{description:t.description,argumentId:t.id}),user:e.state.user,ref:function(t){return e.editForm=t}})));var c=null;t.parentId||e.config.isVotingEnabled&&(c=!e.config.isClosed||e.userIsModerator()?React.createElement("a",{className:"osc-reaction-like-button".concat((void 0!==e.state.hasUserVoted?e.state.hasUserVoted:t.hasUserVoted)?" osc-reaction-like-button-hasvoted":""),onClick:function(){return e.submitLike()}},"Mee eens (",React.createElement("span",null,0|(void 0!==e.state.yes?e.state.yes:t.yes)),")"):React.createElement("div",{className:"osc-reaction-like-button".concat((void 0!==e.state.hasUserVoted?e.state.hasUserVoted:t.hasUserVoted)?" osc-reaction-like-button-hasvoted":"")},"Mee eens (",React.createElement("span",null,0|(void 0!==e.state.yes?e.state.yes:t.yes)),")"));var l=null,u=null;if(e.config.isReplyingEnabled&&e.canReply()&&(!e.config.isClosed||e.userIsModerator())&&(l=React.createElement("a",{onClick:function(){return e.toggleReplyForm()},className:"osc-reply-button"},"Reageren"),e.state.isReplyFromActive)){var d=y(y({},e.config),{},{parentId:t.id});d.formIntro="",u=React.createElement("div",{id:"osc-reaction-".concat(t.id),className:"osc-reply"},React.createElement(g,{config:d,user:e.state.user,ref:function(t){return e.editForm=t}}))}var f=null;return t.reactions&&t.reactions.length&&(f=React.createElement("ul",{className:"osc-reactions-list"},t.reactions.map((function(t){var r="osc-reaction-key-".concat(t.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:r},React.createElement(n,{config:e.config,className:"osc-reply",user:e.state.user,data:t}))})))),React.createElement("div",null,React.createElement("div",{id:"osc-reaction-".concat(t.id),className:e.props.className||"osc-reaction"},a,o,React.createElement("div",{className:"osc-reaction-date"},t.createDateHumanized),s,c,l),u,f)}}]),n}(_.Z),O=n(3270);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var R=function(e){(0,d.Z)(n,e);var t=k(n);function n(e){return(0,c.Z)(this,n),t.call(this,e,{loginUrl:""})}return(0,l.Z)(n,[{key:"showPopup",value:function(){var e=this,t=h.ZP.auth.getLoginUrl(e.config),n=new window.CustomEvent("osc-show-modal-popup",{detail:{divId:e.divId,title:"Login om verder te gaan",text:"Login om een argument te plaatsen, te reageren of een argument te liken",buttonAction:function(){h.ZP.localStorage.set("osc-login-pending-scroll-to-reactions",!0),h.ZP.localStorage.set("osc-login-pending-show-details",e.config.ideaId),document.location.href=t},buttonText:"Inloggen"}});document.dispatchEvent(n)}},{key:"render",value:function(){return React.createElement(O.default,{id:this.divId,ref:function(e){return self.modalPopup=e}})}}]),n}(_.Z);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var L=function(e){(0,d.Z)(n,e);var t=M(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,{scrollToNewReaction:!0,isClosed:!1,sentiment:void 0,siteId:null,ideaId:null,title:null,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",placeholder:"",formIntro:"",emptyListText:"Nog geen argumenten",isReplyingEnabled:!0,isVotingEnabled:!0})).showNotLoggedInPopup=r.showNotLoggedInPopup.bind((0,u.Z)(r)),r.state={user:r.config.user,reactions:null},r}return(0,l.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.state.user&&n.state.user.role?n.fetchData():h.ZP.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},(function(e,t){n.setState({user:t},(function(){n.fetchData()}))})),n.newReactionStoredListener=function(e){n.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",n.newReactionStoredListener),n.reactionEditedListener=function(e){n.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",n.reactionEditedListener),n.reactionDeletedListener=function(e){n.onReactionDeleted(e.detail)},document.addEventListener("osc-reaction-deleted",n.reactionDeletedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener)}},{key:"fetchData",value:function(e){var t=this,n="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/argument?sentiment=").concat(t.config.sentiment,"&withUser=1&withUserVote=1&withVoteCount=1&includeReactionsOnReactions=1"),r=h.ZP.api.getHeaders(t.config);fetch(n,{headers:r}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(n){var r=P({},t.state);r.reactions=n,r.reactions.sort((function(e,t){return e.createdAt<t.createdAt})),t.setState(r,(function(){if(e)return e()}))})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"onNewReactionStored",value:function(e){var t=this;this.fetchData((function(){t.config.scrollToNewReaction&&(document.getElementById("osc-reaction-".concat(e.id))&&document.getElementById("osc-reaction-".concat(e.id)).scrollIntoView())}))}},{key:"onReactionEdited",value:function(e){this.fetchData()}},{key:"onReactionDeleted",value:function(e){this.fetchData()}},{key:"userIsModerator",value:function(){return h.ZP.user.hasRole(this.config.user,"moderator")}},{key:"showNotLoggedInPopup",value:function(){this.notLoggedInPopup.showPopup()}},{key:"render",value:function(){var e=this,t=this,n=null;Array.isArray(t.state.reactions)&&(n=t.state.reactions.length>0?React.createElement("ul",{className:"osc-reactions-list"},t.state.reactions.map((function(e){var n="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:n},React.createElement(w,{config:P(P({},t.config),{},{showNotLoggedInPopup:t.showNotLoggedInPopup}),user:t.state.user,data:P({},e)}))}))):React.createElement("div",{className:"osc-empty-list-text"},t.config.emptyListText));var r=t.config.title?React.createElement("h3",null,t.config.title):null,i=React.createElement(g,{config:P(P({},t.config),{},{showNotLoggedInPopup:t.showNotLoggedInPopup}),user:t.state.user});return t.config.isClosed&&!t.userIsModerator()&&(i=t.config.closedText?React.createElement("div",{className:"osc-closed-text"},t.config.closedText):null),React.createElement("div",{id:this.id,className:t.props.className||"osc-reactions",ref:function(t){e.instance=t}},React.createElement(R,{config:t.config,ref:function(e){return t.notLoggedInPopup=e}}),r,i,n,React.createElement("br",null),React.createElement("br",null))}}]),n}(_.Z);L.renderElement=function(e,t){var n=e.attributes;a().render(i().createElement(L,{attributes:n,config:t}),e)}},1457:(e,t,n)=>{n(4553);var r=n(2649);e.exports=r("Array","findIndex")},3462:(e,t,n)=>{n(6699);var r=n(2649);e.exports=r("Array","includes")},9116:(e,t,n)=>{n(9601);var r=n(857);e.exports=r.Object.assign},3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},1223:(e,t,n)=>{var r=n(5112),i=n(30),o=n(3070),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},9670:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},1318:(e,t,n)=>{var r=n(5656),i=n(7466),o=n(1400),a=function(e){return function(t,n,a){var s,c=r(t),l=i(c.length),u=o(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},2092:(e,t,n)=>{var r=n(9974),i=n(8361),o=n(7908),a=n(7466),s=n(5417),c=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,d=6==e,f=5==e||d;return function(p,_,h,m){for(var v,g,b=o(p),y=i(b),E=r(_,h,3),w=a(y.length),O=0,k=m||s,R=t?k(p,w):n?k(p,0):void 0;w>O;O++)if((f||O in y)&&(g=E(v=y[O],O,b),e))if(t)R[O]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return O;case 2:c.call(R,v)}else if(u)return!1;return d?-1:l||u?u:R}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},9207:(e,t,n)=>{var r=n(9781),i=n(7293),o=n(6656),a=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var n=[][e],l=!!o(t,"ACCESSORS")&&t.ACCESSORS,u=o(t,0)?t[0]:c,d=o(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(l&&!r)return!0;var e={length:-1};l?a(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,u,d)}))}},5417:(e,t,n)=>{var r=n(111),i=n(3157),o=n(5112)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9920:(e,t,n)=>{var r=n(6656),i=n(3887),o=n(1236),a=n(3070);e.exports=function(e,t){for(var n=i(t),s=a.f,c=o.f,l=0;l<n.length;l++){var u=n[l];r(e,u)||s(e,u,c(t,u))}}},8880:(e,t,n)=>{var r=n(9781),i=n(3070),o=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},2649:(e,t,n)=>{var r=n(7854),i=n(9974),o=Function.call;e.exports=function(e,t,n){return i(o,r[e].prototype[t],n)}},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var r=n(7854),i=n(1236).f,o=n(8880),a=n(1320),s=n(3505),c=n(9920),l=n(4705);e.exports=function(e,t){var n,u,d,f,p,_=e.target,h=e.global,m=e.stat;if(n=h?r:m?r[_]||s(_,{}):(r[_]||{}).prototype)for(u in t){if(f=t[u],d=e.noTargetGet?(p=i(n,u))&&p.value:n[u],!l(h?u:_+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(n,u,f,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9974:(e,t,n)=>{var r=n(3099);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},5005:(e,t,n)=>{var r=n(857),i=n(7854),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||Function("return this")()},6656:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},3501:e=>{e.exports={}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),i=n(7293),o=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(7293),i=n(4326),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},2788:(e,t,n)=>{var r=n(5465),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},9909:(e,t,n)=>{var r,i,o,a=n(8536),s=n(7854),c=n(111),l=n(8880),u=n(6656),d=n(6200),f=n(3501),p=s.WeakMap;if(a){var _=new p,h=_.get,m=_.has,v=_.set;r=function(e,t){return v.call(_,e,t),t},i=function(e){return h.call(_,e)||{}},o=function(e){return m.call(_,e)}}else{var g=d("state");f[g]=!0,r=function(e,t){return l(e,g,t),t},i=function(e){return u(e,g)?e[g]:{}},o=function(e){return u(e,g)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},3157:(e,t,n)=>{var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4705:(e,t,n)=>{var r=n(7293),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==l||n!=c&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},133:(e,t,n)=>{var r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},8536:(e,t,n)=>{var r=n(7854),i=n(2788),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},1574:(e,t,n)=>{"use strict";var r=n(9781),i=n(7293),o=n(1956),a=n(5181),s=n(5296),c=n(7908),l=n(8361),u=Object.assign,d=Object.defineProperty;e.exports=!u||i((function(){if(r&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||o(u({},t)).join("")!=i}))?function(e,t){for(var n=c(e),i=arguments.length,u=1,d=a.f,f=s.f;i>u;)for(var p,_=l(arguments[u++]),h=d?o(_).concat(d(_)):o(_),m=h.length,v=0;m>v;)p=h[v++],r&&!f.call(_,p)||(n[p]=_[p]);return n}:u},30:(e,t,n)=>{var r,i=n(9670),o=n(6048),a=n(748),s=n(3501),c=n(490),l=n(317),u=n(6200),d=u("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"</"+"script>"},_=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;_=r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete _.prototype[a[n]];return _()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=i(e),n=new f,f.prototype=null,n[d]=e):n=_(),void 0===t?n:o(n,t)}},6048:(e,t,n)=>{var r=n(9781),i=n(3070),o=n(9670),a=n(1956);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),s=r.length,c=0;s>c;)i.f(e,n=r[c++],t[n]);return e}},3070:(e,t,n)=>{var r=n(9781),i=n(4664),o=n(9670),a=n(7593),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),i=n(5296),o=n(9114),a=n(5656),s=n(7593),c=n(6656),l=n(4664),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=a(e),t=s(t,!0),l)try{return u(e,t)}catch(e){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},8006:(e,t,n)=>{var r=n(6324),i=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},6324:(e,t,n)=>{var r=n(6656),i=n(5656),o=n(1318).indexOf,a=n(3501);e.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)!r(a,n)&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(l,n)||l.push(n));return l}},1956:(e,t,n)=>{var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},3887:(e,t,n)=>{var r=n(5005),i=n(8006),o=n(5181),a=n(9670);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},857:(e,t,n)=>{var r=n(7854);e.exports=r},1320:(e,t,n)=>{var r=n(7854),i=n(8880),o=n(6656),a=n(3505),s=n(2788),c=n(9909),l=c.get,u=c.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),u(n).source=d.join("string"==typeof t?t:"")),e!==r?(c?!f&&e[t]&&(l=!0):delete e[t],l?e[t]=n:i(e,t,n)):l?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:(e,t,n)=>{var r=n(7854),i=n(8880);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},6200:(e,t,n)=>{var r=n(2309),i=n(9711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:(e,t,n)=>{var r=n(7854),i=n(3505),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},2309:(e,t,n)=>{var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},1400:(e,t,n)=>{var r=n(9958),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5656:(e,t,n)=>{var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9958:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:(e,t,n)=>{var r=n(9958),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(4488);e.exports=function(e){return Object(r(e))}},7593:(e,t,n)=>{var r=n(111);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},9711:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(e,t,n)=>{var r=n(7854),i=n(2309),o=n(6656),a=n(9711),s=n(133),c=n(3307),l=i("wks"),u=r.Symbol,d=c?u:u&&u.withoutSetter||a;e.exports=function(e){return o(l,e)||(s&&o(u,e)?l[e]=u[e]:l[e]=d("Symbol."+e)),l[e]}},4553:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).findIndex,o=n(1223),a=n(9207),s="findIndex",c=!0,l=a(s);s in[]&&Array(1).findIndex((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!l},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},6699:(e,t,n)=>{"use strict";var r=n(2109),i=n(1318).includes,o=n(1223);r({target:"Array",proto:!0,forced:!n(9207)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},9601:(e,t,n)=>{var r=n(2109),i=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},7810:()=>{!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,r;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},7301:(e,t,n)=>{e.exports=n(2702).Promise},2702:function(e,t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,a=void 0,s=function(e,t){y[i]=e,y[i+1]=t,2===(i+=2)&&(a?a(E):O())};function c(e){a=e}function l(e){s=e}var u="undefined"!=typeof window?window:void 0,d=u||{},f=d.MutationObserver||d.WebKitMutationObserver,p="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),_="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){return function(){return process.nextTick(E)}}function m(){return function(){o(E)}}function v(){var e=0,t=new f(E),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function g(){var e=new MessageChannel;return e.port1.onmessage=E,function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(E,1)}}var y=new Array(1e3);function E(){for(var e=0;e<i;e+=2)(0,y[e])(y[e+1]),y[e]=void 0,y[e+1]=void 0;i=0}function w(){try{var e=n(4327);return o=e.runOnLoop||e.runOnContext,m()}catch(e){return b()}}var O=void 0;function k(e,t){var n=arguments,r=this,i=new this.constructor(P);void 0===i[I]&&Y(i);var o,a=r._state;return a?(o=n[a-1],s((function(){return J(a,i,o,r._result)}))):K(r,i,e,t),i}function R(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(P);return B(n,e),n}O=p?h():f?v():_?g():void 0===u?w():b();var I=Math.random().toString(36).substring(16);function P(){}var M=void 0,L=1,D=2,C=new q;function S(){return new TypeError("You cannot resolve a promise with itself")}function T(){return new TypeError("A promises callback cannot return that same promise.")}function x(e){try{return e.then}catch(e){return C.error=e,C}}function A(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function N(e,t,n){s((function(e){var r=!1,i=A(n,t,(function(n){r||(r=!0,t!==n?B(e,n):W(e,n))}),(function(t){r||(r=!0,F(e,t))}),"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,F(e,i))}),e)}function j(e,t){t._state===L?W(e,t._result):t._state===D?F(e,t._result):K(t,void 0,(function(t){return B(e,t)}),(function(t){return F(e,t)}))}function Z(e,n,r){n.constructor===e.constructor&&r===k&&n.constructor.resolve===R?j(e,n):r===C?F(e,C.error):void 0===r?W(e,n):t(r)?N(e,n,r):W(e,n)}function B(t,n){t===n?F(t,S()):e(n)?Z(t,n,x(n)):W(t,n)}function U(e){e._onerror&&e._onerror(e._result),H(e)}function W(e,t){e._state===M&&(e._result=t,e._state=L,0!==e._subscribers.length&&s(H,e))}function F(e,t){e._state===M&&(e._state=D,e._result=t,s(U,e))}function K(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+L]=n,i[o+D]=r,0===o&&e._state&&s(H,e)}function H(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?J(n,r,i,o):i(o);e._subscribers.length=0}}function q(){this.error=null}var V=new q;function z(e,t){try{return e(t)}catch(e){return V.error=e,V}}function J(e,n,r,i){var o=t(r),a=void 0,s=void 0,c=void 0,l=void 0;if(o){if((a=z(r,i))===V?(l=!0,s=a.error,a=null):c=!0,n===a)return void F(n,T())}else a=i,c=!0;n._state!==M||(o&&c?B(n,a):l?F(n,s):e===L?W(n,a):e===D&&F(n,a))}function $(e,t){try{t((function(t){B(e,t)}),(function(t){F(e,t)}))}catch(t){F(e,t)}}var G=0;function X(){return G++}function Y(e){e[I]=G++,e._state=void 0,e._result=void 0,e._subscribers=[]}function Q(e,t){this._instanceConstructor=e,this.promise=new e(P),this.promise[I]||Y(this.promise),r(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?W(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&W(this.promise,this._result))):F(this.promise,ee())}function ee(){return new Error("Array Methods must be provided an Array")}function te(e){return new Q(this,e).promise}function ne(e){var t=this;return r(e)?new t((function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function re(e){var t=new this(P);return F(t,e),t}function ie(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function oe(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ae(e){this[I]=X(),this._result=this._state=void 0,this._subscribers=[],P!==e&&("function"!=typeof e&&ie(),this instanceof ae?$(this,e):oe())}function se(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=ae}return Q.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===M&&n<e;n++)this._eachEntry(t[n],n)},Q.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===R){var i=x(e);if(i===k&&e._state!==M)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===ae){var o=new n(P);Z(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},Q.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===M&&(this._remaining--,e===D?F(r,n):this._result[t]=n),0===this._remaining&&W(r,this._result)},Q.prototype._willSettleAt=function(e,t){var n=this;K(e,void 0,(function(e){return n._settledAt(L,t,e)}),(function(e){return n._settledAt(D,t,e)}))},ae.all=te,ae.race=ne,ae.resolve=R,ae.reject=re,ae._setScheduler=c,ae._setAsap=l,ae._asap=s,ae.prototype={constructor:ae,then:k,catch:function(e){return this.then(null,e)}},se(),ae.polyfill=se,ae.Promise=ae,ae}()},1965:(e,t)=>{"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(void 0,e)}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(!0===e[0],!1,e)}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(!0===e[0],!0,e)}function o(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;++n)t.push(o(e[n]));return t}if(a(e)){t={};for(var n in e)t[n]=o(e[n]);return t}return e}function a(e){return e&&"object"==typeof e&&!Array.isArray(e)}function s(e,t){if(!a(e))return t;for(var n in t)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=a(e[n])&&a(t[n])?s(e[n],t[n]):t[n]);return e}function c(e,t,n){var r;!e&&a(r=n.shift())||(r={});for(var i=0;i<n.length;++i){var c=n[i];if(a(c))for(var l in c)if("__proto__"!==l&&"constructor"!==l&&"prototype"!==l){var u=e?o(c[l]):c[l];r[l]=t?s(r[l],u):u}}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=t.clone=t.recursive=t.merge=t.main=void 0,e.exports=t=n,t.default=n,t.main=n,n.clone=o,n.isPlainObject=a,n.recursive=i,t.merge=r,t.recursive=i,t.clone=o,t.isPlainObject=a},4393:()=>{},8409:()=>{},3591:()=>{},6014:()=>{},5784:()=>{},6832:()=>{},5153:()=>{},5123:()=>{},8694:()=>{},9359:(e,t,n)=>{"use strict";var r,i=n(3804),o=(r=i)&&"object"==typeof r&&"default"in r?r.default:r,a=new(n(3451)),s=a.getBrowser(),c=(a.getCPU(),a.getDevice()),l=a.getEngine(),u=a.getOS(),d=a.getUA(),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},p=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},_=function(e){var t=p();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O="mobile",k="tablet",R="smarttv",I="console",P="wearable",M=void 0,L="Chrome",D="Firefox",C="Opera",S="Yandex",T="Safari",x="Internet Explorer",A="Edge",N="Chromium",j="IE",Z="Mobile Safari",B="MIUI Browser",U="iOS",W="Android",F="Windows Phone",K="Windows",H="Mac OS",q={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},V=function(e,t,n,r){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vendor:f(t.vendor),model:f(t.model),os:f(n.name),osVersion:f(n.version),ua:f(r)})},z=function(e){switch(e){case O:return{isMobile:!0};case k:return{isTablet:!0};case R:return{isSmartTV:!0};case I:return{isConsole:!0};case P:return{isWearable:!0};case M:return{isBrowser:!0};default:return q}}(c.type);var J,$=function(){return"string"==typeof d&&-1!==d.indexOf("Edg/")},G=function(){return s.name===A},X=function(){return _("iPad")},Y=c.type===R,Q=c.type===I,ee=c.type===P,te=s.name===Z||X(),ne=s.name===N,re=function(){switch(c.type){case O:case k:return!0;default:return!1}}()||X(),ie=c.type===O,oe=c.type===k||X(),ae=c.type===M,se=u.name===W,ce=u.name===F,le=u.name===U||X(),ue=s.name===L,de=s.name===D,fe=s.name===T||s.name===Z,pe=s.name===C,_e=s.name===x||s.name===j,he=f(u.version),me=f(u.name),ve=f(s.version),ge=f(s.major),be=f(s.name),ye=f(c.vendor),Ee=f(c.model),we=f(l.name),Oe=f(l.version),ke=f(d),Re=G()||$(),Ie=s.name===S,Pe=f(c.type,"browser"),Me=(J=p())&&(/iPad|iPhone|iPod/.test(J.platform)||"MacIntel"===J.platform&&J.maxTouchPoints>1)&&!window.MSStream,Le=X(),De=_("iPhone"),Ce=_("iPod"),Se=function(){var e=p(),t=e&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)}(),Te=$(),xe=G()&&!$(),Ae=u.name===K,Ne=u.name===H,je=s.name===B;t.tq=re},3451:function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",c="object",l="string",u="model",d="name",f="type",p="vendor",_="version",h="architecture",m="console",v="mobile",g="tablet",b="smarttv",y="wearable",E="embedded",w={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===l&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===l?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===s?e:e.substring(0,255)}},O={rgx:function(e,t){for(var n,r,i,s,l,u,d=0;d<t.length&&!l;){var f=t[d],p=t[d+1];for(n=r=0;n<f.length&&!l;)if(l=f[n++].exec(e))for(i=0;i<p.length;i++)u=l[++r],typeof(s=p[i])===c&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):o:this[s[0]]=u?s[1].call(this,u,s[2]):o:4==s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):o):this[s]=u||o;d+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(w.has(t[n][r],e))return"?"===n?o:n}else if(w.has(t[n],e))return"?"===n?o:n;return e}},k={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},R={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[_,[d,"Chrome"]],[/(?:edge|edgios|edga|edg)\/([\w\.]+)/i],[_,[d,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[d,_],[/opios[\/\s]+([\w\.]+)/i],[_,[d,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[_,[d,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,_],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[_,[d,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[_,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[_,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[_,[d,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[_,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[_,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],_],[/focus\/([\w\.]+)/i],[_,[d,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[_,[d,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[_,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[_,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[_,[d,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[_,[d,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[_,[d,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],_],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],_],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[d,_],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[d],[/;fbav\/([\w\.]+);/i],[_,[d,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[d,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[d,_],[/\bgsa\/([\w\.]+)\s.*safari\//i],[_,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[_,[d,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],_],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[_,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[d,_],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[_,[d,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[_,d],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[_,O.str,k.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[d,_],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],_],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[_,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,_]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[h,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,w.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[u,[p,"Samsung"],[f,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[u,[p,"Samsung"],[f,v]],[/\((ip(?:hone|od)[\s\w]*);/i],[u,[p,"Apple"],[f,v]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[p,"Apple"],[f,g]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[u,[p,"Huawei"],[f,g]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[u,[p,"Huawei"],[f,v]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[u,/_/g," "],[p,"Xiaomi"],[f,v]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[u,/_/g," "],[p,"Xiaomi"],[f,g]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[u,[p,"OPPO"],[f,v]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[u,[p,"Vivo"],[f,v]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[u,[p,"Realme"],[f,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[u,[p,"Motorola"],[f,v]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[p,"Motorola"],[f,g]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[u,[p,"LG"],[f,g]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[u,[p,"LG"],[f,v]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[u,[p,"Lenovo"],[f,g]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[u,/_/g," "],[p,"Nokia"],[f,v]],[/droid.+;\s(pixel\sc)[\s)]/i],[u,[p,"Google"],[f,g]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[u,[p,"Google"],[f,v]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[p,"Sony"],[f,v]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[u,"Xperia Tablet"],[p,"Sony"],[f,g]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[u,[p,"OnePlus"],[f,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[u,[p,"Amazon"],[f,g]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[u,"Fire Phone"],[p,"Amazon"],[f,v]],[/\((playbook);[\w\s\),;-]+(rim)/i],[u,p,[f,g]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[u,[p,"BlackBerry"],[f,v]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[u,[p,"ASUS"],[f,g]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[u,[p,"ASUS"],[f,v]],[/(nexus\s9)/i],[u,[p,"HTC"],[f,g]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[p,[u,/_/g," "],[f,v]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[u,[p,"Acer"],[f,g]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[u,[p,"Meizu"],[f,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[p,u,[f,v]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[p,u,[f,g]],[/\s(surface\sduo)\s/i],[u,[p,"Microsoft"],[f,g]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[u,[p,"Fairphone"],[f,v]],[/\s(u304aa)\sbuild/i],[u,[p,"AT&T"],[f,v]],[/sie-(\w*)/i],[u,[p,"Siemens"],[f,v]],[/[;\/]\s?(rct\w+)\sbuild/i],[u,[p,"RCA"],[f,g]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[u,[p,"Dell"],[f,g]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[u,[p,"Verizon"],[f,g]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[u,[p,"Barnes & Noble"],[f,g]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[u,[p,"NuVision"],[f,g]],[/;\s(k88)\sbuild/i],[u,[p,"ZTE"],[f,g]],[/;\s(nx\d{3}j)\sbuild/i],[u,[p,"ZTE"],[f,v]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[u,[p,"Swiss"],[f,v]],[/[;\/]\s?(zur\d{3})\sbuild/i],[u,[p,"Swiss"],[f,g]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[u,[p,"Zeki"],[f,g]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[p,"Dragon Touch"],u,[f,g]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[u,[p,"Insignia"],[f,g]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[u,[p,"NextBook"],[f,g]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[p,"Voice"],u,[f,v]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[p,"LvTel"],u,[f,v]],[/;\s(ph-1)\s/i],[u,[p,"Essential"],[f,v]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[u,[p,"Envizen"],[f,g]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[u,[p,"MachSpeed"],[f,g]],[/[;\/]\s?tu_(1491)\sbuild/i],[u,[p,"Rotor"],[f,g]],[/(shield[\w\s]+)\sbuild/i],[u,[p,"Nvidia"],[f,g]],[/(sprint)\s(\w+)/i],[p,u,[f,v]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[p,"Microsoft"],[f,v]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[p,"Zebra"],[f,g]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[p,"Zebra"],[f,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[p,u,[f,m]],[/droid.+;\s(shield)\sbuild/i],[u,[p,"Nvidia"],[f,m]],[/(playstation\s[345portablevi]+)/i],[u,[p,"Sony"],[f,m]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[u,[p,"Microsoft"],[f,m]],[/smart-tv.+(samsung)/i],[p,[f,b]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[p,"Samsung"],[f,b]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[p,"LG"],[f,b]],[/(apple)\s?tv/i],[p,[u,"Apple TV"],[f,b]],[/crkey/i],[[u,"Chromecast"],[p,"Google"],[f,b]],[/droid.+aft([\w])(\sbuild\/|\))/i],[u,[p,"Amazon"],[f,b]],[/\(dtv[\);].+(aquos)/i],[u,[p,"Sharp"],[f,b]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[p,w.trim],[u,w.trim],[f,b]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[f,b]],[/((pebble))app\/[\d\.]+\s/i],[p,u,[f,y]],[/droid.+;\s(glass)\s\d/i],[u,[p,"Google"],[f,y]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[u,[p,"Zebra"],[f,y]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[p,[f,E]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[u,[f,v]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[u,[f,g]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[f,w.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[u,[p,"Generic"]],[/(phone)/i],[[f,v]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[_,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[_,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,_],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[_,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,_],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[d,[_,O.str,k.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[_,O.str,k.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[_,/_/g,"."],[d,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[d,"Mac OS"],[_,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[d,_],[/\(bb(10);/i],[_,[d,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[_,[d,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[_,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[_,[d,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],_],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[d,_],[/(sunos)\s?([\w\.\d]*)/i],[[d,"Solaris"],_],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[d,_]]},I=function(e,t){if("object"==typeof e&&(t=e,e=o),!(this instanceof I))return new I(e,t).getResult();var n=e||(void 0!==i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?w.extend(R,t):R;return this.getBrowser=function(){var e={name:o,version:o};return O.rgx.call(e,n,r.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:o};return O.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return O.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:o,version:o};return O.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:o,version:o};return O.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>255?w.trim(e,255):e,this},this.setUA(n),this};I.VERSION="0.7.28",I.BROWSER={NAME:d,MAJOR:"major",VERSION:_},I.CPU={ARCHITECTURE:h},I.DEVICE={MODEL:u,VENDOR:p,TYPE:f,CONSOLE:m,MOBILE:v,SMARTTV:b,TABLET:g,WEARABLE:y,EMBEDDED:E},I.ENGINE={NAME:d,VERSION:_},I.OS={NAME:d,VERSION:_},typeof t!==s?(e.exports&&(t=e.exports=I),t.UAParser=I):(r=function(){return I}.call(t,n,t,e))===o||(e.exports=r);var P=void 0!==i&&(i.jQuery||i.Zepto);if(P&&!P.ua){var M=new I;P.ua=M.getResult(),P.ua.get=function(){return M.getUA()},P.ua.set=function(e){M.setUA(e);var t=M.getResult();for(var n in t)P.ua[n]=t[n]}}}("object"==typeof window?window:this)},7147:(e,t,n)=>{"use strict";var r=n(7301),i="URLSearchParams"in self,o="Symbol"in self&&"iterator"in Symbol,a="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in self,c="ArrayBuffer"in self;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function _(e){this.map={},e instanceof _?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return r.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new r((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return r.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return r.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||r.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n,i=h(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=m(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return r.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return r.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}_.prototype.append=function(e,t){e=d(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},_.prototype.delete=function(e){delete this.map[d(e)]},_.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},_.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},_.prototype.set=function(e,t){this.map[d(e)]=f(t)},_.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},_.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},_.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},_.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},o&&(_.prototype[Symbol.iterator]=_.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(e,t){var n,r,i=(t=t||{}).body;if(e instanceof E){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new _(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new _(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function O(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new _(t.headers),this.url=t.url||"",this._initBody(e)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},b.call(E.prototype),b.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];O.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})};var R=self.DOMException;try{new R}catch(e){(R=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),R.prototype.constructor=R}function I(e,t){return new r((function(n,r){var i=new E(e,t);if(i.signal&&i.signal.aborted)return r(new R("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var e,t,r={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new _,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;n(new O(i,r))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.onabort=function(){r(new R("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&a&&(o.responseType="blob"),i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",s)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}I.polyfill=!0,self.fetch||(self.fetch=I,self.Headers=_,self.Request=E,self.Response=O)},3804:e=>{"use strict";e.exports=window.React},7196:e=>{"use strict";e.exports=window.ReactDOM},4327:()=>{}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>e+".js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="OpenStadComponents.[name]:",__webpack_require__.l=(e,t,n,r)=>{if(inProgress[e])inProgress[e].push(t);else{var i,o;if(void 0!==n)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var c=a[s];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==dataWebpackPrefix+n){i=c;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",dataWebpackPrefix+n),i.src=e),inProgress[e]=[t];var l=(t,n)=>{i.onerror=i.onload=null,clearTimeout(u);var r=inProgress[e];if(delete inProgress[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(n))),t)return t(n)},u=setTimeout(l.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=l.bind(null,i.onerror),i.onload=l.bind(null,i.onload),o&&document.head.appendChild(i)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})();var installedCssChunks={747:0,790:0,792:0,415:0,940:0,665:0,239:0,226:0};__webpack_require__.f.compat=(e,t)=>{installedCssChunks[e]?t.push(installedCssChunks[e]):0!==installedCssChunks[e]&&{89:1}[e]&&t.push(installedCssChunks[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+".css",i=__webpack_require__.p+r,o=document.getElementsByTagName("link"),a=0;a<o.length;a++){var s=(l=o[a]).getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(s===r||s===i))return t()}var c=document.getElementsByTagName("style");for(a=0;a<c.length;a++){var l;if((s=(l=c[a]).getAttribute("data-href"))===r||s===i)return t()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=t,u.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete installedCssChunks[e],u.parentNode.removeChild(u),n(o)},u.href=i,document.getElementsByTagName("head")[0].appendChild(u)})).then((function(){installedCssChunks[e]=0})))},(()=>{var e={747:0,790:0,792:0,415:0,940:0,665:0,239:0,226:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(o,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[o,a,s]=n,c=0;for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);if(s)s(__webpack_require__);for(t&&t(n);c<o.length;c++)i=o[c],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[o[c]]=0},n=self.webpackChunkOpenStadComponents_name_=self.webpackChunkOpenStadComponents_name_||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>i.Z,IdeasOnMap:()=>i.Z});__webpack_require__(7147),__webpack_require__(7810),__webpack_require__(9116);var e=__webpack_require__(3804),t=__webpack_require__.n(e),n=__webpack_require__(7196),r=__webpack_require__.n(n),i=(__webpack_require__(3591),__webpack_require__(1583));i.Z.renderElement=function(e,n){var o=e.attributes;r().render(t().createElement(i.Z,{attributes:o,config:n}),e)}})(),(window.OpenStadComponents=window.OpenStadComponents||{})["ideas-on-map"]=__webpack_exports__})();
//# sourceMappingURL=ideas-on-map.js.map