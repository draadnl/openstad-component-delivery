(self.webpackChunkOpenStadComponents_name_=self.webpackChunkOpenStadComponents_name_||[]).push([[89],{5651:(e,t,_)=>{"use strict";_.d(t,{R2:()=>u,sP:()=>p});var r=_(6610),n=_(5991),a=_(379),o=_(6070),i=_(7608),s=_(7961),c=_(5888);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var _,r=(0,i.Z)(e);if(t){var n=(0,i.Z)(this).constructor;_=Reflect.construct(r,arguments,n)}else _=r.apply(this,arguments);return(0,o.Z)(this,_)}}function u(e){var t=L.polygon(e).getBounds().getCenter(),_=0,r=0;e.forEach((function(e,n){var a=Math.sin(e.lng-t.lng)*Math.cos(e.lat),o=Math.cos(t.lat)*Math.sin(e.lat)-Math.sin(t.lat)*Math.cos(e.lat)*Math.cos(e.lng-t.lng),i=180*Math.atan2(a,o)/Math.PI;45-i<_&&(_=45-i,r=n)}));var n=e.slice(0,r),a=e.slice(r,e.length);e=a.concat(n);return[[{lat:-85,lng:-179.99},{lat:-85,lng:0},{lat:-85,lng:179.99},{lat:0,lng:179.99},{lat:85,lng:179.99},{lat:85,lng:0},{lat:85,lng:-179.99},{lat:85,lng:-179.99},{lat:0,lng:-179.99}].map((function(e){return[e.lat,e.lng]})),e.map((function(e){return[e.lat,e.lng]}))]}var p=function(e){(0,a.Z)(_,e);var t=l(_);function _(e,n){return(0,r.Z)(this,_),t.call(this,e,n,{area:null,polygonStyle:{color:"#d00",fillColor:"#000",fillOpacity:.15}})}return(0,n.Z)(_,[{key:"isPointInArea",value:function(e){var t=this,_=t.props.area&&t.props.area[1]&&Array.isArray(t.props.area[1])?t.props.area[1]:t.props.area;if(!e)return!1;if(!_)return!0;for(var r=e.lat,n=e.lng,a=!1,o=0,i=_.length-1;o<_.length;i=o++){var s=_[o][0],c=_[o][1],l=_[i][0],u=_[i][1];c>n!=u>n&&r<(l-s)*(n-c)/(u-c)+s&&(a=!a)}return a}},{key:"render",value:function(){return React.createElement(c.m,{positions:this.props.area,pathOptions:this.config.polygonStyle})}}]),_}(s.Z)},5655:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>OpenStadComponentMap});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6156),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2122),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2137),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7608),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),merge__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1965),merge__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_5__),_component_index_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7961),react_leaflet__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(795),react_leaflet__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(3167),react_leaflet__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1372),_tile_layer_jsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3613),_marker_jsx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6716),_marker_cluster_group_jsx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2577),_area_jsx__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5651),_lib_search_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3695),_css_default_less__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4870),_css_default_less__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_css_default_less__WEBPACK_IMPORTED_MODULE_11__),leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5896),leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_12__),react_leaflet_markercluster_dist_styles_min_css__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8444),react_leaflet_markercluster_dist_styles_min_css__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_leaflet_markercluster_dist_styles_min_css__WEBPACK_IMPORTED_MODULE_13__);function ownKeys(e,t){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),_.push.apply(_,r)}return _}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var _=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(_),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(e,t,_[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(_,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var _,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.Z)(e);if(t){var n=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.Z)(this).constructor;_=Reflect.construct(r,arguments,n)}else _=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.Z)(this,_)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var OpenStadComponentMap=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_14__.Z)(OpenStadComponentMap,_OpenStadComponent);var _super=_createSuper(OpenStadComponentMap),_unsetArea,_setArea,_componentDidMount;function OpenStadComponentMap(e,t){var _;(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_15__.Z)(this,OpenStadComponentMap),_=_super.call(this,e,{search:!1,center:{lat:52.37104644463586,lng:4.900402911007405},zoom:14,zoomposition:"bottomleft",disableDefaultUI:!0,area:null,autoZoomAndCenter:!1,scrollWheelZoom:!0,clustering:{isActive:!0}},t);var r=(0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16__.Z)(_);return r.config.target=r.divId,(r.config.polygon||"polygon"==r.config.autoZoomAndCenter)&&console.log("DEPRECATED: use 'area' instead of 'polygon'"),r.config.polygon&&!r.config.area&&(r.config.area=r.config.polygon),"polygon"==r.config.autoZoomAndCenter&&(r.config.autoZoomAndCenter="area"),r.config.center.lat=e.config&&e.config.center&&e.config.center.latitude||r.config.center.lat,r.config.center.lng=e.config&&e.config.center&&e.config.center.longitude||r.config.center.lng,r.searchAddressByLatLng=_lib_search_js__WEBPACK_IMPORTED_MODULE_17__.db.bind(r),r.suggestAddresses=_lib_search_js__WEBPACK_IMPORTED_MODULE_17__.GN.bind(r),r.LookupLatLngByAddressId=_lib_search_js__WEBPACK_IMPORTED_MODULE_17__.h9.bind(r),r.onMapClick=r.onMapClick.bind(r),r.state={markers:[]},_}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_18__.Z)(OpenStadComponentMap,[{key:"componentDidMount",value:(_componentDidMount=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark((function e(){var t,_,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.setArea(t.config.area);case 3:t.config.markers&&t.config.markers.length&&this.addMarkers(t.config.markers),t.config.autoZoomAndCenter&&(_="area"==t.config.autoZoomAndCenter&&t.config.area||t.state.markers&&t.state.markers.length&&t.state.markers||t.config.area,t.editorMarker&&(_=t.editorMarker.position?[t.editorMarker]:t.config.area),_&&t.setBoundsAndCenter(_)),t.mapIsReady=!0,r=new CustomEvent("osc-map-is-ready",{detail:{id:t.divId}}),window.dispatchEvent(r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return _componentDidMount.apply(this,arguments)})},{key:"addMarkers",value:function(e){var t=this;e.forEach((function(e){t.addMarker(e)}))}},{key:"addMarker",value:function addMarker(markerData){var markers=this.state.markers;if(markerData.iconCreateFunction=markerData.iconCreateFunction||this.config.iconCreateFunction,!markerData.icon&&this.config.categorize){var category=markerData.data&&eval("markerData.data.".concat(this.config.categorize.categorizeByField)),icon=this.config.categorize.categories[category]&&this.config.categorize.categories[category].icon;icon&&(markerData.icon=icon)}return!markerData.icon&&this.config.defaultIcon&&(markerData.icon=this.config.defaultIcon),markerData.onClick=markerData.onClick?[markerData.onClick,this.onMarkerClick]:[this.onMarkerClick],markerData.visible=!0,this.config.clustering&&this.config.clustering.isActive&&!markerData.doNotCluster&&(markerData.isClustered=!0),markers.push(markerData),this.setState({markers}),markerData}},{key:"removeMarker",value:function(e){if(e){var t=this.state.markers,_=t.indexOf(e);_>-1&&t.splice(_,1),this.setState({markers:t})}}},{key:"updateMarker",value:function(e,t){if(e){var _=this.state.markers,r=_.indexOf(e);if(-1!=r){var n=t.lat||e.lat,a=t.lng||e.lng;n&&a&&(_[r].lat=n,_[r].lng=a),void 0!==t.isFaded&&(_[r].isFaded=t.isFaded),this.setState({markers:_})}}}},{key:"getMarkers",value:function(){return this.state.markers}},{key:"setMarkers",value:function(e){return this.setState({markers:e})}},{key:"setArea",value:(_setArea=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark((function e(t){var _;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return _=(0,_area_jsx__WEBPACK_IMPORTED_MODULE_10__.R2)(t),e.next=4,this.setState({area:_});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return _setArea.apply(this,arguments)})},{key:"unsetArea",value:(_unsetArea=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark((function e(t){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({area:null});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return _unsetArea.apply(this,arguments)})},{key:"setBoundsAndCenter",value:function(e){var t=this;if(Array.isArray(e)&&0!=e.length){var _=[];if(e.forEach((function(e){e._latlng?e=e._latlng:e.position&&(e=e.position.coordinates?{lat:e.position.coordinates[0],lng:e.position.coordinates[1]}:e.position),_.push(e)})),1==_.length)t.map.panTo(new L.LatLng(_[0].lat,_[0].lng));else{var r=L.latLngBounds(_);t.map.fitBounds(r)}}else t.map.panTo(new L.LatLng(t.config.center.lat,t.config.center.lng))}},{key:"showMarkers",value:function(e){var t=this;e.forEach((function(e){t.showMarker(e)}))}},{key:"showMarker",value:function(e){if(e){var t=this.state.markers,_=t.indexOf(e);_>-1&&(t[_].visible=!0),this.setState({markers:t})}}},{key:"hideMarkers",value:function(e){var t=this;e.forEach((function(e){t.hideMarker(e)}))}},{key:"hideMarker",value:function(e){if(e){var t=this.state.markers,_=t.indexOf(e);_>-1&&(t[_].visible=!1),this.setState({markers:t})}}},{key:"setFilter",value:function(e){this.filterFunction=e,this.applyFilter()}},{key:"applyFilter",value:function(){var e=this;e.filterFunction?e.state.markers.forEach((function(t){e.filterFunction(t)?e.showMarker(t):e.hideMarker(t)})):e.state.markers.forEach((function(t){e.showMarker(t)}))}},{key:"isPointInArea",value:function(e){return!this.area||this.area.isPointInArea(e)}},{key:"onMapClick",value:function(e){e.isPointInArea=this.isPointInArea(e.latlng);var t=new CustomEvent("osc-map-click",{detail:e});document.dispatchEvent(t)}},{key:"onMarkerClick",value:function(e){var t=new CustomEvent("osc-map-marker-click",{detail:e});document.dispatchEvent(t)}},{key:"onMapClusterAnimationEnd",value:function(e){}},{key:"render",value:function render(){var self=this,areaHTML=null;self.state.area&&(areaHTML=React.createElement(_area_jsx__WEBPACK_IMPORTED_MODULE_10__.sP,{config:self.config,area:self.state.area,ref:function(e){return self.area=e}}));var clusterMarkers=[],layers=self.props.layers||[];return React.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_19__.h,{id:self.divId,className:self.props.className||"osc-map",center:[self.config.center.lat,self.config.center.lng],zoom:self.config.zoom,scrollWheelZoom:self.config.scrollWheelZoom},React.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_20__.d,null,(function(map){return self.map||(self.map=map,map.on("click",(function(event){var onClick=self.config.onClick||[];Array.isArray(onClick)||(onClick=[onClick]),onClick.push(self.onMapClick),onClick.map((function(func){"string"==typeof func&&(onClick=eval(func)),func(event)}))}))),null})),React.createElement(_tile_layer_jsx__WEBPACK_IMPORTED_MODULE_7__.Z,{variant:self.config.variant,minZoom:self.config.minZoom,maxZoom:self.config.maxZoom,mapTiles:self.config.mapTiles}),self.state.markers.map((function(e,t){if(!e.isClustered)return React.createElement(_marker_jsx__WEBPACK_IMPORTED_MODULE_8__.Z,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_21__.Z)({},e,{key:"marker-".concat(t)}));clusterMarkers.push(e)})),layers.map((function(e,t){return React.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_22__.e,{className:"layergroup-".concat(t),key:"layergroup-".concat(t)},e)})),React.createElement(_marker_cluster_group_jsx__WEBPACK_IMPORTED_MODULE_9__.Z,{config:_objectSpread(_objectSpread({},self.config.clustering),{},{categorize:self.config.categorize}),markers:clusterMarkers}),areaHTML)}}]),OpenStadComponentMap}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_6__.Z)},2577:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>OpenStadComponentMapMarkerCluster});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2122),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3804),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7961),react_leaflet_markercluster__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6342),_marker_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6716),_lib_amaps_cluster_icon_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7988);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var _,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var n=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;_=Reflect.construct(r,arguments,n)}else _=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,_)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var OpenStadComponentMapMarkerCluster=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__.Z)(OpenStadComponentMapMarkerCluster,_OpenStadComponent);var _super=_createSuper(OpenStadComponentMapMarkerCluster);function OpenStadComponentMapMarkerCluster(e,t){var _;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__.Z)(this,OpenStadComponentMapMarkerCluster),(_=_super.call(this,e,t,{isActive:!0,maxClusterRadius:40,showCoverageOnHover:!1,categorize:{categorizeByField:"xxx",categories:{}}})).iconCreateFunction=_.iconCreateFunction.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__.Z)(_)),_}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__.Z)(OpenStadComponentMapMarkerCluster,[{key:"componentDidMount",value:function(){}},{key:"iconCreateFunction",value:function iconCreateFunction(cluster){var iconCreateFunction=this.config.iconCreateFunction||_lib_amaps_cluster_icon_js__WEBPACK_IMPORTED_MODULE_10__.Z;return iconCreateFunction&&"string"==typeof iconCreateFunction&&(iconCreateFunction=eval(iconCreateFunction)),iconCreateFunction=iconCreateFunction.bind(this),iconCreateFunction(cluster,this.props.markers)}},{key:"onClusterClick",value:function onClusterClick(event){var func=this.config.onClusterClick;func&&("string"==typeof func&&(func=eval(func)),func(event));var customEvent=new CustomEvent("osc-map-cluster-click",{event});document.dispatchEvent(customEvent)}},{key:"onClusterAnimationEnd",value:function onClusterAnimationEnd(event){var func=this.config.onClusterAnimationEnd;func&&("string"==typeof func&&(func=eval(func)),func(event));var customEvent=new CustomEvent("osc-map-cluster-animation-end",{event});document.dispatchEvent(customEvent)}},{key:"render",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(react_leaflet_markercluster__WEBPACK_IMPORTED_MODULE_4__.Z,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_11__.Z)({},this.config,{iconCreateFunction:e.iconCreateFunction,onClick:function(t){return e.onClusterClick(t)},onAnimationEnd:function(t){return e.onClusterAnimationEnd(t)}}),this.props.markers.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_marker_jsx__WEBPACK_IMPORTED_MODULE_5__.Z,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_11__.Z)({},e,{key:"marker-".concat(t)}))})))}}]),OpenStadComponentMapMarkerCluster}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__.Z)},6716:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>OpenStadComponentMapMarker});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2122),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5991),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7608),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3804),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),react_leaflet__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7409),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2150);function ownKeys(e,t){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),_.push.apply(_,r)}return _}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var _=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(_),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,_[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(_,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var _,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if(t){var n=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(this).constructor;_=Reflect.construct(r,arguments,n)}else _=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.Z)(this,_)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var OpenStadComponentMapMarker=function(_React$Component){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__.Z)(OpenStadComponentMapMarker,_React$Component);var _super=_createSuper(OpenStadComponentMapMarker);function OpenStadComponentMapMarker(){return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__.Z)(this,OpenStadComponentMapMarker),_super.apply(this,arguments)}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__.Z)(OpenStadComponentMapMarker,[{key:"render",value:function render(){var _this=this,markerprops=_objectSpread({},this.props),position=this.props.position;this.props.lat&&(position=[this.props.lat,this.props.lng]),delete markerprops.icon;var icon=this.props.icon;if(!icon){var iconCreateFunction=this.props.iconCreateFunction;iconCreateFunction&&"string"==typeof iconCreateFunction&&(iconCreateFunction=eval(iconCreateFunction)),iconCreateFunction&&"function"==typeof iconCreateFunction&&(icon=iconCreateFunction())}if(icon){try{icon=JSON.parse(icon)}catch(e){}!icon.iconSize&&icon.width&&icon.height&&(icon.iconSize=[icon.width,icon.height]),!icon.iconAnchor&&icon.anchor&&(icon.iconAnchor=icon.anchor),(0,_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.Gp)(icon,"osc-map-marker",{before:!0}),markerprops.isFaded?(0,_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.Gp)(icon,"osc-map-marker-faded"):(0,_libs_index_jsx__WEBPACK_IMPORTED_MODULE_4__.C7)(icon,"osc-map-marker-faded"),icon.iconUrl&&(markerprops.icon=new L.Icon(icon)),icon.html&&(markerprops.icon=new L.divIcon(icon))}for(var eventHandlers={},_loop=function _loop(){var eventname=_arr[_i],EventName="on"+eventname.charAt(0).toUpperCase()+eventname.slice(1);eventname=eventname.toLowerCase();var onEvent=markerprops[EventName]||[];Array.isArray(onEvent)||(onEvent=[onEvent]),"onClick"==EventName&&_this.props.href&&onEvent.push((function(){document.location.href=markerprops.href})),onEvent.length&&(eventHandlers[eventname]=function(e){onEvent.map((function(func){return"string"==typeof func?eval(func)(e):func(e)}))})},_i=0,_arr=["click","mouseDown","mouseUp","dragStart","dragEnd"];_i<_arr.length;_i++)_loop();var draggable=eventHandlers.dragstart||eventHandlers.dragend;return this.props.visible?react__WEBPACK_IMPORTED_MODULE_3___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_8__.J,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_9__.Z)({position},markerprops,{eventHandlers:_objectSpread({},eventHandlers),draggable:!!draggable})):null}}]),OpenStadComponentMapMarker}(react__WEBPACK_IMPORTED_MODULE_3___default().Component)},3613:(e,t,_)=>{"use strict";_.d(t,{Z:()=>u});var r=_(6610),n=_(5991),a=_(379),o=_(6070),i=_(7608),s=_(7961),c=_(4284);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var _,r=(0,i.Z)(e);if(t){var n=(0,i.Z)(this).constructor;_=Reflect.construct(r,arguments,n)}else _=r.apply(this,arguments);return(0,o.Z)(this,_)}}var u=function(e){(0,a.Z)(_,e);var t=l(_);function _(){return(0,r.Z)(this,_),t.apply(this,arguments)}return(0,n.Z)(_,[{key:"render",value:function(){switch(this.props.variant){case"n9r":return React.createElement(c.I,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",minZoom:void 0!==this.props.minZoom?this.props.minZoom:0,maxZoom:void 0!==this.props.maxZoom?this.props.maxZoom:19,subdomains:"abcd"});case"amaps":return React.createElement(c.I,{url:"https://t{s}.data.amsterdam.nl/topo_wm/{z}/{x}/{y}.png",subdomains:"1234",minZoom:void 0!==this.props.minZoom?this.props.minZoom:11,maxZoom:void 0!==this.props.maxZoom?this.props.maxZoom:21});case"openstreetmaps":return React.createElement(c.I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:void 0!==this.props.minZoom?this.props.minZoom:0,maxZoom:void 0!==this.props.maxZoom?this.props.maxZoom:19,subdomains:"abc",attribution:"<a href='https://www.openstreetmap.org/copyright'>© OpenStreetMap contributors</a>"});case"custom":return React.createElement(c.I,{url:this.props.mapTiles&&this.props.mapTiles.url||"https://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/standaard/EPSG:3857/{z}/{x}/{y}.png",minZoom:void 0!==this.props.minZoom?this.props.minZoom:0,maxZoom:void 0!==this.props.maxZoom?this.props.maxZoom:19,subdomains:this.props.mapTiles&&this.props.mapTiles.subdomains||"",attribution:this.props.mapTiles&&this.props.mapTiles.attribution});default:return React.createElement(c.I,{url:"https://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/standaard/EPSG:3857/{z}/{x}/{y}.png",minZoom:void 0!==this.props.minZoom?this.props.minZoom:6,maxZoom:void 0!==this.props.maxZoom?this.props.maxZoom:19,bounds:[[50.5,3.25],[54,7.6]],subdomains:"",attribution:"Kaartgegevens © <a href='kadaster.nl'>Kadaster</a"})}}}]),_}(s.Z)},3397:(e,t,_)=>{"use strict";_.d(t,{default:()=>i.Z});_(7147);var r=_(3804),n=_.n(r),a=_(7196),o=_.n(a),i=_(5655);i.Z.renderElement=function(e,t){var _=e.attributes;o().render(n().createElement(i.Z,{attributes:_,config:t}),e)}},7988:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function amapsCreateClusterIcon(cluster,markers){var self=this,clusterMarkers=cluster.getAllChildMarkers(),colors={},total=clusterMarkers.length,isFaded=!0;clusterMarkers.forEach((function(clusterMarker){var marker=markers.find((function(e){return e.lat==clusterMarker.options.lat&&e.lng==clusterMarker.options.lng}));if(marker){var category=marker&&marker.data&&eval("marker.data.".concat(self.config.categorize.categorizeByField)),color=self.config.categorize.categories[category]&&self.config.categorize.categories[category].color||"#164995";colors[color]||(colors[color]=0),colors[color]++,marker&&marker.isFaded||(isFaded=!1)}}));var html='<svg viewBox="0 0 36 36"><circle cx="18" cy="18" r="14" fill="white"/>',soFar=0;Object.keys(colors).forEach((function(e){var t=e,_=100*colors[e]/total;html+='    <path\n      d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"\n      fill="none"\n      transform="rotate('.concat(soFar/100*360,', 18, 18)"\n      stroke="').concat(t,'"\n      stroke-width="4"\n      stroke-dasharray="').concat(_,', 100"\n    />'),soFar+=_}));var count=cluster.getChildCount();html+='<text x="18" y="21" text-anchor="middle" class="openstad-component-ideas-on-map-icon openstad-component-ideas-on-map-icon-text">'+count+"</text>",html+="</svg>";var className="osc-map-marker-cluster";return className+=" openstad-component-ideas-on-map-icon-cluster",isFaded&&(className+=" osc-map-marker-cluster-faded"),L.divIcon({html,className,iconSize:L.point(36,36),iconAnchor:[18,18]})}__webpack_require__.d(__webpack_exports__,{Z:()=>amapsCreateClusterIcon})},3695:(e,t,_)=>{"use strict";_.d(t,{db:()=>r,GN:()=>n,h9:()=>a});var r=function(e){var t=e.latlng,_=e.addresssesMunicipality,r=e.next,n="https://api.pdok.nl/bzk/locatieserver/search/v3_1/free?lat=[[lat]]5&lon=[[lng]]&fq=type:adres&rows=1";_&&(n+="&fq=gemeentenaam:".concat(_)),t=t||{};var a=n.replace(/\[\[lat\]\]/,t.lat).replace(/\[\[lng\]\]/,t.lng);fetch(a).then((function(e){if(!e.ok)throw Error(e);return e.json()})).then((function(e){var _=e.response&&e.response.docs&&e.response.docs[0];if(!_)throw new Error("Niets gevonden");var n={address:"".concat(_.straatnaam," ").concat(_.huisnummer)};return n.lat=t.lat,n.lng=t.lng,r?r(n):n})).catch((function(e){console.log("Zoek adres: niet goed"),console.log(e),r&&r({})}))},n=function(e){var t=e.searchValue,_=e.addresssesMunicipality,r=e.next,n="https://api.pdok.nl/bzk/locatieserver/search/v3_1/suggest?rows=5&fq=gemeentenaam:".concat(_,"&fq=*:*&q=").concat(t);fetch(n,{headers:{}}).then((function(e){return e.json()})).then((function(e){var t=[];return e&&e.response&&e.response.docs&&e.response.docs.length&&(t=e.response.docs.map((function(e){return{id:e.id,text:e.weergavenaam}}))),r?r(t):t})).catch((function(e){console.log("Search failed:",e),r&&r({})}))},a=function(e){var t=e.id,_=e.addresssesMunicipality,r=e.next;fetch("https://api.pdok.nl/bzk/locatieserver/search/v3_1/lookup?fq=gemeentenaam:".concat(_,"&&id=").concat(t)).then((function(e){return e.json()})).then((function(e){var t={};return e&&e.response&&e.response.docs&&e.response.docs[0]&&(t=e.response.docs[0]),r?r(t):t})).catch((function(e){console.log("Search failed:",e),r&&r({})}))}},7093:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Map});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5991),_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6213),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7608),merge__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1965),merge__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_3__),_base_map_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3397);function ownKeys(e,t){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),_.push.apply(_,r)}return _}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var _=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(_),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,_[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(_,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var _,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if(t){var n=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(this).constructor;_=Reflect.construct(r,arguments,n)}else _=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.Z)(this,_)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Map=function(_OpenStadComponentBas){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__.Z)(Map,_OpenStadComponentBas);var _super=_createSuper(Map);function Map(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__.Z)(this,Map),(t=_super.call(this,e,{clustering:{maxClusterRadius:100,showCoverageOnHover:!1},locationIcon:{html:'<svg width="39" height="50" viewBox="0 0 39 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.1038 0C29.6577 0 38.2075 8.46671 38.2075 18.9181C38.2075 33.1786 21.7544 47.7273 21.0432 48.3035L19.1038 50L17.1643 48.3035C16.4532 47.7273 0 33.1786 0 18.9181C0 8.46831 8.54983 0 19.1038 0ZM32.3245 18.9181C32.3083 11.6837 26.4091 5.84187 19.1038 5.82586C11.7984 5.84187 5.89922 11.6837 5.88306 18.9181C5.88306 27.3367 14.1581 37.2439 19.0876 42.1095C23.1767 38.1242 32.3245 27.993 32.3245 18.9181Z" fill="#EC0000"/><path d="M19.104 5.82568C26.4093 5.84169 32.3086 11.6836 32.3247 18.9179C32.3247 27.9928 23.1769 38.124 19.0879 42.1093C14.1584 37.2437 5.8833 27.3366 5.8833 18.9179C5.89946 11.6836 11.7987 5.84169 19.104 5.82568ZM25.5689 18.9179C25.5689 15.3807 22.6759 12.5158 19.104 12.5158C15.5322 12.5158 12.6391 15.3807 12.6391 18.9179C12.6391 22.455 15.5322 25.3199 19.104 25.3199C22.6759 25.3199 25.5689 22.455 25.5689 18.9179Z" fill="white"/><path d="M19.1038 25.3202C22.6743 25.3202 25.5687 22.4539 25.5687 18.9182C25.5687 15.3824 22.6743 12.5161 19.1038 12.5161C15.5333 12.5161 12.6389 15.3824 12.6389 18.9182C12.6389 22.4539 15.5333 25.3202 19.1038 25.3202Z" fill="#EC0000"/></svg>',className:"osc-ideas-on-map-icon",width:39,height:50,iconAnchor:[20,50]}})).config.autoZoomAndCenter=t.config.autoZoomAndCenter||"area","polygon"==t.config.autoZoomAndCenter&&(t.config.autoZoomAndCenter="area"),t.ideas=[],t.state=merge__WEBPACK_IMPORTED_MODULE_3___default().recursive(t.state,{filters:{}}),t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__.Z)(Map,[{key:"componentDidMount",value:function(e,t){(0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_8__.Z)((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(Map.prototype),"componentDidMount",this).call(this,e,t);var _=this;_.ideasFilterOnchangeListener=function(e){_.onChangeFilter(e.detail)},document.addEventListener("osc-ideas-filter-onchange",_.ideasFilterOnchangeListener),_.ideasFilterResetAllListener=function(e){_.onResetFilters(e.detail)},document.addEventListener("osc-ideas-filter-reset-all",_.ideasFilterResetAllListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener),document.removeEventListener("osc-ideas-filter-reset-all",this.ideasFilterResetAllListener)}},{key:"addIdea",value:function(e){this.ideas.push(e),this.addMarker({lat:e.location.coordinates[0],lng:e.location.coordinates[1],data:e})}},{key:"getVisibleIdeas",value:function(){var e=this,t=e.getMarkers().filter((function(t){return t.visible&&t.data&&e.map.getBounds().contains({lat:t.lat,lng:t.lng})})).map((function(e){return e.data}));return e.setState({visibleIdeas:t}),t}},{key:"setSelectedLocation",value:function(e){if(this.selectedLocation=e,this.selectedLocation)if(this.selectedLocationMarker)this.updateMarker(this.selectedLocationMarker,_objectSpread({},e));else{var t={html:this.config.locationIcon.html,className:"osc-ideas-on-map-icon",iconSize:L.point(this.config.locationIcon.width,this.config.locationIcon.height),iconAnchor:this.config.locationIcon.iconAnchor};this.selectedLocationMarker=this.addMarker(_objectSpread(_objectSpread({},e),{},{icon:t,doNotCluster:!0}))}else this.selectedLocationMarker&&this.removeMarker(this.selectedLocationMarker),this.selectedLocationMarker=null}},{key:"setBoundsAndCenter",value:function(e){(0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_8__.Z)((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.Z)(Map.prototype),"setBoundsAndCenter",this).call(this,e||"area"==this.config.autoZoomAndCenter&&this.config.area||this.getMarkers())}},{key:"showMarkers",value:function(e){e.keepCenter;var t=this;t.getMarkers().forEach((function(e){t.showMarker(e)}))}},{key:"hideMarkers",value:function(e){var t=e.exception,_=this,r=t&&t.location&&t.location.lat,n=t&&t.location&&t.location.lng;r&&n&&_.setBoundsAndCenter([{lat:r,lng:n}]),_.getMarkers().forEach((function(e){r==e.lat&&n==e.lng||_.hideMarker(e)}))}},{key:"fadeMarkers",value:function(e){var t=this,_=e.exception,r=this;r.getMarkers().forEach((function(e){var n;n=!(_&&e.data&&e.data.id&&_.id==e.data.id)&&(!t.selectedLocationMarker||t.selectedLocationMarker!=e),r.updateMarker(e,{isFaded:n})}))}},{key:"unfadeAllMarkers",value:function(){var e=this;e.getMarkers().forEach((function(t){e.updateMarker(t,{isFaded:!1})}))}},{key:"onChangeFilter",value:function onChangeFilter(filter){var self=this,filters=self.state.filters;filters[filter.fieldName]=filter,self.setState({filters},(function(){self.setFilter((function(marker){var result=!0;return Object.keys(self.state.filters).forEach((function(fieldName){var filter=self.state.filters[fieldName];filter.value&&"0"!==filter.value&&(marker.data&&!eval("marker.data.".concat(filter.fieldName))||eval("marker.data.".concat(filter.fieldName))!=filter.value)&&(result=!1)})),result}))}))}},{key:"onResetFilters",value:function(e){this.setBoundsAndCenter()}}]),Map}(_base_map_index_jsx__WEBPACK_IMPORTED_MODULE_4__.default)},4870:()=>{}}]);
//# sourceMappingURL=89.js.map