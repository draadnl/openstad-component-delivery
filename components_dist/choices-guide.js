/*! For license information please see choices-guide.js.LICENSE.txt */
(()=>{var __webpack_modules__={676:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},3349:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},6610:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>r})},5991:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:()=>o})},6156:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},7608:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:()=>r})},379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4665);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},6070:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(484),o=n(3349);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},4665:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:()=>r})},4699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2961);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(676);var o=n(2961);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},484:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})},2961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(676);function o(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},7961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(484),o=n(6610),a=n(5991),i=n(3349),c=n(379),s=n(6070),u=n(7608),l=n(1965),f=n.n(l),d=n(3804),p=n.n(d);n(3462);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var v=function(e){(0,c.Z)(n,e);var t=h(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.Z)(this,n),r=t.call(this,e);var s=(0,i.Z)(r);if(e.attributes&&Object.keys(e.attributes).forEach((function(t){var n=e.attributes[t];s[n.name]=n.value})),"string"==typeof s.config)try{s.config=JSON.parse(s.config)}catch(e){}var u=e.config||{};return u=m(u),s.config=f().recursive({siteId:null,api:{url:null,headers:null,isUserLoggedIn:!1},user:{}},a,c,u),s.divId=s.divId||s.config&&s.config.divId||e.id||"openstad-component-".concat(parseInt(1e8*Math.random())),s.config.divId=null,window[s.divId]=s,r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(e,t){}}]),n}(p().Component);function m(e){return"object"!=(0,r.Z)(e)||Object.keys(e).forEach((function(t){void 0!==e[t]&&null!=e[t]||delete e[t],"object"==(0,r.Z)(e[t])&&(e[t]=m(e[t]))})),e}},1337:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(484),o=n(6610),a=n(5991),i=n(3349),c=n(379),s=n(6070),u=n(7608);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var f=function(e){(0,c.Z)(n,e);var t=l(n);function n(e){var a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.Z)(this,n),a=t.call(this,e,{choices:[],name:"",placeholder:"",disabled:!1,required:!1},c);var s=(0,i.Z)(a);return s.state={value:null!=(0,r.Z)(e.value)?e.value:"",error:null},a.onChange=e.onChange,a}return(0,a.Z)(n,[{key:"validate",value:function(e){var t=e.showErrors,n=!this.config.required||!!this.state.value,r="";return!n&&t&&(r=!0),this.setState({isValid:n,error:r}),n}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},t.setState(e,(function(){t.validate({})})),"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}}]),n}(n(7961).Z)},1588:(e,t,n)=>{"use strict";n.d(t,{default:()=>B});n(7147);var r=n(3804),o=n.n(r),a=(n(7196),n(4393),n(6156)),i=n(6610),c=n(5991),s=n(3349),u=n(379),l=n(6070),f=n(7608),d=n(7961),p=n(1965),h=n.n(p),v=n(1337);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var g=function(e){(0,u.Z)(n,e);var t=m(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"render",value:function(){var e=this;return React.createElement("input",{type:"hidden",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}})}}]),n}(v.Z);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var b=function(e){(0,u.Z)(n,e);var t=y(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={value:r.props.value},r.onKeyUpx=r.onKeyUpx.bind((0,s.Z)(r)),r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this.props.value;n=this.filterHTML(n),this.input.innerHTML=n}},{key:"filterHTML",value:function(e){return e=(e=(e=e.replace(/<(\/?\s*(?:a [^>]+|a|b|i|strong|em|p|div|br|ul|li)\s*\/?)>/g,"[[[$1]]]")).replace(/<[^>]+>/g,"")).replace(/\[\[\[([^\]]+)\]\]\]/g,"<$1>")}},{key:"executeAction",value:function(e,t,n){e.preventDefault(),e.stopPropagation(),document.execCommand(t,!1,n),this.onKeyUp()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e),this.props.onChange&&this.props.onChange({value:this.state.value})}},{key:"onKeyUpx",value:function(){var e=this.input.innerHTML;e=this.filterHTML(e),this.setState({value:e}),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"osc-html-editor"},React.createElement("div",{className:"osc-html-editor-buttons"},React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-bold",onMouseDown:function(t){return e.executeAction(t,"bold")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-italic",onMouseDown:function(t){return e.executeAction(t,"italic")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-insertunorderedlist",onMouseDown:function(t){return e.executeAction(t,"insertunorderedlist")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-createlink",onMouseDown:function(t){return e.executeAction(t,"createlink",prompt("Lank naar","http://"))}}," ")),React.createElement("div",{className:"osc-html-editor-content",contentEditable:!0,onFocus:function(t){return e.onFocus(t)},onBlur:function(t){return e.onBlur(t)},onKeyUp:function(t){return e.onKeyUpx()},ref:function(t){return e.input=t}}))}}]),n}(d.Z);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var w=function(e){(0,u.Z)(n,e);var t=_(n);function n(e){var r;(0,i.Z)(this,n),r=t.call(this,e,{name:"tekst",inputType:"input",minLength:5,maxLength:1024,placeholder:""});var o=(0,s.Z)(r);return o.id=e.id||"osc-formfields-plaintext-with-counter-"+parseInt(1e6*Math.random()),o.state={focused:!1,value:e.value||"",valueLength:e.value&&e.value.length||0},o.key=e.useKey||(o.id||"osc-input-with-counter-")+parseInt(1e7*Math.random),r.onChange=e.onChange,o.handleOnChange=o.handleOnChange.bind((0,s.Z)(r)),o.onInputFocus=o.onInputFocus.bind((0,s.Z)(r)),o.onInputBlur=o.onInputBlur.bind((0,s.Z)(r)),o.onInputKeyUp=o.onInputKeyUp.bind((0,s.Z)(r)),r}return(0,c.Z)(n,[{key:"isValid",value:function(){var e={isValid:!0,warning:null};return this.state.value.length<this.config.minLength&&(e.warning="De tekst is te kort",e.isValid=!1),this.state.value.length>this.config.maxLength&&(e.warning="De tekst is te lang",e.isValid=!1),this.setState(e),e.isValid}},{key:"validate",value:function(){return this.setState({showWarning:!0}),this.isValid()}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},this.setState(e,(function(){"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}))}},{key:"onInputFocus",value:function(){var e={focused:!0,showWarning:!1};this.setState(e)}},{key:"onInputBlur",value:function(){var e={focused:!1};this.setState(e)}},{key:"onInputKeyUp",value:function(e){var t={};t.value=e||this.input.value,t.isValid=t.value.length>=this.config.minLength&&t.value.length<=this.config.maxLength,this.setState(t)}},{key:"render",value:function(){var e=this,t=this,n=null,r=null;if(t.state.focused)if(t.state.value.length<t.config.minLength)n=React.createElement("div",{className:"osc-form-counter osc-form-error"},"Nog minimaal ",React.createElement("span",{className:""},t.config.minLength-t.state.value.length)," tekens");else{var o=t.state.value.length>t.config.maxLength?"osc-form-error":"";n=React.createElement("div",{className:"osc-form-counter "+o},"Je hebt nog ",React.createElement("span",{className:""},t.config.maxLength-t.state.value.length)," tekens over.")}t.state.showWarning&&t.state.warning&&(r=React.createElement("div",{className:"osc-form-warning",ref:function(t){return e["form-warning"]=t}},t.state.warning));var a=null;switch(t.config.inputType){case"htmlarea":a=React.createElement(b,{value:this.state.value,onChange:t.handleOnChange,onFocus:t.onInputFocus,onBlur:t.onInputBlur,onKeyUp:t.onInputKeyUp});break;case"textarea":a=React.createElement("textarea",{key:t.key,ref:function(e){return t.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(e){return t.handleOnChange({value:t.input.value})},onKeyUp:function(e){return t.onInputKeyUp()},onFocus:function(e){return t.onInputFocus(e)},onBlur:function(e){return t.onInputBlur(e)}});break;default:a=React.createElement("input",{key:t.key,ref:function(e){return t.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(e){return t.handleOnChange({value:t.input.value})},onKeyUp:function(e){return t.onInputKeyUp()},onFocus:function(e){return t.onInputFocus(e)},onBlur:function(e){return t.onInputBlur(e)}})}return React.createElement("div",{id:t.id,ref:function(e){return t.instance=e},className:"osc-input-with-counter"},React.createElement("div",{className:"osc-form-feedback"},a,n,r))}}]),n}(d.Z);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var R=function(e){(0,u.Z)(n,e);var t=E(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-radios"},e.config.choices.map((function(t){return t.dangerousDescription?React.createElement("div",{className:"osc-radio-container",key:t.value},React.createElement("div",{className:"osc-radio-input".concat(e.state.value==t.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:e.divId,value:t.value,onChange:function(n){return e.handleOnChange({value:t.value})}})),React.createElement("div",{className:"osc-radio-text",dangerouslySetInnerHTML:{__html:t.dangerousDescription}})):React.createElement("div",{className:"osc-radio-container",key:t.value},React.createElement("div",{className:"osc-radio-input".concat(e.state.value==t.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:e.divId,value:t.value,onChange:function(n){return e.handleOnChange({value:t.value})}})),React.createElement("div",{className:"osc-radio-text"},t.dangerousDescription?null:t.description||t.title||t.value))})),t)}}]),n}(v.Z);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var k=function(e){(0,u.Z)(n,e);var t=x(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"validate",value:function(e){var t=e.showErrors,n=!0,r="";return this.state.value?this.state.value.match(/^\s*\d{4}\s*[a-zA-Z][a-zA-Z]\s*$/)||(n=!1,t&&(r="Dit is geen postcode")):this.config.required&&(n=!1,t&&(r="Je hebt nog niets ingevuld")),this.setState({isValid:n,error:r}),n}},{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},e.state.error)),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}}),t)}}]),n}(v.Z);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var I=function(e){(0,u.Z)(n,e);var t=C(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var e=this.state.value||this.config.choices[0]&&this.config.choices[0].value;this.handleOnChange({value:e})}},{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-select"},React.createElement("select",{value:this.state.value||"",disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}},e.config.choices.map((function(e,t){var n=e.description||e.title||e.value;return React.createElement("option",{value:e.value||"",key:"".concat(n,"-").concat(e.value,"-").concat(t)},n)}))),t)}}]),n}(v.Z);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var S=function(e){(0,u.Z)(n,e);var t=T(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}}),t)}}]),n}(v.Z);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var O=function(e){(0,u.Z)(n,e);var t=q(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textarea"},React.createElement("textarea",{value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}},this.state.value),t)}}]),n}(v.Z);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var P=o().lazy((function(){return Promise.all([n.e(439),n.e(779)]).then(n.bind(n,6779))})),L=function(e){(0,u.Z)(n,e);var t=Z(n);function n(e){var r;(0,i.Z)(this,n),r=t.call(this,e,{inputType:null,validateAction:null,changeAction:null,required:!1,title:null,description:null,choices:[]});var o=(0,s.Z)(r),a=r.config.config;return delete r.config.config,r.config=h().recursive(r.config,a),o.config.name=o.config.name||o.config.title.toLowerCase(),o.state={value:e.initValue||void 0},o.handleOnChange=o.handleOnChange.bind(o),o.onChange=e.onChange,r}return(0,c.Z)(n,[{key:"validate",value:function(e){var t=e.showErrors;return!this.input||this.input.validate({showErrors:t})}},{key:"handleOnChange",value:function(e){"function"==typeof this.onChange&&this.onChange(e)}},{key:"render",value:function(){var e=this,t=null;e.config.title&&(t=o().createElement("h3",{className:"osc-form-title"},e.config.title));var n=null;e.config.description&&(n=o().createElement("div",{className:"osc-form-description",dangerouslySetInnerHTML:{__html:e.config.description}}));var a=null;switch(e.config.inputType){case"hidden":a=o().createElement(g,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"html-with-counter":case"htmlarea-with-counter":a=o().createElement(w,{config:N(N({},e.config),{},{inputType:"htmlarea"}),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"image-upload":a=o().createElement(r.Suspense,{fallback:o().createElement("div",null,"Loading...")},o().createElement(P,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}}));break;case"input-with-counter":case"text-with-counter":a=o().createElement(w,{config:N({inputType:"input"},e.config),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"postcode":a=o().createElement(k,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"radios":a=o().createElement(R,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"select":case"multiple-choice":a=o().createElement(I,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"text":a=o().createElement(S,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"textarea":a=o().createElement(O,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"textarea-with-counter":a=o().createElement(w,{config:N(N({},e.config),{},{inputType:"textarea"}),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;default:console.log("Form field "+e.config.inputType+"not yet implemented")}return o().createElement("div",{id:e.id,ref:function(t){return e.instance=t},className:"osc-form-field"},t,n,a)}}]),n}(d.Z);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var G=function(e){(0,u.Z)(n,e);var t=D(n);function n(e){var r;(0,i.Z)(this,n),r=t.call(this,e,{title:null,intro:null,fields:[]});var o=(0,s.Z)(r),a=e.values;return!a&&o.config.fields&&o.config.fields.length&&(a={},o.config.fields.map((function(e,t){var n=e.name||e.title.toLowerCase();a[n]=e.value}))),o.state={values:a||{}},o.handleOnChange=o.handleOnChange.bind((0,s.Z)(r)),o.fields=[],r}return(0,c.Z)(n,[{key:"getValues",value:function(){return this.state.values}},{key:"validate",value:function(e){var t=e.showErrors,n=e.scrollTo,r=!0,o=null;return this.fields.forEach((function(e){e.validate({showErrors:t})||(r=!1,o||(o=e))})),n&&o&&o.instance&&o.instance.scrollIntoView&&o.instance.scrollIntoView({behavior:"smooth"}),r}},{key:"handleOnChange",value:function(e){var t=this,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state.values);n[e.name]=e.value,this.setState({values:n},(function(){"function"==typeof t.props.onChange&&t.props.onChange(e)}))}},{key:"render",value:function(){var e=this,t=null;e.config.title&&(t=React.createElement("h2",{className:"osc-form-title"},e.config.title));var n=null;e.config.intro&&(n=React.createElement("div",{className:"osc-form-intro",dangerouslySetInnerHTML:{__html:e.config.intro}}));var r=null;return e.config.fields&&e.config.fields.length&&(r=React.createElement("div",{className:"osc-form-fields"},e.config.fields.map((function(t,n){return React.createElement(L,(0,a.Z)({config:t,initValue:t.value,onChange:e.handleOnChange,ref:function(t){return e.input=t},key:"osc-form-field-".concat(n)},"ref",(function(t){e.fields[n]=t})))})))),React.createElement("div",{id:e.divId,className:"osc-form",ref:function(t){return e.instance=t}},t,n,r)}}]),n}(d.Z);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var F=function(e){(0,u.Z)(n,e);var t=M(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={value:r.props.value,touched:r.props.touched||!1},r.handleChange=r.handleChange.bind((0,s.Z)(r)),r}return(0,c.Z)(n,[{key:"handleChange",value:function(e){var t=e.target.value;"function"==typeof this.props.onChange&&this.props.onChange(t),this.setState({value:t,touched:!0})}},{key:"doTouch",value:function(){"function"==typeof this.props.onChange&&this.props.onChange(50),this.setState({touched:!0})}},{key:"calcProgress",value:function(e,t,n){return 2*(n-e)/(t-e)-1}},{key:"render",value:function(){var e=this,t=e.state,n=t.value,r=t.touched,o=e.props,a=o.min,i=o.max,c=o.step;return React.createElement("div",{className:"".concat(e.props.className," osc-slider")},React.createElement("div",{className:"osc-slider-track-container"},React.createElement("div",{className:"osc-slider-track"}),React.createElement("div",{className:"osc-slider-track-progress-container"},React.createElement("div",{className:"osc-slider-track-progress",style:{transform:"scaleX("+e.calcProgress(a,i,n)+")"}})),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-left"}),React.createElement("div",{className:"osc-slider-track-dot-start osc-slider-track-dot-center"}),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-right"})),React.createElement("input",{type:"range",min:a,max:i,step:c,value:n,onClick:function(){r||e.doTouch()},onChange:e.handleChange,className:r?"osc-slider-input-range":"osc-slider-input-range osc-slider-untouched",ref:function(t){return e.input=t}}))}}]),n}(d.Z);const B={Form:G,FormField:L,Hidden:g,InputWithCounter:w,Postcode:k,Radios:R,Select:I,Text:S,Textarea:O,Slider:F}},4315:(e,t,n)=>{"use strict";n.d(t,{Image:()=>g});n(7147);var r=n(3804),o=n.n(r),a=n(7196),i=n.n(a),c=(n(5784),n(484)),s=n(4699),u=n(6610),l=n(5991),f=n(379),d=n(6070),p=n(7608),h=n(1965),v=n.n(h);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var g=function(e){(0,f.Z)(n,e);var t=m(n);function n(e){var r;(0,u.Z)(this,n);return(r=t.call(this,e)).config=v().recursive({image:{server:{},aspectRatio:"16x9",allowMultipleImages:!1}},r.config,r.props.config||{}),r.state={currentImageIndex:0,width:0},r}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){var e=this.mainElement&&this.mainElement.parentNode;e&&this.setState({width:e.offsetWidth})}},{key:"setCurrentImageIndex",value:function(e){this.setState({currentImageIndex:e})}},{key:"getImagesFromProps",value:function(){var e=this.props.images||[];this.props.image||e[this.state.currentImageIndex];return[this.props.image,e]}},{key:"getImageSrc",value:function(e){var t,n,r,o=this.getWidthHeight(),a=(0,s.Z)(o,2);if(n=a[0],r=a[1],n&&r&&(t=e,"object"==(0,c.Z)(e)&&e.src&&(t=e.src),t||(t=this.config.image.placeholderImageSrc),t&&this.config.image.server.srcExtension&&t.match(this.config.image.server.fetch))){var i=this.config.image.server.srcExtension;t+=i=i.replace(/\[\[width\]\]/g,n).replace(/\[\[height\]\]/g,r)}return t}},{key:"getAspectRatioFactor",value:function(){if(this.props.width&&this.props.height)return this.props.width/this.props.height;var e=this.config.image.aspectRatio.match(/(\d+)x(\d+)/);return e?e[1]/e[2]:16/9}},{key:"getWidthHeight",value:function(){var e=this.mainElement&&this.mainElement.parentNode,t=this.props.width||this.state.width||e&&e.offsetWidth;return[t,this.props.height||t*(1/this.getAspectRatioFactor())||void 0]}},{key:"render",value:function(){var e,t,n,r,a=this,i=this,c=i.getImagesFromProps(),u=(0,s.Z)(c,2);t=u[0],e=u[1];var l=i.getWidthHeight(),f=(0,s.Z)(l,2);if(n=f[0],r=f[1],i.config.image.allowMultipleImages&&e.length>1){var d=i.getImageSrc(t);return o().createElement("div",{id:i.divId,className:"osc-multiple-images ".concat(i.props.className||""),ref:function(e){return a.mainElement=e}},o().createElement("div",{className:"osc-image-spacer",style:{width:n,height:r}},o().createElement("div",{className:"osc-image",style:d?{backgroundImage:"url(".concat(d,")")}:{},key:"image-"+i.divId})),o().createElement("div",{className:"osc-multiple-images-thumbs",style:{height:.1*i.state.width}},e.map((function(e,t){var r=.1*n,a=r*i.getAspectRatioFactor(),c=1.05*a*t,s=i.getImageSrc(e);return o().createElement("div",{className:"osc-image-thumb-spacer",key:"osc-image-thumb-".concat(t),style:{left:c,width:a,height:r}},o().createElement("div",{className:"osc-image-thumb",style:s?{backgroundImage:"url(".concat(s,")"),zIndex:10-t}:{},onClick:function(e){return i.setCurrentImageIndex(t)}}))}))))}var p=i.getImageSrc(t);return o().createElement("div",{id:i.divId,className:"osc-image-spacer ".concat(i.props.className||""),style:{width:n,height:r},ref:function(e){return a.mainElement=e}},o().createElement("div",{className:"osc-image",style:p?{backgroundImage:"url(".concat(p,")")}:{},onClick:this.props.onClick,key:"image-"+i.divId}))}}]),n}(n(7961).Z);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var b=function(e){(0,f.Z)(n,e);var t=y(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"getImagesFromProps",value:function(){var e=this.props.idea;if(!e)return["",[""]];var t=e.extraData&&e.extraData.images||[];return[e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[this.state.currentImageIndex],t]}}]),n}(g);b.renderElement=function(e,t){var n=e.attributes;i().render(o().createElement(b,{attributes:n,config:t}),e)}},2150:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>h});n(7147),n(3804),n(7196),n(6832);var r=n(1965),o=n.n(r),a=n(484),i={get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==(0,a.Z)(t))try{t=JSON.stringify(t)}catch(e){}sessionStorage.setItem(e,t)}},remove:function(e){sessionStorage.removeItem(e)}};const c=i;function s(e){var t,n=window.location.search.match(/(?:\?|&)jwt=([A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*)(?:&|$)/);if(n){t=n[1],c.set("osc-jwt",t);var r=document.location.search.replace("jwt="+t,"");"?"==r&&(r=""),document.location.search=r}return t=c.get("osc-jwt"),e&&e.jwt&&(t=e.jwt,c.set("osc-jwt",t)),t}var u={getHeaders:function(e){var t=o().recursive({"Content-type":"application/json"},e&&e.api&&e.api.headers),n=s();return n&&(t=o().recursive({"X-Authorization":"Bearer "+n},t)),t}};var l={getLoginUrl:function(e){var t="returnTo="+encodeURIComponent(document.location.toString()),n=e.loginUrl||"/oauth/login?{returnTo}";return n=n.replace(/{returnTo}/,t)}};var f={admin:["admin","moderator","editor","member","anonymous","all"],moderator:["moderator","editor","member","anonymous","all"],editor:["editor","member","anonymous","all"],member:["member","anonymous","all"],anonymous:["anonymous","all"],all:["all"],owner:null};var d={getUser:function(e,t){t=t||function(e){console.log("getUser: next not defined."),console.log(e)};var n=e.user||c.get("osc-user");if(n)return t(null,n);var r=s(e);if(!r)return t(null,{});var o="".concat(e.api.url,"/oauth/site/").concat(e.siteId,"/me"),a={"X-Authorization":"Bearer ".concat(r),"Content-Type":"application/json"};fetch(o,{headers:a}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){c.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},getJWT:s,logout:function(e,t){t=t||function(e){console.log("logout: next not defined.")};var n=e.user||c.get("osc-user");if(n)return t(null,n);var r=s(e);if(!r)return t(null,{});var o=e.api.url+"/oauth/site/"+e.siteId+"/me";fetch(o,{headers:{"X-Authorization":"Bearer "+r,"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){c.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},hasRole:function(e,t){var n=e.role;return Object.keys(f).includes(n)||(n="all"),f[n].includes(t)}};var p={get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==(0,a.Z)(t))try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)}},remove:function(e){localStorage.removeItem(e)}};const h={api:u,auth:l,user:d,ideasSort:function(e){var t=e.ideas,n=e.sortOrder,r=e.center;switch(n=n||"random"){case"title":t=t.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0}));break;case"ranking,asc":t=t.sort((function(e,t){return e.ranking-t.ranking}));break;case"likes,asc":t=t.sort((function(e,t){return e.yes-t.yes}));break;case"likes,desc":t=t.sort((function(e,t){return t.yes-e.yes}));break;case"createdtime,desc":t=t.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}));break;case"createdtime,asc":t=t.sort((function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}));break;case"distance":(r=r||{lat:52.37104644463586,lng:900402911007405}).coordinates&&(r.lat=r.coordinates[0],r.lng=r.coordinates[1]),t=t.map((function(e){return e._distance=Math.sqrt(Math.pow(e.location.coordinates[0]-r.lat,2)+Math.pow(e.location.coordinates[1]-r.lng,2)),e})).sort((function(e,t){return e._distance-t._distance}));break;case"args,desc":t=t.sort((function(e,t){return t.argCount-e.argCount}));break;case"args,asc":t=t.sort((function(e,t){return e.argCount-t.argCount}));break;default:t=t.sort((function(e,t){return Math.random()-.5}))}return t},localStorage:p,sessionStorage:i,reactTemplate:function(e){var t=e.html,n=void 0===t?"":t,r=arguments[0];delete r.html;var o=0;return Object.keys(r).forEach((function(e){var t=new RegExp("^((?:.|\n|\r)*)\\{".concat(e,"\\}((?:.|\n|\r)*)$"),"g").exec(n);t&&(o++,n=React.createElement("span",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:t[1]}}),r[e],React.createElement("span",{dangerouslySetInnerHTML:{__html:t[2]}})))})),0==o&&(n=React.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),n},addToClassname:function(e,t,n){return e&&(e.className||(e.className=""),e.className.match(new RegExp(" ?"+t+"(?: |$)"))||(e.className=n&&n.before?t+" "+e.className:e.className+" "+t)),e},removeFromClassName:function(e,t){return e&&e.className&&(e.className=e.className.replace(new RegExp(" ?"+t+"(?: |$)"),"")),e}}},401:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>OpenStadComponentLightbox});var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(484),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7961);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var OpenStadComponentLightbox=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__.Z)(OpenStadComponentLightbox,_OpenStadComponent);var _super=_createSuper(OpenStadComponentLightbox);function OpenStadComponentLightbox(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.Z)(this,OpenStadComponentLightbox),(t=_super.call(this,e)).state={images:[],startIndex:0},t.recalcSizes=t.recalcSizes.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__.Z)(OpenStadComponentLightbox,[{key:"componentDidMount",value:function(e,t){var n=this;n.showLightBoxListener=function(e){n.showLightbox(e.detail)},document.addEventListener("osc-show-light-box",n.showLightBoxListener),document.body.appendChild(this.instance)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-show-light-box",this.showLightBoxListener)}},{key:"showLightbox",value:function showLightbox(data){var self=this,aspectRatio;try{aspectRatio=eval(data.aspectRatio.replace&&data.aspectRatio.replace("x","/"))}catch(e){}"number"!=typeof aspectRatio&&(aspectRatio=16/9),self.setState({images:data.images,startIndex:data.startIndex,aspectRatio},(function(){self.instance.style.display="block",self.recalcSizes()})),window.addEventListener("resize",self.recalcSizes)}},{key:"hideLightbox",value:function(){this.instance.style.display="none",window.removeEventListener("resize",this.recalcSizes)}},{key:"showImage",value:function(e,t){e.stopPropagation(),this.mainImage.src=t}},{key:"recalcSizes",value:function(){var e=this;if(e.mainContainer){var t=e.mainContainer.offsetWidth,n=e.mainContainer.offsetHeight;if(t/n>e.state.aspectRatio){var r=.8*n;e.mainImageContainer.style.height=r+"px",e.mainImageContainer.style.width=e.state.aspectRatio*r+"px",e.mainImageContainer.style.top=(n-r)/2+"px",e.mainImageContainer.style.left=(t-e.state.aspectRatio*r)/2+"px"}else{var o=t;e.mainImageContainer.style.width=o+"px",e.mainImageContainer.style.height=1/e.state.aspectRatio*o+"px",e.mainImageContainer.style.top=(n-1/e.state.aspectRatio*o)/2+"px",e.mainImageContainer.style.left=0}e.mainImage.style.width=e.mainImageContainer.style.width,e.mainImage.style.height=e.mainImageContainer.style.height;var a=e.state.aspectRatio*e.navigationContainer.offsetHeight,i=e.state.images.length*a+20*e.state.images.length;i>e.navigationContainer.offsetWidth&&(i=e.navigationContainer.offsetWidth,a=i/e.state.images.length-20),e.navigationContainer.style.width=i+"px",e.state.images.map((function(t,n){var r=parseInt(a);e["lighbox-image-container-".concat(n)].style.width=r+"px",e["lighbox-image-container-".concat(n)].style.height=parseInt(1/e.state.aspectRatio*r)+"px",e["lighbox-image-".concat(n)].style.width=e["lighbox-image-container-".concat(n)].style.width,e["lighbox-image-".concat(n)].style.height=e["lighbox-image-container-".concat(n)].style.height}))}}},{key:"getImageSrc",value:function(e){var t=e;return"object"==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7__.Z)(e)&&e.src&&(t=e.src),t}},{key:"render",value:function(){var e=this,t=this;return React.createElement("div",{className:"osc-lightbox",onClick:function(){e.hideLightbox()},ref:function(e){return t.instance=e}},React.createElement("div",{className:"osc-close-button",onClick:function(e){return t.hideLightbox(e)}}),React.createElement("div",{className:"osc-lightbox-main-container",ref:function(e){return t.mainContainer=e}},React.createElement("div",{className:"osc-image-container",ref:function(e){return t.mainImageContainer=e}},React.createElement("img",{src:t.state.images[t.state.startIndex]&&t.getImageSrc(t.state.images[t.state.startIndex]),ref:function(e){return t.mainImage=e}}))),React.createElement("div",{className:"osc-lightbox-navigation-container"},React.createElement("div",{className:"osc-lightbox-navigation",ref:function(e){return t.navigationContainer=e}},t.state.images.map((function(e,n){return React.createElement("div",{className:"osc-image-container",style:{backgroundImage:"url(".concat(t.getImageSrc(e),")")},onClick:function(n){return t.showImage(n,t.getImageSrc(e))},key:"lighbox-image-container-".concat(n),ref:function(e){return t["lighbox-image-container-".concat(n)]=e}},React.createElement("img",{src:t.getImageSrc(e),ref:function(e){return t["lighbox-image-".concat(n)]=e}}))})))))}}]),OpenStadComponentLightbox}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__.Z)},3778:(e,t,n)=>{"use strict";n.d(t,{default:()=>c.Z});n(7147),n(1457);var r=n(3804),o=n.n(r),a=n(7196),i=n.n(a),c=(n(8743),n(401));c.Z.renderElement=function(e,t){var n=e.attributes;i().render(o().createElement(c.Z,{attributes:n,config:t}),e)}},3377:(e,t,n)=>{"use strict";n.d(t,{default:()=>p});n(7147);var r=n(3804),o=n.n(r),a=n(7196),i=n.n(a),c=(n(4803),n(6610)),s=n(5991),u=n(379),l=n(6070),f=n(7608);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var p=function(e){(0,u.Z)(n,e);var t=d(n);function n(e){return(0,c.Z)(this,n),t.call(this,e,{})}return(0,s.Z)(n,[{key:"render",value:function(){var e,t,n=this,r=this.props.previousAction||this.config.previousAction,o=this.props.previousUrl||this.config.previousUrl,a=this.props.previousIsDisabled||this.config.previousIsDisabled,i=this.props.previousLabel||this.config.previousLabel;o&&(r=function(){document.location.href="".concat(o)}),r&&(e=React.createElement("div",{className:"osc-previous-button".concat(a?" osc-disabled":""),onClick:function(e){return r(e)}},i));var c=this.props.nextAction||this.config.nextAction,s=this.props.nextUrl||this.config.nextUrl,u=this.props.nextIsDisabled||this.config.nextIsDisabled,l=this.props.nextLabel||this.config.nextLabel;return s&&(c=function(){document.location.href="".concat(s)}),c&&(t=React.createElement("div",{className:"osc-next-button".concat(u?" osc-disabled":""),onClick:function(e){return c(e)}},l)),React.createElement("div",{className:"osc-previous-next-button-block",ref:function(e){return n.instance=e}},e,t)}}]),n}(n(7961).Z);p.renderElement=function(e,t){var n=e.attributes;i().render(o().createElement(p,{attributes:n,config:t}),e)}},1457:(e,t,n)=>{n(4553);var r=n(2649);e.exports=r("Array","findIndex")},4794:(e,t,n)=>{n(9826);var r=n(2649);e.exports=r("Array","find")},3462:(e,t,n)=>{n(6699);var r=n(2649);e.exports=r("Array","includes")},9116:(e,t,n)=>{n(9601);var r=n(857);e.exports=r.Object.assign},4533:(e,t,n)=>{n(2023);var r=n(2649);e.exports=r("String","includes")},3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},1223:(e,t,n)=>{var r=n(5112),o=n(30),a=n(3070),i=r("unscopables"),c=Array.prototype;null==c[i]&&a.f(c,i,{configurable:!0,value:o(null)}),e.exports=function(e){c[i][e]=!0}},9670:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},1318:(e,t,n)=>{var r=n(5656),o=n(7466),a=n(1400),i=function(e){return function(t,n,i){var c,s=r(t),u=o(s.length),l=a(i,u);if(e&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},2092:(e,t,n)=>{var r=n(9974),o=n(8361),a=n(7908),i=n(7466),c=n(5417),s=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f;return function(p,h,v,m){for(var g,y,b=a(p),_=o(b),w=r(h,v,3),E=i(_.length),R=0,x=m||c,k=t?x(p,E):n?x(p,0):void 0;E>R;R++)if((d||R in _)&&(y=w(g=_[R],R,b),e))if(t)k[R]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return R;case 2:s.call(k,g)}else if(l)return!1;return f?-1:u||l?l:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},9207:(e,t,n)=>{var r=n(9781),o=n(7293),a=n(6656),i=Object.defineProperty,c={},s=function(e){throw e};e.exports=function(e,t){if(a(c,e))return c[e];t||(t={});var n=[][e],u=!!a(t,"ACCESSORS")&&t.ACCESSORS,l=a(t,0)?t[0]:s,f=a(t,1)?t[1]:void 0;return c[e]=!!n&&!o((function(){if(u&&!r)return!0;var e={length:-1};u?i(e,1,{enumerable:!0,get:s}):e[1]=1,n.call(e,l,f)}))}},5417:(e,t,n)=>{var r=n(111),o=n(3157),a=n(5112)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9920:(e,t,n)=>{var r=n(6656),o=n(3887),a=n(1236),i=n(3070);e.exports=function(e,t){for(var n=o(t),c=i.f,s=a.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||c(e,l,s(t,l))}}},4964:(e,t,n)=>{var r=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},8880:(e,t,n)=>{var r=n(9781),o=n(3070),a=n(9114);e.exports=r?function(e,t,n){return o.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),o=n(111),a=r.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},2649:(e,t,n)=>{var r=n(7854),o=n(9974),a=Function.call;e.exports=function(e,t,n){return o(a,r[e].prototype[t],n)}},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var r=n(7854),o=n(1236).f,a=n(8880),i=n(1320),c=n(3505),s=n(9920),u=n(4705);e.exports=function(e,t){var n,l,f,d,p,h=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[h]||c(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(p=o(n,l))&&p.value:n[l],!u(v?l:h+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;s(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),i(n,l,d,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9974:(e,t,n)=>{var r=n(3099);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},5005:(e,t,n)=>{var r=n(857),o=n(7854),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||Function("return this")()},6656:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},3501:e=>{e.exports={}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),o=n(7293),a=n(317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(7293),o=n(4326),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a.call(e,""):Object(e)}:Object},2788:(e,t,n)=>{var r=n(5465),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},9909:(e,t,n)=>{var r,o,a,i=n(8536),c=n(7854),s=n(111),u=n(8880),l=n(6656),f=n(6200),d=n(3501),p=c.WeakMap;if(i){var h=new p,v=h.get,m=h.has,g=h.set;r=function(e,t){return g.call(h,e,t),t},o=function(e){return v.call(h,e)||{}},a=function(e){return m.call(h,e)}}else{var y=f("state");d[y]=!0,r=function(e,t){return u(e,y,t),t},o=function(e){return l(e,y)?e[y]:{}},a=function(e){return l(e,y)}}e.exports={set:r,get:o,has:a,enforce:function(e){return a(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},3157:(e,t,n)=>{var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4705:(e,t,n)=>{var r=n(7293),o=/#|\.prototype\./,a=function(e,t){var n=c[i(e)];return n==u||n!=s&&("function"==typeof t?r(t):!!t)},i=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var r=n(111),o=n(4326),a=n(5112)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},133:(e,t,n)=>{var r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},8536:(e,t,n)=>{var r=n(7854),o=n(2788),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(o(a))},3929:(e,t,n)=>{var r=n(7850);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},1574:(e,t,n)=>{"use strict";var r=n(9781),o=n(7293),a=n(1956),i=n(5181),c=n(5296),s=n(7908),u=n(8361),l=Object.assign,f=Object.defineProperty;e.exports=!l||o((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||a(l({},t)).join("")!=o}))?function(e,t){for(var n=s(e),o=arguments.length,l=1,f=i.f,d=c.f;o>l;)for(var p,h=u(arguments[l++]),v=f?a(h).concat(f(h)):a(h),m=v.length,g=0;m>g;)p=v[g++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:l},30:(e,t,n)=>{var r,o=n(9670),a=n(6048),i=n(748),c=n(3501),s=n(490),u=n(317),l=n(6200),f=l("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"</"+"script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=u("iframe")).style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=i.length;n--;)delete h.prototype[i[n]];return h()};c[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=o(e),n=new d,d.prototype=null,n[f]=e):n=h(),void 0===t?n:a(n,t)}},6048:(e,t,n)=>{var r=n(9781),o=n(3070),a=n(9670),i=n(1956);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=i(t),c=r.length,s=0;c>s;)o.f(e,n=r[s++],t[n]);return e}},3070:(e,t,n)=>{var r=n(9781),o=n(4664),a=n(9670),i=n(7593),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(a(e),t=i(t,!0),a(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),o=n(5296),a=n(9114),i=n(5656),c=n(7593),s=n(6656),u=n(4664),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=i(e),t=c(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return a(!o.f.call(e,t),e[t])}},8006:(e,t,n)=>{var r=n(6324),o=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},6324:(e,t,n)=>{var r=n(6656),o=n(5656),a=n(1318).indexOf,i=n(3501);e.exports=function(e,t){var n,c=o(e),s=0,u=[];for(n in c)!r(i,n)&&r(c,n)&&u.push(n);for(;t.length>s;)r(c,n=t[s++])&&(~a(u,n)||u.push(n));return u}},1956:(e,t,n)=>{var r=n(6324),o=n(748);e.exports=Object.keys||function(e){return r(e,o)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},3887:(e,t,n)=>{var r=n(5005),o=n(8006),a=n(5181),i=n(9670);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(i(e)),n=a.f;return n?t.concat(n(e)):t}},857:(e,t,n)=>{var r=n(7854);e.exports=r},1320:(e,t,n)=>{var r=n(7854),o=n(8880),a=n(6656),i=n(3505),c=n(2788),s=n(9909),u=s.get,l=s.enforce,f=String(String).split("String");(e.exports=function(e,t,n,c){var s=!!c&&!!c.unsafe,u=!!c&&!!c.enumerable,d=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||o(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e!==r?(s?!d&&e[t]&&(u=!0):delete e[t],u?e[t]=n:o(e,t,n)):u?e[t]=n:i(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||c(this)}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:(e,t,n)=>{var r=n(7854),o=n(8880);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},6200:(e,t,n)=>{var r=n(2309),o=n(9711),a=r("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},5465:(e,t,n)=>{var r=n(7854),o=n(3505),a="__core-js_shared__",i=r[a]||o(a,{});e.exports=i},2309:(e,t,n)=>{var r=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},1400:(e,t,n)=>{var r=n(9958),o=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):a(n,t)}},5656:(e,t,n)=>{var r=n(8361),o=n(4488);e.exports=function(e){return r(o(e))}},9958:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:(e,t,n)=>{var r=n(9958),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(4488);e.exports=function(e){return Object(r(e))}},7593:(e,t,n)=>{var r=n(111);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},9711:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(e,t,n)=>{var r=n(7854),o=n(2309),a=n(6656),i=n(9711),c=n(133),s=n(3307),u=o("wks"),l=r.Symbol,f=s?l:l&&l.withoutSetter||i;e.exports=function(e){return a(u,e)||(c&&a(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},4553:(e,t,n)=>{"use strict";var r=n(2109),o=n(2092).findIndex,a=n(1223),i=n(9207),c="findIndex",s=!0,u=i(c);c in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!u},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(c)},9826:(e,t,n)=>{"use strict";var r=n(2109),o=n(2092).find,a=n(1223),i=n(9207),c="find",s=!0,u=i(c);c in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!u},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(c)},6699:(e,t,n)=>{"use strict";var r=n(2109),o=n(1318).includes,a=n(1223);r({target:"Array",proto:!0,forced:!n(9207)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},9601:(e,t,n)=>{var r=n(2109),o=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},2023:(e,t,n)=>{"use strict";var r=n(2109),o=n(3929),a=n(4488);r({target:"String",proto:!0,forced:!n(4964)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},7810:()=>{!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,r;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},7301:(e,t,n)=>{e.exports=n(2702).Promise},2702:function(e,t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,i=void 0,c=function(e,t){_[o]=e,_[o+1]=t,2===(o+=2)&&(i?i(w):R())};function s(e){i=e}function u(e){c=e}var l="undefined"!=typeof window?window:void 0,f=l||{},d=f.MutationObserver||f.WebKitMutationObserver,p="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function v(){return function(){return process.nextTick(w)}}function m(){return function(){a(w)}}function g(){var e=0,t=new d(w),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function y(){var e=new MessageChannel;return e.port1.onmessage=w,function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(w,1)}}var _=new Array(1e3);function w(){for(var e=0;e<o;e+=2)(0,_[e])(_[e+1]),_[e]=void 0,_[e+1]=void 0;o=0}function E(){try{var e=n(4327);return a=e.runOnLoop||e.runOnContext,m()}catch(e){return b()}}var R=void 0;function x(e,t){var n=arguments,r=this,o=new this.constructor(I);void 0===o[C]&&Y(o);var a,i=r._state;return i?(a=n[i-1],c((function(){return Q(i,o,a,r._result)}))):U(r,o,e,t),o}function k(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(I);return G(n,e),n}R=p?v():d?g():h?y():void 0===l?E():b();var C=Math.random().toString(36).substring(16);function I(){}var T=void 0,S=1,q=2,O=new W;function A(){return new TypeError("You cannot resolve a promise with itself")}function N(){return new TypeError("A promises callback cannot return that same promise.")}function Z(e){try{return e.then}catch(e){return O.error=e,O}}function P(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function L(e,t,n){c((function(e){var r=!1,o=P(n,t,(function(n){r||(r=!0,t!==n?G(e,n):F(e,n))}),(function(t){r||(r=!0,B(e,t))}),"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,B(e,o))}),e)}function j(e,t){t._state===S?F(e,t._result):t._state===q?B(e,t._result):U(t,void 0,(function(t){return G(e,t)}),(function(t){return B(e,t)}))}function D(e,n,r){n.constructor===e.constructor&&r===x&&n.constructor.resolve===k?j(e,n):r===O?B(e,O.error):void 0===r?F(e,n):t(r)?L(e,n,r):F(e,n)}function G(t,n){t===n?B(t,A()):e(n)?D(t,n,Z(n)):F(t,n)}function M(e){e._onerror&&e._onerror(e._result),z(e)}function F(e,t){e._state===T&&(e._result=t,e._state=S,0!==e._subscribers.length&&c(z,e))}function B(e,t){e._state===T&&(e._state=q,e._result=t,c(M,e))}function U(e,t,n,r){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+S]=n,o[a+q]=r,0===a&&e._state&&c(z,e)}function z(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,a=e._result,i=0;i<t.length;i+=3)r=t[i],o=t[i+n],r?Q(n,r,o,a):o(a);e._subscribers.length=0}}function W(){this.error=null}var H=new W;function V(e,t){try{return e(t)}catch(e){return H.error=e,H}}function Q(e,n,r,o){var a=t(r),i=void 0,c=void 0,s=void 0,u=void 0;if(a){if((i=V(r,o))===H?(u=!0,c=i.error,i=null):s=!0,n===i)return void B(n,N())}else i=o,s=!0;n._state!==T||(a&&s?G(n,i):u?B(n,c):e===S?F(n,i):e===q&&B(n,i))}function K(e,t){try{t((function(t){G(e,t)}),(function(t){B(e,t)}))}catch(t){B(e,t)}}var J=0;function $(){return J++}function Y(e){e[C]=J++,e._state=void 0,e._result=void 0,e._subscribers=[]}function X(e,t){this._instanceConstructor=e,this.promise=new e(I),this.promise[C]||Y(this.promise),r(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?F(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&F(this.promise,this._result))):B(this.promise,ee())}function ee(){return new Error("Array Methods must be provided an Array")}function te(e){return new X(this,e).promise}function ne(e){var t=this;return r(e)?new t((function(n,r){for(var o=e.length,a=0;a<o;a++)t.resolve(e[a]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function re(e){var t=new this(I);return B(t,e),t}function oe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ae(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ie(e){this[C]=$(),this._result=this._state=void 0,this._subscribers=[],I!==e&&("function"!=typeof e&&oe(),this instanceof ie?K(this,e):ae())}function ce(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=ie}return X.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===T&&n<e;n++)this._eachEntry(t[n],n)},X.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===k){var o=Z(e);if(o===x&&e._state!==T)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===ie){var a=new n(I);D(a,e,o),this._willSettleAt(a,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},X.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===T&&(this._remaining--,e===q?B(r,n):this._result[t]=n),0===this._remaining&&F(r,this._result)},X.prototype._willSettleAt=function(e,t){var n=this;U(e,void 0,(function(e){return n._settledAt(S,t,e)}),(function(e){return n._settledAt(q,t,e)}))},ie.all=te,ie.race=ne,ie.resolve=k,ie.reject=re,ie._setScheduler=s,ie._setAsap=u,ie._asap=c,ie.prototype={constructor:ie,then:x,catch:function(e){return this.then(null,e)}},ce(),ie.polyfill=ce,ie.Promise=ie,ie}()},1965:(e,t)=>{"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(void 0,e)}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(!0===e[0],!1,e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(!0===e[0],!0,e)}function a(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;++n)t.push(a(e[n]));return t}if(i(e)){t={};for(var n in e)t[n]=a(e[n]);return t}return e}function i(e){return e&&"object"==typeof e&&!Array.isArray(e)}function c(e,t){if(!i(e))return t;for(var n in t)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=i(e[n])&&i(t[n])?c(e[n],t[n]):t[n]);return e}function s(e,t,n){var r;!e&&i(r=n.shift())||(r={});for(var o=0;o<n.length;++o){var s=n[o];if(i(s))for(var u in s)if("__proto__"!==u&&"constructor"!==u&&"prototype"!==u){var l=e?a(s[u]):s[u];r[u]=t?c(r[u],l):l}}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=t.clone=t.recursive=t.merge=t.main=void 0,e.exports=t=n,t.default=n,t.main=n,n.clone=a,n.isPlainObject=i,n.recursive=o,t.merge=r,t.recursive=o,t.clone=a,t.isPlainObject=i},8805:()=>{},4393:()=>{},5784:()=>{},6832:()=>{},8743:()=>{},4803:()=>{},7147:(e,t,n)=>{"use strict";var r=n(7301),o="URLSearchParams"in self,a="Symbol"in self&&"iterator"in Symbol,i="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),c="FormData"in self,s="ArrayBuffer"in self;if(s)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function v(e){if(e.bodyUsed)return r.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new r((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:c&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return r.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return r.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||r.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,o=v(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=m(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return r.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return r.resolve(this._bodyText)},c&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=f(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=d(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},a&&(h.prototype[Symbol.iterator]=h.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n,r,o=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),_.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function R(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},R.error=function(){var e=new R(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];R.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new R(null,{status:t,headers:{location:e}})};var k=self.DOMException;try{new k}catch(e){(k=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),k.prototype.constructor=k}function C(e,t){return new r((function(n,r){var o=new w(e,t);if(o.signal&&o.signal.aborted)return r(new k("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new R(o,r))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new k("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}C.polyfill=!0,self.fetch||(self.fetch=C,self.Headers=h,self.Request=w,self.Response=R)},3804:e=>{"use strict";e.exports=window.React},7196:e=>{"use strict";e.exports=window.ReactDOM},4327:()=>{}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>e+".js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="OpenStadComponents.[name]:",__webpack_require__.l=(e,t,n,r)=>{if(inProgress[e])inProgress[e].push(t);else{var o,a;if(void 0!==n)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var s=i[c];if(s.getAttribute("src")==e||s.getAttribute("data-webpack")==dataWebpackPrefix+n){o=s;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",dataWebpackPrefix+n),o.src=e),inProgress[e]=[t];var u=(t,n)=>{o.onerror=o.onload=null,clearTimeout(l);var r=inProgress[e];if(delete inProgress[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},l=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),a&&document.head.appendChild(o)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{var e={684:0,790:0,940:0,723:0,498:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var a=__webpack_require__.p+__webpack_require__.u(t),i=new Error;__webpack_require__.l(a,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,r[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[a,i,c]=n,s=0;for(r in i)__webpack_require__.o(i,r)&&(__webpack_require__.m[r]=i[r]);if(c)c(__webpack_require__);for(t&&t(n);s<a.length;s++)o=a[s],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[a[s]]=0},n=self.webpackChunkOpenStadComponents_name_=self.webpackChunkOpenStadComponents_name_||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ChoicesGuide:()=>X,ChoicesGuideResult:()=>He,default:()=>X});__webpack_require__(7147),__webpack_require__(4794),__webpack_require__(1457),__webpack_require__(3462),__webpack_require__(4533),__webpack_require__(9116),__webpack_require__(7810);var e=__webpack_require__(3804),t=__webpack_require__.n(e),n=__webpack_require__(7196),r=__webpack_require__.n(n),o=(__webpack_require__(8805),__webpack_require__(7329)),a=__webpack_require__(6156),i=__webpack_require__(6610),c=__webpack_require__(5991),s=__webpack_require__(3349),u=__webpack_require__(379),l=__webpack_require__(6070),f=__webpack_require__(7608),d=__webpack_require__(1965),p=__webpack_require__.n(d),h=__webpack_require__(7961),v=__webpack_require__(2150),m=__webpack_require__(484),g=__webpack_require__(4315),y=__webpack_require__(1588);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var _=function(e){(0,u.Z)(n,e);var t=b(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).questionId=e.data.id,r.state={value:50,isAnswered:!1},r.onChangeHandler=r.onChangeHandler.bind((0,s.Z)(r)),r.showLightbox=r.showLightbox.bind((0,s.Z)(r)),r}return(0,c.Z)(n,[{key:"onChangeHandler",value:function(e){var t=this,n={value:e,isAnswered:!0,error:void 0};this.setState(n,(function(){t.liveUpdates()}))}},{key:"isValid",value:function(){var e=void 0!==(this.props.data||{}).value,t=this.state.isAnswered||!!this.config.startWithAllQuestionsAnsweredAndConfirmed;return!(!e&&!t)||(this.setState({error:"Je hebt nog geen keuze gemaakt"}),!1)}},{key:"getAnswer",value:function(){if(this.state.isAnswered){var e,t=this.props.data||{},n=(t.values,t.dimensions);try{n=JSON.parse(n)}catch(e){}return n=n||["x"],"number"==typeof this.state.value||"string"==typeof this.state.value?(e={},n.includes("x")&&(e.x=this.state.value),n.includes("y")&&(e.y=this.state.value),n.includes("z")&&(e.z=this.state.value)):(e={},n.includes("x")&&(e.x=this.state.value.x),n.includes("y")&&(e.y=this.state.value.y),n.includes("z")&&(e.z=this.state.value.z)),e}}},{key:"liveUpdates",value:function(){var e=new window.CustomEvent("osc-choices-guide-live-updates");document.dispatchEvent(e)}},{key:"toggleMoreInfo",value:function(e){var t=document.querySelector("#".concat(e));t&&(t.className.match(" osc-closed")?t.className=t.className.replace(" osc-closed"," osc-open"):t.className=t.className.replace(" osc-open"," osc-closed"))}},{key:"showLightbox",value:function(e){var t=this.props.data||{},n=t.values&&t.values.A&&t.values.A.questionImage;n&&n.length&&(Array.isArray(n)||(n=[n]),n=n[0]);var r=t.values&&t.values.B&&t.values.B.questionImage;r&&r.length&&(Array.isArray(r)||(r=[r]),r=r[0]);var o=[n,r],a=o.findIndex((function(t){return t==e})),i=new window.CustomEvent("osc-show-light-box",{detail:{images:o,startIndex:a,aspectRatio:this.config.aspectRatio}});document.dispatchEvent(i)}},{key:"render",value:function(){var e=this,t=this,n=t.props.data||{},r=!1;t.state.error&&(r=!0);var o=t.state.isAnswered,a=void 0!==n.value?n.value:"not defined";if("object"==(0,m.Z)(n.value)){var i=n.dimensions;"null"==i&&(i=null),i&&!i.includes("x")||(a=n.value.x),i&&i.includes("y")&&(a=n.value.y),i&&i.includes("z")&&(a=n.value.z)}"not defined"===a?a=this.state.value:o=!0;var c=null,s=n.images||[];if(s&&s.length){Array.isArray(s)||(s=[s]);var u=s[0];c=React.createElement("div",{className:"osc-question-image-container"},React.createElement(g.Image,{config:t.config,image:u}))}var l=null;if(n.moreInfo&&(n.moreInfo.title||n.moreInfo.text)){var f=n.moreInfo.title||"Geen titel",d=n.moreInfo.text||"Geen tekst",p="osc-moreInfo-".concat(parseInt(1e5*Math.random()));l=React.createElement("div",{className:"osc-accordeon"},React.createElement("div",{id:p,className:"osc-accordeon-item osc-closed",onClick:function(){return t.toggleMoreInfo(p)}},React.createElement("div",{className:"osc-title osc-info"},f),React.createElement("div",{className:"osc-description",dangerouslySetInnerHTML:{__html:d}})))}var h=n.values&&n.values.A&&n.values.A.label||"A",v=n.values&&n.values.B&&n.values.B.label||"B",b=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:n.description}}),l),_=null;switch(n.type){case"continuous":_=React.createElement("div",{className:"osc-question-selector"},React.createElement(y.default.Slider,{min:"0",max:"100",step:"1",value:a,className:"osc-question-selector-slider",config:{},touched:o,onChange:function(e){return t.onChangeHandler(e)},ref:function(e){return t.selector=e}}),React.createElement("div",{className:"osc-question-selector-minlabel",dangerouslySetInnerHTML:{__html:h}}),React.createElement("div",{className:"osc-question-selector-maxlabel",dangerouslySetInnerHTML:{__html:v}}));break;case"a-to-b":var w=n.values&&n.values.A&&n.values.A.labelBelow||"",E=n.values&&n.values.B&&n.values.B.labelBelow||"",R=n.values&&n.values.A&&n.values.A.questionText,x=n.values&&n.values.B&&n.values.B.questionText,k=null,C=null;R&&x&&(k=React.createElement("div",{className:"osc-question-description-text"},React.createElement("div",{className:"osc-question-description-label"},h),React.createElement("div",{className:"osc-question-description-labeled-text"},R)),C=React.createElement("div",{className:"osc-question-description-text"},React.createElement("div",{className:"osc-question-description-label"},v),React.createElement("div",{className:"osc-question-description-labeled-text"},x)),b=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:n.description}}),k,C,l));var I=n.values&&n.values.A&&n.values.A.questionImage;I&&I.length&&(Array.isArray(I)||(I=[I]),I=I[0]);var T=n.values&&n.values.B&&n.values.B.questionImage;T&&T.length&&(Array.isArray(T)||(T=[T]),T=T[0]);var S=null,q=null;I&&I.length&&T&&T.length&&(S=React.createElement("div",{className:"osc-question-description-image-container osc-question-description-image-container-a"},React.createElement("div",{className:"osc-question-description-label osc-question-description-label-a"},h),React.createElement("div",{className:"osc-question-image-container osc-question-image-aspect-".concat(t.config.aspectRatio)},React.createElement(g.Image,{config:{aspectRatio:t.config.aspectRatio},image:I,onClick:function(){return t.showLightbox(I)}}))),q=React.createElement("div",{className:"osc-question-description-image-container osc-question-description-image-container-b"},React.createElement("div",{className:"osc-question-description-label osc-question-description-label-b"},v),React.createElement("div",{className:"osc-question-image-container osc-question-image-aspect-".concat(t.config.aspectRatio)},React.createElement(g.Image,{config:{aspectRatio:t.config.aspectRatio},image:T,onClick:function(){return t.showLightbox(T)}})))),b=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:n.description}}),k,C,l,S,q,React.createElement("div",{style:{clear:"both",height:15}})),_=React.createElement("div",{className:"osc-question-selector"},React.createElement("div",{className:"osc-question-selector-label-a"},h),React.createElement("div",{className:"osc-question-selector-label-b"},v),React.createElement(y.default.Slider,{min:"0",max:"100",step:"1",value:a,className:"osc-question-selector-slider",config:{},touched:o,onChange:function(e){return t.onChangeHandler(e)},ref:function(e){return t.selector=e}}),React.createElement("div",{className:"osc-question-selector-minlabel",dangerouslySetInnerHTML:{__html:w||""}}),React.createElement("div",{className:"osc-question-selector-maxlabel",dangerouslySetInnerHTML:{__html:E||""}}));break;case"enum-radio":_=React.createElement("div",{className:"osc-question-selector"},n.values&&n.values.map((function(r,o){var a=parseInt(1e6*Math.random()),i=!1;"object"==(0,m.Z)(n.value)?(i=!0,Object.keys(n.value).forEach((function(e){n.value[e]!==r.value[e]&&(i=!1)}))):n.value===r.value&&(i=!0);"undefined"!=n.value?n.value:e.state.value;return React.createElement("div",{key:"div-value-".concat(a),className:"osc-radio-container"},React.createElement("div",{className:"osc-radio-input".concat(i?" osc-radio-input-checked":"")},React.createElement("input",{name:"enum-radio-".concat(n.id),type:"radio",onChange:function(){return t.onChangeHandler(r.value)},key:"button-value-".concat(a)})),React.createElement("div",{className:"osc-radio-text"},r.text))})));break;case"enum-buttons":_=React.createElement("div",{className:"osc-question-selector"},n.values&&n.values.map((function(e,n){return React.createElement("button",{onClick:function(){return t.onChangeHandler(e.value)},key:"button-value-".concat(n)},e.text)})));break;default:_=React.createElement("div",null,"Type ",n.type," is (nog) niet geimplementeerd.")}var O=null;return r&&(O=React.createElement("div",{className:"osc-error-text"},t.state.error)),React.createElement("div",{id:t.props.config.divId,className:"osc-question osc-question-".concat(n.type).concat(r?" osc-error":"")},c,React.createElement("div",{className:"osc-question-content",id:t.props.config.divId+"-content"},React.createElement("h3",{className:"osc-question-title"}," ",n.title),b,_,O))}}]),n}(h.Z);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var x=function(e){(0,u.Z)(n,e);var t=R(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).noOfQuestionsToShow=r.config.noOfQuestionsToShow||100,r.questionElements=[],r.state={currentQuestion:0,values:{}},r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){}},{key:"isValid",value:function(){var e=this,t=!0,n=e.props.data.questions.slice(e.state.currentQuestion,e.state.currentQuestion+e.noOfQuestionsToShow),r=!1;return n.forEach((function(n,o){e.questionElements[o].isValid()||(r||setTimeout((function(){console.log(e.questionElements[o]),console.log(e.questionElements[o].questionId);var t=document.querySelector("#osc-question-".concat(e.questionElements[o].questionId,"-content"));console.log(t),t&&t.scrollIntoView({behavior:"smooth"})}),250),r=!0,t=!1)})),t}},{key:"getAnswers",value:function(){var e=this,t=p()({},this.props.data&&this.props.data.values,e.state.values);return e.props.data&&e.props.data.questions.forEach((function(n,r){var o=e.questionElements.find((function(e){return e&&e.questionId==n.id}));o&&void 0!==o.getAnswer()&&(t[n.id]=o.getAnswer())})),e.setState({values:t}),t}},{key:"gotoNextQuestion",value:function(){if(!this.isValid())return{};var e=this.state.currentQuestion+this.noOfQuestionsToShow;return e>=this.props.data.questions.length?(e=0,this.setState({currentQuestion:e}),{isReady:!0,currentQuestion:e}):(this.setState({currentQuestion:e}),{isReady:!1,currentQuestion:e})}},{key:"gotoPreviousQuestion",value:function(){var e=this.state.currentQuestion-this.noOfQuestionsToShow;return e<0?(e=0,this.setState({currentQuestion:e}),{isBeginning:!0,currentQuestion:e}):(this.setState({currentQuestion:e}),{isBeginning:!1,currentQuestion:e})}},{key:"render",value:function(){var e,t=this,n=t.props.data||{questions:[]},r=n.questions.slice(t.state.currentQuestion,t.state.currentQuestion+t.noOfQuestionsToShow),o=p()({},this.props.data&&this.props.data.values,t.state.values);return e=React.createElement("div",{className:"osc-questions"},r.map((function(e,n){return React.createElement(_,{config:E(E({},t.config),{},{divId:"osc-question-".concat(e.id)}),data:E(E({},e),{},{value:o[e.id]}),key:"question-".concat(e.id),ref:function(e){t.questionElements[n]=e}})}))),React.createElement("div",{id:this.id,className:"osc-question-group"},React.createElement("h3",{className:"osc-question-group-title"},n.title),React.createElement("div",{className:"osc-question-group-description",dangerouslySetInnerHTML:{__html:n.description}}),e)}}]),n}(h.Z);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var C=function(e){(0,u.Z)(n,e);var t=k(n);function n(e){var r;return(0,i.Z)(this,n),null==(r=t.call(this,e,{type:"default",withPercentage:!1,minLabel:null,maxLabel:null,barColor:{default:"#bed200",min:"#ff9100",max:"#bed200"}})).config.barColor.min&&(r.config.barColor.min="#ff9100"),null==r.config.barColor.max&&(r.config.barColor.max="#bed200"),r.answers=e.data&&e.data.answers||{},Object.keys(r.answers).forEach((function(e){r.answers[e]==parseInt(r.answers[e])&&(r.answers[e]={x:parseInt(r.answers[e])})})),r.state={score:r.props.score||0},r}return(0,c.Z)(n,[{key:"getTitle",value:function(e,t){return this.props.data&&this.props.data.title}},{key:"calculateScore",value:function(e){var t=this,n=this.answers,r=e||{},o=(Object.keys(n).length,{});Object.keys(n).forEach((function(e){var a=n[e]||{},i=r[e]||(t.config.startWithAllQuestionsAnswered?{x:50,y:50,z:50}:{}),c=o[e]={};["x","y","z"].forEach((function(e){if(void 0!==a[e]&&""!=a[e]&&void 0!==i[e]&&""!=i[e])return c[e]=100-Math.abs(a[e]-i[e])}))}));var a={};return Object.keys(n).forEach((function(e){["x","y","z"].forEach((function(t){a[t]=a[t]||{score:[],noOfAnswers:0},void 0!==o[e][t]&&a[t].score.push(o[e][t]),n[e]&&""!=n[e][t]&&void 0!==n[e][t]&&a[t].noOfAnswers++}))})),Object.keys(a).forEach((function(e){a[e]=a[e].score.length?a[e].score.reduce((function(e,t){return e+t}))/a[e].noOfAnswers:void 0})),this.setState({score:a}),a}},{key:"render",value:function(){var e=this,t=e.state.score,n=null;switch(this.config.type){case"plane":var r=null,o=this.props.data&&this.props.data.images||[];if(o&&o.length){Array.isArray(o)||(o=[o]);var a=o[0],i=a;"object"==(0,m.Z)(a)&&(i=a.src),r=React.createElement("img",{className:"osc-choice-plane-background-image",src:i,style:{width:this.props.baseSize/2,height:this.props.baseSize/2}})}return React.createElement("div",{className:"osc-choice-plane",style:{width:this.props.baseSize/2,height:this.props.baseSize/2}},r);case"minus-to-plus-100":var c=null,s=parseInt(2*(t.x-50))||0;e.config.withPercentage&&(c=React.createElement("div",{className:"osc-percentage"},s));var u=e.config.barColor.max.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i),l=e.config.barColor.min.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i),f=parseInt(l[1],16)+(parseInt(u[1],16)-parseInt(l[1],16))*(t.x/100),d=parseInt(l[2],16)+(parseInt(u[2],16)-parseInt(l[2],16))*(t.x/100),p=parseInt(l[3],16)+(parseInt(u[3],16)-parseInt(l[3],16))*(t.x/100),h={backgroundColor:"rgb(".concat(f,",").concat(d,",").concat(p,")")};s>=0&&(h.width=s/2+"%",h.left="50%",h.right="auto"),s<0&&(h.width=-s/2+"%",h.left="auto",h.right="50%"),n=React.createElement("div",{className:"osc-choice-default"},React.createElement("h4",null,e.props.data.title),React.createElement("div",{className:"osc-choice-bar osc-from-center".concat(e.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-progress",style:h})),c);break;default:var v=null;if(e.config.withPercentage){var g=parseInt(t.x)||0;v=React.createElement("div",{className:"osc-percentage"},g,"%")}h={width:(t.x||0)+"%",backgroundColor:e.config.barColor.default},n=React.createElement("div",{className:"osc-choice-default"},React.createElement("h4",null,e.props.data.title),React.createElement("div",{className:"osc-choice-bar".concat(e.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-mask"}),React.createElement("div",{className:"osc-choice-bar-progress",style:h})),v)}var y=null;return(e.config.minLabel||e.config.maxLabel)&&(y=React.createElement("div",{className:"osc-minmax-labels"},React.createElement("div",{className:"osc-min-label"},e.config.minLabel),React.createElement("div",{className:"osc-max-label"},e.config.maxLabel))),React.createElement("li",{className:"osc-choice"},n,y)}}]),n}(h.Z);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var q=function(e){(0,u.Z)(n,e);var t=S(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e,{type:"default",withPercentage:!1,minLabel:null,maxLabel:null})).choiceElements=[],r.state={title:"Je hebt nog geen keuze gemaakt",scores:e.scores,planePos:{x:50,y:50}},r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.choicesClickListener=function(e){n.setState({random:Math.random()})},document.addEventListener("osc-choices-click",n.choicesClickListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-choices-click",self.choicesClickListener)}},{key:"calculateScores",value:function(e){var t=this,n={};t.choiceElements.forEach((function(t){n[t.props.data.id]=t.calculateScore(e)}));var r={x:50,y:50};if(t.config.type){var o=Object.keys(e);if(o.length){r={x:0,y:0};var a={x:0,y:0,z:0};o.forEach((function(t){var n=e[t];["x","y","z"].forEach((function(e){void 0!==n[e]&&(r[e]+=parseInt(n[e])||0,a[e]++)}))})),r.x=a.x?parseInt(r.x/a.x):void 0,r.y=a.y?parseInt(r.y/a.y):void 0}}return t.setState({answers:e,scores:n,planePos:r}),{answers:e,scores:n,planePos:r}}},{key:"getPreferedChoice",value:function(e){var t=e.scores,n=e.planePos,r=this;if(t=t||r.state.scores,"plane"===r.config.type)return(n=n||r.state.planePos).x<50&&n.y<50?r.choiceElements[0]:n.x>50&&n.y<50?r.choiceElements[1]:n.x<50&&n.y>50?r.choiceElements[2]:n.x>50&&n.y>50?r.choiceElements[3]:null;var o=Object.keys(t).sort((function(e,n){return t[n].x-t[e].x})),a=o[0],i=o[1];return(a&&t[a].x)!=(i&&t[i].x)?r.choiceElements.find((function(e){return e&&e.props&&e.props.data&&e.props.data.id==a})):void 0}},{key:"render",value:function(){var e=this;if("plane"===this.config.type){var t=document.querySelector("#".concat(this.divId))&&document.querySelector("#".concat(this.divId)).offsetWidth-1||180,n=(void 0===e.state.planePos.y?50:e.state.planePos.y)*(t/100),r=(void 0===e.state.planePos.x?50:e.state.planePos.x)*(t/100);return React.createElement("div",{id:this.divId,className:"osc-choices osc-choice-plane-plane",ref:function(t){e.planePlaneElement=t}},Object.keys(e.props.choices).map((function(n,r){var o=e.props.choices[n];return React.createElement(C,{config:T({divId:"choice-".concat(o.id)},e.config),data:o,score:e.props.scores&&e.props.scores["choice-".concat(o.id)],key:"choice-".concat(o.id),baseSize:t,ref:function(t){e.choiceElements[r]=t}})})),React.createElement("div",{className:"osc-point",style:{top:n,left:r}}),React.createElement("div",{style:{clear:"both"}}))}return React.createElement("ul",{className:"osc-choices"},Object.keys(e.props.choices).map((function(t,n){var r=e.props.choices[t];return React.createElement(C,{config:T({divId:"choice-".concat(r.id)},e.config),data:r,score:e.props.scores&&e.props.scores["choice-".concat(r.id)],key:"choice-".concat(r.id),ref:function(t){e.choiceElements[n]=t}})})))}}]),n}(h.Z);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var A=React.lazy((function(){return Promise.all([__webpack_require__.e(439),__webpack_require__.e(779)]).then(__webpack_require__.bind(__webpack_require__,6779))})),N=function(t){(0,u.Z)(r,t);var n=O(r);function r(e){var t;return(0,i.Z)(this,r),(t=n.call(this,e)).state={questionEditModeIndex:null},t}return(0,c.Z)(r,[{key:"handleFieldChange",value:function(e){var t;e.questionId&&((t=p().recursive(!0,{},this.props.currentTarget.answers))[e.questionId]=t[e.questionId]||{},"object"!=(0,m.Z)(t[e.questionId])&&(t[e.questionId]={x:t[e.questionId]}),t[e.questionId][e.dimension]=e.value),t=t||e,this.props.onChange({answers:t})}},{key:"toggleEditMode",value:function(e){this.setState({questionEditModeIndex:this.state.questionEditModeIndex!=e?e:null})}},{key:"render",value:function(){var t=this,n=(t.props.currentTarget.answers,React.createElement("div",{className:"osc-overview"},React.createElement("div",{className:"osc-overview-questions"},React.createElement("div",{className:"osc-overview-line"}),React.createElement("div",{className:"osc-overview-line"},React.createElement("div",{className:"osc-overview-line-content"},React.createElement("strong",null,"Vraag")),React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"X")),t.props.currentTarget.questionGroup.answerDimensions>1&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"Y")),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("div",{style:{width:"30px"}}))),Object.keys(t.props.currentTarget.questionGroup.questions).map((function(e,n){var r=t.props.currentTarget.questionGroup.questions[e],o=[],a=r.dimensions||["x"];return(-1!=a.indexOf("x")||t.props.currentTarget.questionGroup&&1==t.props.currentTarget.questionGroup.answerDimensions)&&o.push("x"),-1!=a.indexOf("y")&&t.props.currentTarget.questionGroup&&2==t.props.currentTarget.questionGroup.answerDimensions&&o.push("y"),React.createElement("div",{className:"osc-overview-line",key:"question-".concat(r.id)},React.createElement("div",{className:"osc-overview-line-content"},r.title," (",r.id,")"),["x","y"].map((function(e,a){if(!o.includes(e))return 1==t.props.currentTarget.questionGroup.answerDimensions?null:React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field",key:"field-".concat(a)});var i=t.props.currentTarget.answers&&t.props.currentTarget.answers[r.id]&&("object"==(0,m.Z)(t.props.currentTarget.answers[r.id])?t.props.currentTarget.answers[r.id][e]:t.props.currentTarget.answers[r.id]);return t.state.questionEditModeIndex==n?React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field",key:"field-".concat(a)},React.createElement(y.default.Text,{config:{},value:i,onChange:function(n){return t.handleFieldChange({questionId:r.id,dimension:e,value:n.value})},ref:function(e){return t.questionImageBField=e}})):React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field",key:"field-".concat(a)},i)})),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("a",{className:"osc-edit-button",onClick:function(e){return t.toggleEditMode(n)}})))}))))),r=null;return t.props.currentTarget.questionGroup&&t.props.currentTarget.questionGroup.answerDimensions>1&&(r=React.createElement("div",null,React.createElement("h3",null,"Afbeelding"),React.createElement(e.Suspense,{fallback:React.createElement("div",null,"Loading...")},React.createElement(A,{config:t.config,value:t.props.currentTarget.images,onChange:function(e){return t.props.onChange({images:e.value})},ref:function(e){return t.imagesField=e}})))),React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(y.default.InputWithCounter,{config:{inputType:"input",minLength:2,maxLength:255},value:t.props.currentTarget.title,onChange:function(e){return t.props.onChange({title:e.value})},ref:function(e){return t.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(y.default.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:t.props.currentTarget.description,onChange:function(e){return t.props.onChange({description:e.value})},ref:function(e){return t.descriptionField=e}}),r,React.createElement("h3",null,"Antwoorden"),n)}}]),r}(h.Z);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var P=function(e){(0,u.Z)(n,e);var t=Z(n);function n(e){return(0,i.Z)(this,n),t.call(this,e)}return(0,c.Z)(n,[{key:"handleFieldChange",value:function(e){var t,n=this,r=!1;void 0!==e.isActive&&(r=n.props.currentTarget.choicesGuideConfig.isActive!=e.isActive,(t={choicesGuideConfig:p().recursive({},n.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.isActive=e.isActive),void 0!==e.submissionType&&(r=n.props.currentTarget.choicesGuideConfig.submissionType!=e.submissionType,(t={choicesGuideConfig:p().recursive({},n.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.submissionType=e.submissionType),void 0!==e.withExisting&&(r=n.props.currentTarget.choicesGuideConfig.withExisting!=e.withExisting,(t={choicesGuideConfig:p().recursive({},n.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.withExisting=e.withExisting),void 0!==e.requiredUserRole&&(r=n.props.currentTarget.choicesGuideConfig.requiredUserRole!=e.requiredUserRole,(t={choicesGuideConfig:p().recursive({},n.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.requiredUserRole=e.requiredUserRole||null),t=t||e,n.props.onChange(t,r)}},{key:"render",value:function(){var e=this,t=e.props.currentTarget.choicesGuideConfig||{},n=null;if(0!=!!t.isActive&&"false"!=t.isActive&&"0"!=t.isActive){var r=null;if("form"==t.submissionType){var o=null;"member"==t.requiredUserRole&&(o=React.createElement("div",null,React.createElement("h4",null,"Als er al een inzending is voor deze gebruiker"),React.createElement(y.default.Select,{config:{choices:[{value:"replace",description:"Overschrijf het bestaande resultaat"},{value:"error",description:"Geef een foutmelding"}]},value:t.withExisting,onChange:function(t){return e.handleFieldChange({withExisting:t.value})},ref:function(t){return e.withExistingField=t}}))),r=React.createElement("div",null,React.createElement("h4",null,"Om te kunnnen insturen moet een gebruiker ingelogd zijn"),React.createElement(y.default.Select,{config:{choices:[{value:null,description:"Nee"},{value:"member",description:"Ja"}]},value:t.requiredUserRole,onChange:function(t){return e.handleFieldChange({requiredUserRole:t.value})},ref:function(t){return e.requiredUserRoleField=t}}),o)}n=React.createElement("div",null,React.createElement("h4",null,"Opslaan van de resultaten"),React.createElement(y.default.Select,{config:{choices:[{value:"none",description:"Niet opslaan"},{value:"auto",description:"Automatisch opslaan"},{value:"form",description:"Laat eerst een formulier invullen"}]},value:t.submissionType,onChange:function(t){return e.handleFieldChange({submissionType:t.value})},ref:function(t){return e.submissionTypeField=t}}),r)}return React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Naam"),React.createElement("div",{className:"osc-form-description"},"Geef deze keuzewijzer een naam, zodat deze makkelijk terug te vinden is in de 'Keuzewijzer' en 'Keuzewijzer resultaat' widget."),React.createElement(y.default.InputWithCounter,{key:"x1",config:{inputType:"input",minLength:2,maxLength:255},value:e.props.currentTarget.title,onChange:function(t){return e.handleFieldChange({title:t.value})},ref:function(t){e.titleField=t}}),React.createElement("h4",null,"Deze keuzewijzer is actief"),React.createElement(y.default.Select,{config:{choices:[{value:"true",description:"Ja"},{value:"false",description:"Nee"}]},value:t.isActive,onChange:function(t){return e.handleFieldChange({isActive:t.value})},ref:function(t){return e.isActiveField=t}}),n)}}]),n}(h.Z);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var j=React.lazy((function(){return Promise.all([__webpack_require__.e(439),__webpack_require__.e(779)]).then(__webpack_require__.bind(__webpack_require__,6779))})),D=function(t){(0,u.Z)(r,t);var n=L(r);function r(e){var t;return(0,i.Z)(this,r),(t=n.call(this,e)).handleFieldChange=t.handleFieldChange.bind((0,s.Z)(t)),t.state={valueEditModeIndex:null,showMoreInfoFields:t.props.currentTarget.moreInfo&&(t.props.currentTarget.moreInfo.text||t.props.currentTarget.moreInfo.title)?"yes":"no"},t}return(0,c.Z)(r,[{key:"handleFieldChange",value:function(e){var t,n=this;if(void 0!==e.type&&(t={type:e.type},n.props.currentTarget.type&&"a-to-b"!=n.props.currentTarget.type||"enum-radio"!=e.type||(t.values=[]),n.props.currentTarget.type&&"enum-radio"!=n.props.currentTarget.type||"a-to-b"!=e.type||(t.values={A:{},B:{}})),void 0!==e.moreInfoTitle&&((t={moreInfo:p().recursive({},n.props.currentTarget.moreInfo)}).moreInfo.title=e.moreInfoTitle),void 0!==e.moreInfoText&&((t={moreInfo:p().recursive({},n.props.currentTarget.moreInfo)}).moreInfo.text=e.moreInfoText),void 0!==e.questionTextA&&((t={values:p().recursive({},n.props.currentTarget.values)}).values.A.questionText=e.questionTextA),void 0!==e.questionImageA){t={values:p().recursive({},n.props.currentTarget.values)};var r=e.questionImageA;try{r=JSON.parse(r)}catch(e){}t.values.A.questionImage=r}if(void 0!==e.questionTextA&&((t={values:p().recursive({},n.props.currentTarget.values)}).values.A.questionText=e.questionTextA),void 0!==e.labelA&&((t={values:p().recursive({},n.props.currentTarget.values)}).values.A.label=e.labelA),void 0!==e.labelB&&((t={values:p().recursive({},n.props.currentTarget.values)}).values.B.label=e.labelB),void 0!==e.labelBelowA&&((t={values:p().recursive({},n.props.currentTarget.values)}).values.A.labelBelow=e.labelBelowA),void 0!==e.labelBelowB&&((t={values:p().recursive({},n.props.currentTarget.values)}).values.B.labelBelow=e.labelBelowB),void 0!==e.questionImageB){t={values:p().recursive({},n.props.currentTarget.values)};var o=e.questionImageB;try{o=JSON.parse(o)}catch(e){}t.values.B.questionImage=o}if(void 0!==e.questionTextB&&((t={values:p().recursive({},n.props.currentTarget.values)}).values.B.questionText=e.questionTextB),void 0!==e.newValue&&((t={values:n.props.currentTarget.values||[]}).values.push(e.newValue),this.setEditMode(t.values.length-1)),void 0!==e.deleteIndex&&(t={values:n.props.currentTarget.values||[]}).values.splice(e.deleteIndex,1),void 0!==e.valueIndex)if((t={values:n.props.currentTarget.values||[]}).values[e.valueIndex]=t.values[e.valueIndex]||{text:"",value:{}},e.move){if("up"==e.move&&e.valueIndex>0){var a=t.values[e.valueIndex];t.values[e.valueIndex]=t.values[e.valueIndex-1],t.values[e.valueIndex-1]=a}if("down"==e.move&&e.valueIndex<t.values.length-1){var i=t.values[e.valueIndex];console.log(i),t.values[e.valueIndex]=t.values[e.valueIndex+1],t.values[e.valueIndex+1]=i}}else e.valueDimension?void 0!==e.valueValue&&("object"!=(0,m.Z)(t.values[e.valueIndex].value)&&(t.values[e.valueIndex].value={}),t.values[e.valueIndex].value[e.valueDimension]=e.valueValue):t.values[e.valueIndex].text=e.valueText;t=t||e,n.props.onChange(t)}},{key:"setShowMoreInfoFields",value:function(e){this.setState({showMoreInfoFields:e},(function(){}))}},{key:"toggleEditMode",value:function(e){var t=this.state.valueEditModeIndex!=e?e:null;this.setEditMode(t)}},{key:"setEditMode",value:function(e){var t=this;this.setState({valueEditModeIndex:e},(function(){null!=t.state.valueEditModeIndex&&(t["osc-question-button-text-".concat(t.state.valueEditModeIndex)]&&t["osc-question-button-text-".concat(t.state.valueEditModeIndex)].input).focus()}))}},{key:"render",value:function(){var t=this,n=(t.state.showMoreInfoFields,React.createElement("div",null,React.createElement("h3",null,"Extra info"),React.createElement("div",{className:"osc-form-description"},"Wilt u een blok met uitklapbare tekst toevoegen? (bijvoorbeeld met extra uitleg)"),React.createElement(y.default.Select,{config:{choices:[{value:"yes",description:"Ja"},{value:"no",description:"Nee"}]},value:t.state.showMoreInfoFields,onChange:function(e){return t.setShowMoreInfoFields(e.value)}})));"yes"==t.state.showMoreInfoFields&&(n=React.createElement("div",null,React.createElement("h3",null,"Meer informatie titel"),React.createElement(y.default.InputWithCounter,{config:{inputType:"text",minLength:0,maxLength:255},value:t.props.currentTarget.moreInfo&&t.props.currentTarget.moreInfo.title,onChange:function(e){return t.handleFieldChange({moreInfoTitle:e.value})},ref:function(e){return t.moreInfoField=e}}),React.createElement("h3",null,"Meer informatie text"),React.createElement(y.default.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:t.props.currentTarget.moreInfo&&t.props.currentTarget.moreInfo.text,onChange:function(e){return t.handleFieldChange({moreInfoText:e.value})},ref:function(e){return t.moreInfoField=e}})));var r=null;if("continuous"==t.props.currentTarget.type&&(r=React.createElement("div",null,React.createElement("h3",null,"Label minimale waarde"),React.createElement(y.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:255},value:t.props.currentTarget.minLabel,onChange:function(e){return t.props.onChange({minLabel:e.value})},ref:function(e){return t.minLabelField=e}}),React.createElement("h3",null,"Label maximale waarde"),React.createElement(y.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:t.props.currentTarget.maxLabel,onChange:function(e){return t.props.onChange({maxLabel:e.value})},ref:function(e){return t.maxLabelField=e}}))),"a-to-b"==t.props.currentTarget.type&&(r=React.createElement("div",{className:"osc-column-container"},React.createElement("div",{className:"osc-columns"},React.createElement("div",{className:"osc-column osc-2-columns"},React.createElement("h3",null,"Label voor A"),React.createElement(y.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:t.props.currentTarget.values&&t.props.currentTarget.values.A&&(void 0!==t.props.currentTarget.values.A.label?t.props.currentTarget.values.A.label:"A"),onChange:function(e){return t.handleFieldChange({labelA:e.value})},ref:function(e){return t.labelField=e}}),React.createElement("h3",null,"Label onder slider A"),React.createElement(y.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:t.props.currentTarget.values&&t.props.currentTarget.values.A&&(void 0!==t.props.currentTarget.values.A.labelBelow?t.props.currentTarget.values.A.labelBelow:"0"),onChange:function(e){return t.handleFieldChange({labelBelowA:e.value})},ref:function(e){return t.labelBelowField=e}}),React.createElement("h3",null,"Uitleg bij A"),React.createElement(y.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:t.props.currentTarget.values&&t.props.currentTarget.values.A&&t.props.currentTarget.values.A.questionText,onChange:function(e){return t.handleFieldChange({questionTextA:e.value})},ref:function(e){return t.minLabelField=e}}),React.createElement("h3",null,"Afbeelding bij A"),React.createElement(e.Suspense,{fallback:React.createElement("div",null,"Loading...")},React.createElement(j,{config:t.config,value:t.props.currentTarget.values&&t.props.currentTarget.values.A&&t.props.currentTarget.values.A.questionImage,onChange:function(e){return t.handleFieldChange({questionImageA:e.value})},ref:function(e){return t.questionImageAField=e}}))),React.createElement("div",{className:"osc-column osc-2-columns"},React.createElement("h3",null,"Label voor B"),React.createElement(y.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:t.props.currentTarget.values&&t.props.currentTarget.values.B&&(void 0!==t.props.currentTarget.values.B.label?t.props.currentTarget.values.B.label:"B"),onChange:function(e){return t.handleFieldChange({labelB:e.value})},ref:function(e){return t.labelField=e}}),React.createElement("h3",null,"Label onder slider B"),React.createElement(y.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:t.props.currentTarget.values&&t.props.currentTarget.values.B&&(void 0!==t.props.currentTarget.values.B.labelBelow?t.props.currentTarget.values.B.labelBelow:"100"),onChange:function(e){return t.handleFieldChange({labelBelowB:e.value})},ref:function(e){return t.labelBelowField=e}}),React.createElement("h3",null,"Uitleg bij B"),React.createElement(y.default.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:t.props.currentTarget.values&&t.props.currentTarget.values.B&&t.props.currentTarget.values.B.questionText,onChange:function(e){return t.handleFieldChange({questionTextB:e.value})},ref:function(e){return t.minLabelField=e}}),React.createElement("h3",null,"Afbeelding bij B"),React.createElement(e.Suspense,{fallback:React.createElement("div",null,"Loading...")},React.createElement(j,{config:t.config,value:t.props.currentTarget.values&&t.props.currentTarget.values.B&&t.props.currentTarget.values.B.questionImage,onChange:function(e){return t.handleFieldChange({questionImageB:e.value})},ref:function(e){return t.questionImageBField=e}})))))),"enum-buttons"==t.props.currentTarget.type||"enum-radio"==t.props.currentTarget.type){var o=t.props.currentTarget.dimensions||"['x']";r=React.createElement("div",null,React.createElement("h3",null,"Opties"),React.createElement("div",{className:"osc-overview"},React.createElement("div",{className:"osc-overview-question-options"},React.createElement("div",{className:"osc-overview-line"},React.createElement("div",{className:"osc-overview-line-content"},React.createElement("strong",null,"Tekst")),t.props.currentTarget.questionGroup&&1==t.props.currentTarget.questionGroup.answerDimensions&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"Waarde")),t.props.currentTarget.questionGroup&&t.props.currentTarget.questionGroup.answerDimensions>1&&("['x']"==o||"['x','y']"==o)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"X")),(t.props.currentTarget.questionGroup&&t.props.currentTarget.questionGroup.answerDimensions)>1&&("['y']"==o||"['x','y']"==o)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"Y")),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("div",{style:{width:"60px"}}))),t.props.currentTarget.values&&t.props.currentTarget.values.map&&t.props.currentTarget.values.map((function(e,n){var r=function(r,o){var a=o?e[r][o]:e[r];return t.state.valueEditModeIndex==n?React.createElement(y.default.Text,{value:a,onChange:function(e){return t.handleFieldChange({valueIndex:n,valueDimension:o,valueText:e.value,valueValue:e.value})},ref:function(e){return t["osc-question-button-".concat(r,"-").concat(n)]=e}}):a};return React.createElement("div",{className:"osc-overview-line",key:"option-".concat(n)},React.createElement("div",{className:"osc-overview-line-content"},r("text")),("['x']"==o||"['x','y']"==o)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},r("value","x")),("['y']"==o||"['x','y']"==o)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},r("value","y")),React.createElement("div",{className:"osc-overview-line-buttons"},n<t.props.currentTarget.values.length-1?React.createElement("a",{className:"osc-arrow-down-button",onClick:function(e){return t.handleFieldChange({valueIndex:n,move:"down"})}}):React.createElement("div",{className:"osc-no-button"}),n>0?React.createElement("a",{className:"osc-arrow-up-button",onClick:function(e){return t.handleFieldChange({valueIndex:n,move:"up"})}}):React.createElement("div",{className:"osc-no-button"}),React.createElement("a",{className:"osc-edit-button",onClick:function(e){return t.toggleEditMode(n)}}),React.createElement("a",{className:"osc-delete-button",onClick:function(e){return t.handleFieldChange({deleteIndex:n})}})))})),React.createElement("div",{className:"osc-overview-line"},React.createElement("a",{onClick:function(){return t.handleFieldChange({newValue:{text:"",value:{x:"50",y:"50"}}})}},"Nieuwe optie toevoegen")))))}var a=null;return t.props.currentTarget.questionGroup&&t.props.currentTarget.questionGroup.answerDimensions>1&&(a=React.createElement("div",null,React.createElement("h3",null,"Deze vraag heeft invloed in de richting"),React.createElement(y.default.Select,{config:{choices:[{value:"['x']",description:"Alleen X"},{value:"['y']",description:"Alleen Y"},{value:"['x','y']",description:"X en Y"}]},value:t.props.currentTarget.dimensions,onChange:function(e){return t.props.onChange({dimensions:e.value})},ref:function(e){return t.dimensionsField=e}}))),React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(y.default.InputWithCounter,{config:{inputType:"text",minLength:2,maxLength:255},value:t.props.currentTarget.title,onChange:function(e){return t.props.onChange({title:e.value})},ref:function(e){return t.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(y.default.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:t.props.currentTarget.description,onChange:function(e){return t.props.onChange({description:e.value})},ref:function(e){return t.descriptionField=e}}),n,React.createElement("h3",null,"Afbeelding boven de vraag"),React.createElement(e.Suspense,{fallback:React.createElement("div",null,"Loading...")},React.createElement(j,{config:t.config,value:t.props.currentTarget.images,onChange:function(e){return t.props.onChange({images:e.value})},ref:function(e){return t.imagesField=e}})),React.createElement("h3",null,"Type vraag"),React.createElement(y.default.Select,{config:{choices:[{value:"",description:"Maak een keuze"},{value:"a-to-b",description:"van a naar b slider"},,{value:"enum-radio",description:"radio buttons"}],required:!0},value:t.props.currentTarget.type,onChange:function(e){return t.handleFieldChange({type:e.value})},ref:function(e){return t.typeField=e}}),r,a)}}]),r}(h.Z);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var M=function(e){(0,u.Z)(n,e);var t=G(n);function n(e){return(0,i.Z)(this,n),t.call(this,e)}return(0,c.Z)(n,[{key:"render",value:function(){var e=this;return React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(y.default.InputWithCounter,{config:{inputType:"input",minLength:2,maxLength:255},value:e.props.currentTarget.title,onChange:function(t){return e.props.onChange({title:t.value})},ref:function(t){return e.titleField=t}}),React.createElement("h3",null,"Beschrijving"),React.createElement(y.default.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:e.props.currentTarget.description,onChange:function(t){return e.props.onChange({description:t.value})},ref:function(t){return e.descriptionField=t}}),React.createElement("h3",null,"Aantal dimensies voor antwoorden"),React.createElement(y.default.Select,{config:{choices:[{value:"1",description:"1 - Lineair"},{value:"2",description:"2 - Matrix"}]},value:e.props.currentTarget.answerDimensions,onChange:function(t){return e.props.onChange({answerDimensions:t.value})},ref:function(t){return e.answerDimensionsField=t}}),React.createElement("h3",null,"Volgorde nummer"),React.createElement(y.default.Text,{config:{},value:e.props.currentTarget.seqnr,onChange:function(t){return e.props.onChange({seqnr:t.value})},ref:function(t){return e.seqnrField=t}}))}}]),n}(h.Z);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var B=function(e){(0,u.Z)(n,e);var t=F(n);function n(e){return(0,i.Z)(this,n),t.call(this,e)}return(0,c.Z)(n,[{key:"render",value:function(){var e=this,t=null;return(!e.props.questionGroups||e.props.questionGroups.length<1)&&(t=React.createElement("a",{href:"#",onClick:function(t){return e.props.setCurrentForm({what:"question-group"})}},"Nieuwe vraaggroep")),React.createElement("div",{className:"osc-overview"},React.createElement("h2",null,"Vraaggroepen"),Object.keys(e.props.questionGroups).map((function(t,n){var r=e.props.questionGroups[t],o=React.createElement("div",{className:"osc-overview-questions"},React.createElement("div",{className:"osc-overview-line"},React.createElement("h4",null,"Vragen")),Object.keys(r.questions).map((function(t,n){var o=r.questions[t];return React.createElement("div",{className:"osc-overview-line",key:"question-".concat(o.id)},React.createElement("div",{className:"osc-overview-line-content"},o.title),React.createElement("div",{className:"osc-overview-line-buttons"},n<r.questions.length-1?React.createElement("a",{className:"osc-arrow-down-button",onClick:function(t){return e.props.updateSeqnr({what:"question",move:"down",questionGroupId:r.id,questionId:o.id})}}):React.createElement("div",{className:"osc-no-button"}),n>0?React.createElement("a",{className:"osc-arrow-up-button",onClick:function(t){return e.props.updateSeqnr({what:"question",move:"up",questionGroupId:r.id,questionId:o.id})}}):React.createElement("div",{className:"osc-no-button"}),React.createElement("a",{className:"osc-edit-button",onClick:function(t){return e.props.setCurrentForm({what:"question",questionGroupId:r.id,questionId:o.id})}}),React.createElement("a",{className:"osc-delete-button",onClick:function(t){return e.props.deleteElement({what:"question",questionGroupId:r.id,questionId:o.id,title:o.title})}})))})),React.createElement("div",{className:"osc-overview-line"},React.createElement("a",{onClick:function(t){return e.props.setCurrentForm({what:"question",questionGroupId:r.id})}},"Nieuwe vraag"))),a=React.createElement("div",{className:"osc-overview-choices"},React.createElement("h4",null,"Keuze opties"),Object.keys(r.choices).map((function(t,n){var o=r.choices[t];return React.createElement("div",{className:"osc-overview-line",key:"choice-".concat(o.id)},React.createElement("div",{className:"osc-overview-line-content"},o.title),React.createElement("div",{className:"osc-overview-line-buttons"},n<r.choices.length-1?React.createElement("a",{className:"osc-arrow-down-button",onClick:function(t){return e.props.updateSeqnr({what:"choice",move:"down",questionGroupId:r.id,choiceId:o.id})}}):React.createElement("div",{className:"osc-no-button"}),n>0?React.createElement("a",{className:"osc-arrow-up-button",onClick:function(t){return e.props.updateSeqnr({what:"choice",move:"up",questionGroupId:r.id,choiceId:o.id})}}):React.createElement("div",{className:"osc-no-button"}),React.createElement("a",{className:"osc-edit-button",onClick:function(t){return e.props.setCurrentForm({what:"choice",questionGroupId:r.id,choiceId:o.id})}}),React.createElement("a",{className:"osc-delete-button",onClick:function(t){return e.props.deleteElement({what:"choice",questionGroupId:r.id,choiceId:o.id,title:o.title})}})))})),React.createElement("div",{className:"osc-overview-line",key:"choice-new"},React.createElement("a",{onClick:function(t){return e.props.setCurrentForm({what:"choice",questionGroupId:r.id})}},"Nieuwe keuze optie"))),i=React.createElement("div",{className:"osc-no-button"});return 0==Object.keys(r.choices).length&&0==Object.keys(r.questions).length&&1!=e.props.questionGroups.length&&(i=React.createElement("a",{className:"osc-delete-button",onClick:function(t){return e.props.deleteElement({what:"question-group",questionGroupId:r.id,title:r.title})}})),React.createElement("div",{className:"osc-overview-question-group",key:"questiongroup-".concat(r.id)},React.createElement("div",{className:"osc-overview-line"},React.createElement("div",{className:"osc-overview-line-content"},React.createElement("h3",null,r.title)),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("a",{className:"osc-edit-button",onClick:function(t){return e.props.setCurrentForm({what:"question-group",questionGroupId:r.id})}}),i)),o,a)})),React.createElement("br",null),React.createElement("br",null),t)}}]),n}(h.Z);function U(e){var t=e.config,n="".concat(t.api&&t.api.url,"/api/site/").concat(t.siteId,"/choicesguide/").concat(t.choicesGuideId,"?includeChoices=1&includeQuestions=1"),r=v.ZP.api.getHeaders();return fetch(n,{headers:r}).then((function(e){return e.json()})).then((function(e){var t={choicesGuideId:e.id,images:e.images,choicesGuideConfig:e.config,title:e.title,description:e.description,choices:e.choices||[],questionGroups:e.questiongroups||[],status:"active"};return t.questionGroups&&t.questionGroups.map&&t.questionGroups.map((function(e){e.questions&&e.questions.map&&e.questions.map((function(e){"continuous"==e.type&&(e.type="a-to-b"),"enum-buttons"==e.type&&(e.type="enum-radio"),"a-to-b"==e.type&&(e.values&&e.values.A&&(e.values.A.labelBelow=void 0!==e.values.A.labelBelow?e.values.A.labelBelow:e.minLabel),e.values&&e.values.B&&(e.values.B.labelBelow=void 0!==e.values.B.labelBelow?e.values.B.labelBelow:e.maxLabel))}))})),t.questionGroups&&t.questionGroups.map&&t.questionGroups.map((function(e){if(e.questions&&e.questions.map){var t=e.questions.map((function(e){return e.id}));e.choices&&e.choices.map&&e.choices.map((function(e){e.answers&&Object.keys(e.answers).map((function(e){return parseInt(e)})).filter((function(e){return-1==t.indexOf(e)})).map((function(t){return delete e.answers[t]}))}))}})),t}))}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var V=function(e){(0,u.Z)(n,e);var t=H(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e,{siteId:null,loginUrl:null,noOfQuestionsToShow:100,api:{url:null},image:{}})).handleFieldChange=r.handleFieldChange.bind((0,s.Z)(r)),r.setCurrentForm=r.setCurrentForm.bind((0,s.Z)(r)),r.deleteElement=r.deleteElement.bind((0,s.Z)(r)),r.updateSeqnr=r.updateSeqnr.bind((0,s.Z)(r)),r.state={choicesGuideId:r.props.data.choicesGuideId,currentTarget:{},busy:!1},r.onFinished=r.props.onFinished,r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.fetchData();window.addEventListener("beforeunload",(function(e){return n.state.changed?(e.preventDefault(),e.returnValue="Are you sure you want to exit?",e):null}),{capture:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",self.unloadListener)}},{key:"fetchData",value:function(){var e=this;U({config:e.config}).then((function(t){e.setState(W(W({},t),{},{busy:!1}),(function(){e.setCurrentForm({what:"choices-guide"})}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}},{key:"handleFieldChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.state.currentTarget;Object.keys(e).forEach((function(o){t=t||n.state.changed||r[o]!=e[o]&&"choicesGuideConfig"!=o,r[o]=e[o]})),n.setState({currentTarget:r,changed:t})}},{key:"updateSeqnr",value:function(e){var t=this;if("choices-guide"==t.state.currentTarget.what){var n,r,o=this.state.questionGroups,a=this.state.questionGroups.find((function(t){return t.id==e.questionGroupId}))||{},i=a["".concat(e.what,"s")]&&a["".concat(e.what,"s")],c=e["".concat(e.what,"Id")],s=i&&i.findIndex((function(e){return e.id==c}));"up"==e.move&&s>0&&(n=i[s-1],r=i[s]),"down"==e.move&&s<i.length-1&&(n=i[s],r=i[s+1]);var u=n.seqnr;n.seqnr=r.seqnr,r.seqnr=u,a["".concat(e.what,"s")]=i.sort((function(e,t){return e.seqnr-t.seqnr})),t.setState({questionGroups:o});var l=t.createApiUrl(W(W({},e),{},{questionId:n.id,choiceId:n.id})),f=t.createApiUrl(W(W({},e),{},{questionId:r.id,choiceId:r.id})),d=v.ZP.api.getHeaders(t.config);fetch(l,{method:"PUT",headers:d,body:JSON.stringify({seqnr:n.seqnr})}).then((function(e){if(e.ok)return e.json();throw e.text()})).catch(t.apiError),fetch(f,{method:"PUT",headers:d,body:JSON.stringify({seqnr:r.seqnr})}).then((function(e){if(e.ok)return e.json();throw e.text()})).catch(t.apiError)}}},{key:"setCurrentForm",value:function(e){var t,n,r;switch(e.what){case"choices-guide":e.title=this.state.title,e.description=this.state.description,e.images=this.state.images?this.state.images:"",e.choicesGuideConfig=this.state.choicesGuideConfig?this.state.choicesGuideConfig:{};break;case"choice":n=e.questionGroupId?(t=this.state.questionGroups.find((function(t){return t.id==e.questionGroupId}))||{}).choices&&t.choices.find((function(t){return t.id==e.choiceId}))||{}:this.state.choices.find((function(t){return t.id==e.choicesId}))||{},e.questionGroup=t,e.title=n.title,e.description=n.description,e.images=n.images,e.answers=n.answers,e.seqnr=void 0!==n.seqnr?n.seqnr:t.choices&&t.choices[t.choices.length-1]&&parseInt(t.choices[t.choices.length-1].seqnr)+10||10;break;case"question-group":t=this.state.questionGroups.find((function(t){return t.id==e.questionGroupId}))||{},e.title=t.title,e.description=t.description,e.answerDimensions=t.answerDimensions,e.seqnr=void 0!==t.seqnr?t.seqnr:10;break;case"question":r=(t=this.state.questionGroups.find((function(t){return t.id==e.questionGroupId}))||{}).questions&&t.questions.find((function(t){return t.id==e.questionId}))||{},e.questionGroup=t,e.title=r.title,e.description=r.description,e.moreInfo=r.moreInfo,e.images=r.images,e.minLabel=r.minLabel,e.maxLabel=r.maxLabel,e.type=r.type,e.dimensions=r.dimensions,e.values=r.values,e.seqnr=void 0!==r.seqnr?r.seqnr:t.questions&&t.questions[t.questions.length-1]&&parseInt(t.questions[t.questions.length-1].seqnr)+10||10}this.setState({currentTarget:e,changed:!1},(function(){window.scrollTo(0,0)}))}},{key:"validate",value:function(e){var t=e.showErrors,n=e.scrollTo,r=!0,o=null,a=this.formfields;return Object.keys(this.state.currentTarget).forEach((function(e){a[e+"Field"]&&a[e+"Field"].validate&&!a[e+"Field"].validate({showErrors:t})&&(r=!1,o||(o=e))})),n&&o&&o.instance&&o.instance.scrollIntoView&&o.instance.scrollIntoView({behavior:"smooth"}),r}},{key:"canSubmit",value:function(){var e=this.config.user||{};return v.ZP.user.hasRole(e,"moderator")}},{key:"createApiUrl",value:function(e){var t,n=e.what,r=e.questionGroupId,o=e.choiceId,a=e.questionId,i=this;switch(n){case"question-group":t="".concat(i.config.api&&i.config.api.url,"/api/site/").concat(i.config.siteId,"/choicesguide/").concat(i.state.choicesGuideId,"/questiongroup/").concat(r);break;case"choice":t="".concat(i.config.api&&i.config.api.url,"/api/site/").concat(i.config.siteId,"/choicesguide/").concat(i.state.choicesGuideId,"/questiongroup/").concat(r,"/choice/").concat(o);break;case"question":t="".concat(i.config.api&&i.config.api.url,"/api/site/").concat(i.config.siteId,"/choicesguide/").concat(i.state.choicesGuideId,"/questiongroup/").concat(r,"/question/").concat(a)}return t}},{key:"submitForm",value:function(){var e=this;e.setState({busy:!0,submitError:null},(function(){var t,n,r;if(!e.validate({showErrors:!0,scrollTo:!0}))return e.setState({busy:!1});if(!e.canSubmit())return alert("Je mag dit niet");switch(e.state.currentTarget.what){case"choices-guide":r=e.state.choicesGuideId,t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/choicesguide"),n={title:e.state.currentTarget.title,description:e.state.currentTarget.description,images:e.state.currentTarget.images,config:e.state.currentTarget.choicesGuideConfig};break;case"choice":r=e.state.currentTarget.choiceId,t=e.state.currentTarget.questionGroupId?"".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/choicesguide/").concat(e.state.choicesGuideId,"/questiongroup/").concat(e.state.currentTarget.questionGroupId,"/choice"):"".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/choicesguide/").concat(e.state.choicesGuideId,"/choice"),n={title:e.state.currentTarget.title,description:e.state.currentTarget.description,images:e.state.currentTarget.images,answers:e.state.currentTarget.answers,seqnr:e.state.currentTarget.seqnr};try{n.answers=JSON.parse(n.answers)}catch(e){}break;case"question-group":r=e.state.currentTarget.questionGroupId,t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/choicesguide/").concat(e.state.choicesGuideId,"/questiongroup"),n={title:e.state.currentTarget.title,description:e.state.currentTarget.description,answerDimensions:e.state.currentTarget.answerDimensions,seqnr:e.state.currentTarget.seqnr};break;case"question":r=e.state.currentTarget.questionId,t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/choicesguide/").concat(e.state.choicesGuideId,"/questiongroup/").concat(e.state.currentTarget.questionGroupId,"/question"),n={title:e.state.currentTarget.title,description:e.state.currentTarget.description,moreInfo:e.state.currentTarget.moreInfo,images:e.state.currentTarget.images,minLabel:e.state.currentTarget.minLabel,maxLabel:e.state.currentTarget.maxLabel,type:e.state.currentTarget.type,dimensions:e.state.currentTarget.dimensions,values:e.state.currentTarget.values,seqnr:e.state.currentTarget.seqnr};try{n.values=JSON.parse(n.values)}catch(e){}}t+=r?"/".concat(r):"";var o=v.ZP.api.getHeaders(e.config);fetch(t,{method:r?"PUT":"POST",headers:o,body:JSON.stringify(n)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.setState({busy:!1,changed:!1}),"choices-guide"==e.state.currentTarget.what?e.onFinished():e.fetchData()})).catch(e.apiError)}))}},{key:"deleteElement",value:function(e){var t=e.what,n=e.questionGroupId,r=e.choiceId,o=e.questionId,a=e.title,i=this;if(i.setState({submitError:null}),confirm("U gaat "+t+" "+a+" verwijderen. Weet u het zeker?")){var c=i.createApiUrl({what:t,questionGroupId:n,choiceId:r,questionId:o}),s=v.ZP.api.getHeaders(i.config);fetch(c,{method:"DELETE",headers:s}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(e){i.fetchData()})).catch(i.apiError)}}},{key:"apiError",value:function(e){e.then((function(e){try{e=JSON.parse(e),"object"==(0,m.Z)(e)&&(e=e.message)}catch(e){}return self.setState({submitError:{message:e}}),console.log(e)})),self.setState({busy:!1})}},{key:"render",value:function(){var e=this,t=null,n=null,r=null,o=React.createElement("button",{className:"osc-button-white",onClick:function(){e.setCurrentForm({what:"choices-guide"})}},"Terug"),a=React.createElement("button",{className:"osc-button-blue",onClick:function(t){return e.submitForm()}},"Opslaan");switch(e.state.currentTarget.what){case"choices-guide":t="Bewerk keuzewijzer",n=React.createElement(P,{config:this.config,currentTarget:e.state.currentTarget,onChange:e.handleFieldChange,ref:function(t){e.formfields=t}}),r=React.createElement(B,{questionGroups:e.state.questionGroups,setCurrentForm:e.setCurrentForm,deleteElement:e.deleteElement,updateSeqnr:e.updateSeqnr,ref:function(t){e.formfields=t}}),o=React.createElement("button",{className:"osc-button-white",onClick:function(){e.onFinished&&e.onFinished()}},"Terug");break;case"choice":t="Bewerk Keuze",n=React.createElement(N,{config:this.config,currentTarget:e.state.currentTarget,onChange:e.handleFieldChange,ref:function(t){e.formfields=t}});break;case"question-group":t="Bewerk Vragengroep",n=React.createElement(M,{config:this.config,currentTarget:e.state.currentTarget,onChange:e.handleFieldChange,ref:function(t){e.formfields=t}});break;case"question":t="Bewerk Vraag",n=React.createElement(D,{config:this.config,currentTarget:e.state.currentTarget,onChange:e.handleFieldChange,ref:function(t){e.formfields=t}});break;default:o=React.createElement("button",{className:"osc-button-white",onClick:function(){e.onFinished&&e.onFinished()}},"Terug"),a=null}var i=null;return e.state.submitError&&(i=React.createElement("div",{className:"osc-message osc-error"},e.state.submitError.message)),React.createElement("div",{id:this.divId,className:"osc-form".concat(this.state.busy?" osc-busy":"")},React.createElement("h2",null,t),n,r,i,React.createElement("br",null),React.createElement("br",null),o,a)}}]),n}(h.Z),Q=__webpack_require__(3778),K=__webpack_require__(3377);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var X=function(e){(0,u.Z)(n,e);var t=Y(n);function n(e){var r;(0,i.Z)(this,n),r=t.call(this,e,{siteId:null,loginUrl:null,noOfQuestionsToShow:100,api:{url:null},choices:{title:{noPreferenceYet:"Je hebt nog geen keuze gemaakt",preference:"<b>Jouw voorkeur:</b>{preferredChoice}",inBetween:"Je staat precies tussen meerdere voorkeuren in"},withPercentage:!1,minLabel:null,maxLabel:null}});var o=(0,s.Z)(r);!o.config.aspectRatio&&o.config.choices&&o.config.choices.type&&"plane"==o.config.choices.type&&(o.config.aspectRatio="10x7");var a=v.ZP.localStorage.get("osc-choices-guide.values")||{},c=v.ZP.localStorage.get("osc-choices-guide.scores")||{};return o.state={title:"Loading....",questionGroups:[],choices:[],currentQuestionGroupIndex:void 0,currentQuestion:void 0,status:"init",values:a[o.config.choicesGuideId],scores:c[o.config.choicesGuideId]},o.liveUpdates=o.liveUpdates.bind((0,s.Z)(r)),o.hideEditForm=o.hideEditForm.bind((0,s.Z)(r)),r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){var n=this;n.liveUpdateListener=function(e){n.liveUpdates(e.detail)},document.addEventListener("osc-choices-guide-live-updates",n.liveUpdateListener),n.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-choices-guide-live-updates",self.liveUpdateListener)}},{key:"fetchData",value:function(){var e=this;U({config:e.config}).then((function(t){if(!t.choicesGuideId)return e.setState({status:"panic",message:"Er is geen keuzewijzer gevonden. Maak er één aan in het admin deel van deze site, en koppel deze dan hier in 'Bewerk keuzewijzer'."});e.setState(t,(function(){e.startGuide()}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}},{key:"startGuide",value:function(){var e=this,t={currentQuestionGroupIndex:0};e.setState(t,(function(){e.liveUpdates();var t=new window.CustomEvent("osc-choices-guide-is-ready");document.dispatchEvent(t)}))}},{key:"showEditForm",value:function(){this.setState({status:"edit"})}},{key:"hideEditForm",value:function(){var e=v.ZP.localStorage.get("osc-choices-guide.values")||{},t=v.ZP.localStorage.get("osc-choices-guide.scores")||{};this.setState({title:"Loading....",questionGroups:[],choices:[],currentQuestionGroupIndex:void 0,status:"init",values:e[this.config.choicesGuideId],scores:t[this.config.choicesGuideId]},(function(){this.fetchData()}))}},{key:"gotoNextQuestion",value:function(){var e=this,t={};t.values=p()(e.state.values||{},e.questionGroupElement.getAnswers()),e.setState(t),e.choicesElement.calculateScores(t.values);var n=e.questionGroupElement.gotoNextQuestion(),r=n.isReady,o=n.currentQuestion;e.setState({currentQuestion:o},(function(){r?e.gotoNextGroup():window.scrollTo(0,0)}))}},{key:"gotoPreviousQuestion",value:function(){var e=this;if("result"==this.state.status)return this.gotoPreviousGroup();var t={};t.values=p()(this.state.values||{},this.questionGroupElement.getAnswers()),this.setState(t),this.choicesElement.calculateScores(t.values);var n=this.questionGroupElement.gotoPreviousQuestion(),r=n.isBeginning,o=n.currentQuestion;this.setState({currentQuestion:o},(function(){r?e.gotoPreviousGroup():window.scrollTo(0,0)}))}},{key:"gotoNextGroup",value:function(){var e=this,t=$({},this.state);t.currentQuestionGroupIndex<t.questionGroups.length-1?(t.values=p()(t.values||{},this.questionGroupElement.getAnswers()),t.currentQuestionGroupIndex++,this.setState(t,(function(){e.liveUpdates(),window.scrollTo(0,0)}))):this.gotoResult()}},{key:"gotoPreviousGroup",value:function(){var e=this,t={};t.currentQuestionGroupIndex=this.state.currentQuestionGroupIndex-1,"result"==this.state.status&&(t.currentQuestionGroupIndex=this.state.questionGroups.length-1,t.status="active"),this.setState(t,(function(){e.liveUpdates(),window.scrollTo(0,0)}))}},{key:"gotoResult",value:function(){document.location.href=this.config.afterUrl}},{key:"liveUpdates",value:function(){var e=this,t=p()(e.state.values||{},e.questionGroupElement.getAnswers()),n=e.choicesElement.calculateScores(t).scores;e.setState({scores:n,firstAnswerGiven:Object.keys(t).length>0},(function(){var r=v.ZP.localStorage.get("osc-choices-guide.values")||{};r[e.config.choicesGuideId]=t,v.ZP.localStorage.set("osc-choices-guide.values",r);var o=v.ZP.localStorage.get("osc-choices-guide.scores")||{};o[e.config.choicesGuideId]=n,v.ZP.localStorage.set("osc-choices-guide.scores",o),e.updateChoicesTitle()}))}},{key:"updateChoicesTitle",value:function(){var e=this,t=e.config.choices.title.noPreferenceYet,n=e.choicesElement&&e.choicesElement.getPreferedChoice({});e.state.firstAnswerGiven&&(t=n?e.config.choices.title.preference.replace("{preferredChoice}",n&&n.getTitle(e.state.scores[n.config.divId])||t):e.config.choices.title.inBetween),e.setState({choicesTitle:t})}},{key:"onChoicesClick",value:function(e){this.choicesAccordeon.className.match(" osc-closed")?this.choicesAccordeon.className=this.choicesAccordeon.className.replace(" osc-closed"," osc-open"):this.choicesAccordeon.className=this.choicesAccordeon.className.replace(" osc-open"," osc-closed");var t=new window.CustomEvent("osc-choices-click",{detail:{}});document.dispatchEvent(t)}},{key:"render",value:function(){var e,t=this,n=t.state.choices;t.state.currentQuestionGroupIndex>=0&&(e=t.state.questionGroups[t.state.currentQuestionGroupIndex])&&(e.values=t.state.values||{},e&&e.choices&&(n=e.choices));var r=null,a=t.state.images;a&&a.length&&(Array.isArray(a)||(a=[a]),r=React.createElement(g.Image,{className:"osc-top-image-spacer",width:"100%",image:a[0]}));var i=null;if("edit"==t.state.status)i=React.createElement("div",{className:"osc-choices-guide-content"},React.createElement(V,{config:t.config,onFinished:t.hideEditForm,data:$({},t.state)}));else{if("panic"==t.state.status)i=React.createElement("div",{className:"osc-choices-guide-content"},React.createElement("div",{className:"osc-alert osc-alert-warning"},t.state.message));else if("init"==t.state.status)i=React.createElement("div",{className:"osc-choices-guide-content"},React.createElement("div",{className:"osc-intro"},"Laden..."));else{var c=React.createElement("div",{id:"osc-choices-container-"+this.divId,className:"osc-choices-container osc-accordeon osc-closed ".concat("osc-type-"+t.config.choices.type),ref:function(e){t.choicesAccordeon=e}},React.createElement("div",{onClick:function(e){return t.onChoicesClick(e)},className:"osc-accordeon-button",dangerouslySetInnerHTML:{__html:t.state.choicesTitle}}),React.createElement("div",{className:"osc-accordeon-content"},React.createElement(q,{config:$($({},t.config.choices),{},{startWithAllQuestionsAnswered:t.config.startWithAllQuestionsAnswered}),choices:(0,o.Z)(n),scores:$({},t.state.scores),firstAnswerGiven:!!t.state.firstAnswerGiven,ref:function(e){t.choicesElement=e},key:"choices"}))),s=React.createElement(x,{config:t.config,data:e,ref:function(e){t.questionGroupElement=e},key:"group".concat(t.state.currentQuestionsGroupIndex)}),u=null;t.config.user&&t.config.user.role&&"admin"==t.config.user.role&&(u=React.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(e){return t.showEditForm()}},"Bewerk keuzewijzer"));var l=null,f=null,d=null;t.state.currentQuestionGroupIndex>0||t.state.currentQuestion>0?(f=function(){t.gotoPreviousQuestion()},d="Terug"):t.config.beforeUrl&&(l=t.config.beforeUrl,d="Introductie");var p=null,h=null;"init"==t.state.status?(p=null,h=null):(p=function(){t.gotoNextQuestion()},h="Volgende");var v=null;(d||h)&&(v=React.createElement(K.default,{previousAction:f,previousUrl:l,previousLabel:d,nextAction:p,nextUrl:null,nextLabel:h})),i=React.createElement("div",{className:"osc-choices-guide-content"},u,c,s,v)}}return React.createElement("div",{id:this.divId,className:"osc-choices-guide"},React.createElement(Q.default,null),r,i)}}]),n}(h.Z),ee=__webpack_require__(7301);var te=function(){return te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},te.apply(this,arguments)};function ne(e,t,n,r){return new(n||(n=ee))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))}function re(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;Object.create;var oe=__webpack_require__(7301);function ae(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function ie(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function ce(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function se(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function ue(e,t){return[e[0]^t[0],e[1]^t[1]]}function le(e){return e=ue(e,[0,e[0]>>>1]),e=ue(e=ie(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=ue(e=ie(e,[3301882366,444984403]),[0,e[0]>>>1])}function fe(e,t){t=t||0;var n,r=(e=e||"").length%16,o=e.length-r,a=[0,t],i=[0,t],c=[0,0],s=[0,0],u=[2277735313,289559509],l=[1291169091,658871167];for(n=0;n<o;n+=16)c=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],s=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],c=ce(c=ie(c,u),31),a=ae(a=ce(a=ue(a,c=ie(c,l)),27),i),a=ae(ie(a,[0,5]),[0,1390208809]),s=ce(s=ie(s,l),33),i=ae(i=ce(i=ue(i,s=ie(s,u)),31),a),i=ae(ie(i,[0,5]),[0,944331445]);switch(c=[0,0],s=[0,0],r){case 15:s=ue(s,se([0,e.charCodeAt(n+14)],48));case 14:s=ue(s,se([0,e.charCodeAt(n+13)],40));case 13:s=ue(s,se([0,e.charCodeAt(n+12)],32));case 12:s=ue(s,se([0,e.charCodeAt(n+11)],24));case 11:s=ue(s,se([0,e.charCodeAt(n+10)],16));case 10:s=ue(s,se([0,e.charCodeAt(n+9)],8));case 9:s=ie(s=ue(s,[0,e.charCodeAt(n+8)]),l),i=ue(i,s=ie(s=ce(s,33),u));case 8:c=ue(c,se([0,e.charCodeAt(n+7)],56));case 7:c=ue(c,se([0,e.charCodeAt(n+6)],48));case 6:c=ue(c,se([0,e.charCodeAt(n+5)],40));case 5:c=ue(c,se([0,e.charCodeAt(n+4)],32));case 4:c=ue(c,se([0,e.charCodeAt(n+3)],24));case 3:c=ue(c,se([0,e.charCodeAt(n+2)],16));case 2:c=ue(c,se([0,e.charCodeAt(n+1)],8));case 1:c=ie(c=ue(c,[0,e.charCodeAt(n)]),u),a=ue(a,c=ie(c=ce(c,31),l))}return a=ae(a=ue(a,[0,e.length]),i=ue(i,[0,e.length])),i=ae(i,a),a=ae(a=le(a),i=le(i)),i=ae(i,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)}var de=window;function pe(e){return parseInt(e)}function he(e){return parseFloat(e)}function ve(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}var me=window,ge=navigator;document;function ye(){return ve(["MSCSSMatrix"in me,"msSetImmediate"in me,"msIndexedDB"in me,"msMaxTouchPoints"in ge,"msPointerEnabled"in ge])>=4}var be=window,_e=document;function we(e,t,n){(function(e){return e&&"function"==typeof e.setValueAtTime})(t)&&t.setValueAtTime(n,e.currentTime)}function Ee(e){return new oe((function(t,n){e.oncomplete=function(e){return t(e.renderedBuffer)};var r=3,o=function(){switch(e.startRendering(),e.state){case"running":setTimeout((function(){return n(xe("timeout"))}),1e3);break;case"suspended":_e.hidden||r--,r>0?setTimeout(o,500):n(xe("suspended"))}};o()}))}function Re(e){for(var t=0,n=4500;n<5e3;++n)t+=Math.abs(e[n]);return t}function xe(e){var t=new Error(e);return t.name=e,t}var ke=document,Ce=["monospace","sans-serif","serif"],Ie=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"],Te={fontStyle:"normal",fontWeight:"normal",letterSpacing:"normal",lineBreak:"auto",lineHeight:"normal",textTransform:"none",textAlign:"left",textDecoration:"none",textShadow:"none",whiteSpace:"normal",wordBreak:"normal",wordSpacing:"normal",position:"absolute",left:"-9999px",fontSize:"48px"};function Se(e){return e.toDataURL()}var qe=navigator,Oe=window;var Ae=navigator;var Ne=window;var Ze=window;var Pe=window;var Le=document;var je={osCpu:function(){return navigator.oscpu},languages:function(){var e=[],t=Ae.language||Ae.userLanguage||Ae.browserLanguage||Ae.systemLanguage;if(void 0!==t&&e.push([t]),Array.isArray(Ae.languages))ve(["webkitPersistentStorage"in ge,"webkitTemporaryStorage"in ge,0===ge.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in me,"BatteryManager"in me,"webkitMediaStream"in me,"webkitSpeechGrammar"in me])>=5&&ve([!("MediaSettingsRange"in me),"RTCEncodedAudioFrame"in me,""+me.Intl=="[object Intl]",""+me.Reflect=="[object Reflect]"])>=3||e.push(Ae.languages);else if("string"==typeof Ae.languages){var n=Ae.languages;n&&e.push(n.split(","))}return e},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return e=he(navigator.deviceMemory),t=void 0,"number"==typeof e&&isNaN(e)?t:e;var e,t},screenResolution:function(){var e=[pe(Ne.screen.width),pe(Ne.screen.height)];return e.sort().reverse(),e},availableScreenResolution:function(){if(Ze.screen.availWidth&&Ze.screen.availHeight){var e=[pe(Ze.screen.availWidth),pe(Ze.screen.availHeight)];return e.sort().reverse(),e}},hardwareConcurrency:function(){try{var e=pe(navigator.hardwareConcurrency);return isNaN(e)?1:e}catch(e){return 1}},timezoneOffset:function(){var e=(new Date).getFullYear();return Math.max(he(new Date(e,0,1).getTimezoneOffset()),he(new Date(e,6,1).getTimezoneOffset()))},timezone:function(){var e;if(null===(e=Pe.Intl)||void 0===e?void 0:e.DateTimeFormat)return(new Pe.Intl.DateTimeFormat).resolvedOptions().timeZone},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!(ye()||ve(["msWriteProfilerMark"in me,"MSStream"in me,"msLaunchUri"in ge,"msSaveBlob"in ge])>=3&&!ye()))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){return navigator.platform},plugins:function(){if(ye())return[];if(navigator.plugins){for(var e=[],t=0;t<navigator.plugins.length;++t){var n=navigator.plugins[t];if(n){for(var r=[],o=0;o<n.length;++o){var a=n[o];r.push({type:a.type,suffixes:a.suffixes})}e.push({name:n.name,description:n.description,mimeTypes:r})}}return e}},canvas:function(){var e=function(){var e=document.createElement("canvas");return e.width=240,e.height=140,e.style.display="inline",[e,e.getContext("2d")]}(),t=e[0],n=e[1];if(!function(e,t){return!(!t||!e.toDataURL)}(t,n))return{winding:!1,data:""};n.rect(0,0,10,10),n.rect(2,2,6,6);var r=!n.isPointInPath(5,5,"evenodd");n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.font="11pt no-real-font-123";var o="Cwm fjordbank 😃 gly";return n.fillText(o,2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText(o,4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),{winding:r,data:Se(t)}},touchSupport:function(){var e,t=0;void 0!==qe.maxTouchPoints?t=pe(qe.maxTouchPoints):void 0!==qe.msMaxTouchPoints&&(t=qe.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:t,touchEvent:e,touchStart:"ontouchstart"in Oe}},fonts:function(){var e=ke.body,t=ke.createElement("div"),n=ke.createElement("div"),r={},o={},a=function(){var e=ke.createElement("span");e.textContent="mmMwWLliI0O&1";for(var t=0,n=Object.keys(Te);t<n.length;t++){var r=n[t];e.style[r]=Te[r]}return e},i=function(e){return Ce.some((function(t,n){return e[n].offsetWidth!==r[t]||e[n].offsetHeight!==o[t]}))},c=Ce.map((function(e){var n=a();return n.style.fontFamily=e,t.appendChild(n),n}));e.appendChild(t);for(var s=0,u=Ce.length;s<u;s++)r[Ce[s]]=c[s].offsetWidth,o[Ce[s]]=c[s].offsetHeight;var l=function(){for(var e={},t=function(t){e[t]=Ce.map((function(e){var r=function(e,t){var n=a();return n.style.fontFamily="'"+e+"',"+t,n}(t,e);return n.appendChild(r),r}))},r=0,o=Ie;r<o.length;r++){t(o[r])}return e}();e.appendChild(n);for(var f=[],d=0,p=Ie.length;d<p;d++)i(l[Ie[d]])&&f.push(Ie[d]);return e.removeChild(n),e.removeChild(t),f},audio:function(){return ne(this,void 0,void 0,(function(){var e,t,n,r,o,a;return re(this,(function(i){switch(i.label){case 0:if(!(e=be.OfflineAudioContext||be.webkitOfflineAudioContext))return[2,-2];if(ve(["ApplePayError"in me,"CSSPrimitiveValue"in me,"Counter"in me,0===ge.vendor.indexOf("Apple"),"getStorageUpdates"in ge,"WebKitMediaKeys"in me])>=4&&!(ve(["safari"in me,!("DeviceMotionEvent"in me),!("ongestureend"in me),!("standalone"in ge)])>=3)&&!(ve(["DOMRectList"in me,"RTCPeerConnectionIceEvent"in me,"SVGGeometryElement"in me,"ontransitioncancel"in me])>=3))return[2,-1];t=new e(1,44100,44100),(n=t.createOscillator()).type="triangle",we(t,n.frequency,1e4),r=t.createDynamicsCompressor(),we(t,r.threshold,-50),we(t,r.knee,40),we(t,r.ratio,12),we(t,r.reduction,-20),we(t,r.attack,0),we(t,r.release,.25),n.connect(r),r.connect(t.destination),n.start(0),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,Ee(t)];case 2:return o=i.sent(),[3,5];case 3:if("timeout"===(a=i.sent()).name||"suspended"===a.name)return[2,-3];throw a;case 4:return n.disconnect(),r.disconnect(),[7];case 5:return[2,Re(o.getChannelData(0))]}}))}))},pluginsSupport:function(){return void 0!==navigator.plugins},productSub:function(){return navigator.productSub},emptyEvalLength:function(){return eval.toString().length},errorFF:function(){try{throw"a"}catch(e){try{return e.toSource(),!0}catch(e){return!1}}},vendor:function(){return navigator.vendor},chrome:function(){return void 0!==window.chrome},cookiesEnabled:function(){try{Le.cookie="cookietest=1; SameSite=Strict;";var e=-1!==Le.cookie.indexOf("cookietest=");return Le.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}};function De(){return function(e,t,n){return ne(this,void 0,void 0,(function(){var r,o,a,i,c,s,u,l,f;return re(this,(function(d){switch(d.label){case 0:r=Date.now(),o={},a=0,i=Object.keys(e),d.label=1;case 1:if(!(a<i.length))return[3,7];if(c=i[a],function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}(n,c))return[3,6];s=void 0,d.label=2;case 2:return d.trys.push([2,4,,5]),f={},[4,e[c](t)];case 3:return f.value=d.sent(),s=f,[3,5];case 4:return u=d.sent(),s=u&&"object"==typeof u&&"message"in u?{error:u}:{error:{message:u}},[3,5];case 5:l=Date.now(),o[c]=te(te({},s),{duration:l-r}),r=l,d.label=6;case 6:return a++,[3,1];case 7:return[2,o]}}))}))}(je,void 0,[])}function Ge(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?te({name:(n=t).name,message:n.message,stack:null===(r=n.stack)||void 0===r?void 0:r.split("\n")},n):t;var n,r}),2)}function Me(e){return fe(function(e){for(var t="",n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],a=e[o],i=a.error?"error":JSON.stringify(a.value);t+=(t?"|":"")+o.replace(/([:|\\])/g,"\\$1")+":"+i}return t}(e))}var Fe=function(){function e(){}return e.prototype.get=function(e){return void 0===e&&(e={}),ne(this,void 0,void 0,(function(){var t,n;return re(this,(function(r){switch(r.label){case 0:return[4,De()];case 1:return t=r.sent(),n=function(e){var t;return{components:e,get visitorId(){return void 0===t&&(t=Me(this.components)),t},set visitorId(e){t=e}}}(t),e.debug&&console.log("Copy the text below to get the debug data:\n\n```\nversion: 3.0.5\nuserAgent: "+navigator.userAgent+"\ngetOptions: "+JSON.stringify(e,void 0,2)+"\nvisitorId: "+n.visitorId+"\ncomponents: "+Ge(t)+"\n```"),[2,n]}}))}))},e}();const Be={load:function(e){var t=(void 0===e?{}:e).delayFallback,n=void 0===t?50:t;return ne(this,void 0,void 0,(function(){return re(this,(function(e){switch(e.label){case 0:return[4,(t=n,r=2*n,void 0===r&&(r=1/0),new oe((function(e){de.requestIdleCallback?de.requestIdleCallback((function(){return e()}),{timeout:r}):setTimeout(e,Math.min(t,r))})))];case 1:return e.sent(),[2,new Fe]}var t,r}))}))},hashComponents:Me,componentsToDebugString:Ge};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var He=function(e){(0,u.Z)(n,e);var t=We(n);function n(e){var r;(0,i.Z)(this,n),(r=t.call(this,e,{type:"default",submission:{type:"none",requireLoginSettings:{title:"Stemcode",description:"Om te kunnen stemmen vult u de stemcode in die u per post hebt ontvangen. Wij controleren uw stemcode op geldigheid. Als dat gelukt is kunt u stemmen.",buttonTextLogin:"Vul uw stemcode in",buttonTextLoggedIn:"Geldige stemcode",buttonTextAlreadySubmitted:"Ongeldige stemcode",changeLoginLinkText:"Vul een andere stemcode in",loggedInMessage:"Het controleren van uw stemcode is gelukt! Klik op onderstaande knop om uw keuze in te sturen.",notYetLoggedInError:"Klik hierboven om uw stem te valideren.",alreadySubmittedMessage:"Deze stemcode is al gebruikt om te stemmen. Een stemcode kan maar één keer gebruikt worden."}},choices:{title:{noPreferenceYet:"U hebt nog geen keuze gemaakt",preference:"Uw voorkeur is {preferredChoice}",inBetween:"U staat precies tussen meerdere voorkeuren in"},withPercentage:!0,minLabel:null,maxLabel:null}})).config.loginUrl=r.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),r.config.logoutUrl=r.config.logoutUrl||"/oauth/logout?returnTo="+encodeURIComponent(document.location.href);var o=v.ZP.localStorage.get("osc-choices-guide.values")||{};o=o[r.config.choicesGuideId]||{};var a=v.ZP.localStorage.get("osc-choices-guide.scores")||{};a=a[r.config.choicesGuideId]||{};var c,s=v.ZP.localStorage.get("osc-choices-guide.formvalues")||{};s=s[r.config.choicesGuideId]||{};var u=window.location.search.match(/(\?|\&)resultdata=([^\?\&]+)/);if(u){var l=window.atob(u[2]);try{l=JSON.parse(l)}catch(e){}c=l.scrollToLogin,s=l.formValues,o=l.result.answers,a=l.result.scores}return r.config.initFormValues=s,"form"==r.config.submission.type&&r.initForm(),r.state={title:"",answers:o,scores:a,scrollToLogin:c,questionGroupId:r.config.questionGroupId},r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(e,t){this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=this;U({config:t.config}).then((function(n){var r=n.questionGroups&&n.questionGroups[0]&&n.questionGroups[0].id;t.setState(ze(ze({},n),{},{questionGroupId:r}),(function(){t.config.submission.type=n.choicesGuideConfig.submissionType||t.config.submission.type,"form"==t.config.submission.type&&e.initForm(),t.startGuide()}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}},{key:"initForm",value:function(){var e=this.config.initFormValues||{};this.onFormChange=this.onFormChange.bind(this);this.config.submission.form.fields.forEach((function(t){var n=t.name||t.title.toLowerCase();void 0!==e[n]&&(t.value=e[n])}))}},{key:"startGuide",value:function(){var e,t,n=this,r=n.choicesElement&&n.choicesElement.calculateScores(n.state.answers);e=r.scores,t=r.planePos;var o="";if(n.choicesElement){var a=n.choicesElement.getPreferedChoice({scores:e,planePos:t});o=a?n.config.choices.title.preference.replace("{preferredChoice}",a&&a.getTitle(n.state.scores[a.config.divId])||o):n.config.choices.title.inBetween,n.setState({title:o});var i=new window.CustomEvent("osc-choices-guide-result-is-ready",{detail:{preferredChoice:{name:undefined,title:o,preferredChoiceId:-1},answers:n.state.answers,scores:n.state.scores}});if(document.dispatchEvent(i),n.state.scrollToLogin){var c=document.querySelector(".osc-require-login");c&&c.scrollIntoView({behavior:"smooth"})}"auto"==n.config.submission.type&&n.submitResult()}}},{key:"submitResult",value:function(){var e,t,n,r=this,o=!(!r.state.choicesGuideConfig||!r.state.choicesGuideConfig.requiredUserRole);if(o&&!r.isUserLoggedIn()){var a=document.querySelector(".osc-require-login");a&&a.scrollIntoView({behavior:"smooth"}),t={submissionError:{message:r.config.submission.requireLoginSettings.notYetLoggedInError,type:"unknown"}}}"form"==r.config.submission.type&&(e=r.form.getValues(),r.form.validate({showErrors:!0,scrollTo:!0})||(n=!0));t||n?r.setState(t,(function(){r.form.validate({showErrors:!0,scrollTo:!0})})):Be.load().then((function(t){t.get().then((function(t){var n=t.visitorId,a="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/choicesguide/").concat(r.config.choicesGuideId,"/result"),i=v.ZP.api.getHeaders(r.config),c={result:{answers:r.state.answers,scores:r.state.scores},extraData:e,userFingerprint:n};fetch(a,{method:"POST",headers:i,body:JSON.stringify(c)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(e){if("form"==r.config.submission.type)return v.ZP.localStorage.remove("osc-choices-guide.values"),v.ZP.localStorage.remove("osc-choices-guide.scores"),v.ZP.localStorage.remove("osc-choices-guide.formvalues"),o?r.logout({afterUrl:r.config.afterUrl}):document.location.href=r.config.afterUrl})).catch((function(e){if(!e.then)return console.log(e);e.then((function(e){try{e=JSON.parse(e)}catch(e){}var t=Array.isArray(e)&&e[0]&&e[0].message||e[0]||e.message||e;r.setState({submissionError:{message:t.toString(),type:"U heeft uw mening al ingestuurd"==t?"alreadySubmitted":"unknown"}},(function(){return console.log(e)}))}))}))}))}))}},{key:"isUserLoggedIn",value:function(){return this.config.user&&this.config.user.role&&"anonymous"!=this.config.user.role}},{key:"gotoLoginUrl",value:function(){var e=this.config.loginUrl,t={scrollToLogin:!0,formValues:this.form.getValues(),result:{answers:this.state.answers,scores:this.state.scores}};try{t=JSON.stringify(t)}catch(e){}var n=e.match(/returnTo=([^\?\&]+)/);if(n){var r=decodeURIComponent(n[1]);r+=r.match(/\?/)?"&":"?",r+="resultdata="+window.btoa(t.replace(/=+$/,"")),r=encodeURIComponent(r),e=e.replace(/returnTo=[^\?\&]+/,"returnTo="+r)}else if(e.match(/\{returnTo\}/)){var o=window.location.href;o+=o.match(/\?/)?"&":"?",o+="resultdata="+window.btoa(t.replace(/=+$/,"")),o=encodeURIComponent(o),e=e.replace(/\{returnTo\}/,"returnTo="+o)}else e+=e.match(/\?/)?"&":"?",e+="resultdata="+window.btoa(t).replace(/=+$/,"");document.location.href=e}},{key:"logout",value:function(e){var t=e.afterUrl,n=this.config.logoutUrl||"/oauth/logout";fetch(n,{headers:{"Content-type":"application/json"},method:"GET"}).then((function(e){return document.location.href=t})).catch((function(e){return document.location.href=t}))}},{key:"onFormChange",value:function(){var e=this,t=v.ZP.localStorage.get("osc-choices-guide.formvalues")||{};t[e.config.choicesGuideId]=e.form.getValues(),v.ZP.localStorage.set("osc-choices-guide.formvalues",t),e.setState({random:Math.random()})}},{key:"render",value:function(){var e,t=this,n=(t.props&&t.props.data,t.state.choices);t.state.questionGroups&&(e=t.state.questionGroups.find((function(e){return e.id==t.state.questionGroupId})))&&(e.values=t.state.values||{},e&&e.choices&&(n=e.choices));var r=!(!t.state.choicesGuideConfig||!t.state.choicesGuideConfig.requiredUserRole),a=null;n&&(a=React.createElement(q,{config:ze(ze({},t.config.choices),{},{startWithAllQuestionsAnswered:t.config.startWithAllQuestionsAnswered}),scores:ze({},t.state.scores),choices:(0,o.Z)(n),firstAnswerGiven:!0,ref:function(e){t.choicesElement=e},key:"choices"}));var i=null;t.config.moreInfoUrl&&t.config.moreInfoLabel&&(i=React.createElement("div",{className:"osc-more-info-link"},React.createElement("a",{href:t.config.moreInfoUrl},t.config.moreInfoLabel)));var c=null,s=null,u=null;if("form"==t.config.submission.type){if(c=React.createElement(y.default.Form,{config:t.config.submission.form,onChange:t.onFormChange,ref:function(e){t.form=e}}),r)if(t.isUserLoggedIn()){var l="osc-success",f=t.config.submission.requireLoginSettings.buttonTextLoggedIn,d=t.config.submission.requireLoginSettings.loggedInMessage;t.state.submissionError&&(l="osc-error","alreadySubmitted"==t.state.submissionError.type?(f=t.config.submission.requireLoginSettings.buttonTextAlreadySubmitted,d=t.config.submission.requireLoginSettings.alreadySubmittedMessage):d=t.state.submissionError.message),s=React.createElement("div",{className:"osc-require-login osc-logged-in osc-logged-in ".concat(l)},React.createElement("h2",null,t.config.submission.requireLoginSettings.title),React.createElement("div",{className:"osc-gray-block"},React.createElement("button",{onClick:function(e){return t.gotoLoginUrl()},className:"osc-button osc-button-white"},f),React.createElement("div",{className:"change-login-link-text"},React.createElement("a",{onClick:function(e){return t.gotoLoginUrl()}},t.config.submission.requireLoginSettings.changeLoginLinkText)),React.createElement("div",{className:"osc-message"},d)))}else{var p="",h="";t.state.submissionError&&(p="osc-error",h=t.state.submissionError.message),s=React.createElement("div",{className:"osc-require-login osc-not-yet-logged-in ".concat(p)},React.createElement("h2",null,t.config.submission.requireLoginSettings.title),React.createElement("div",{className:"osc-gray-block"},t.config.submission.requireLoginSettings.description,React.createElement("br",null),React.createElement("br",null),React.createElement("button",{onClick:function(e){return t.gotoLoginUrl()},className:"osc-button osc-button-white"},t.config.submission.requireLoginSettings.buttonTextLogin),React.createElement("div",{className:"osc-message"},h)))}var v=null,m=null;t.config.beforeUrl&&(v=t.config.beforeUrl,m=t.config.beforeLabel||"Vorige");var g=t.config.afterLabel||"Opslaan",b="form"==t.config.submission.type&&t.form&&!t.form.validate({})||r&&!t.isUserLoggedIn();(m||g)&&(u=React.createElement(K.default,{previousAction:null,previousUrl:v,previousLabel:m,nextAction:function(){t.submitResult()},nextUrl:null,nextLabel:g,nextIsDisabled:b}))}var _=null;return t.state.submissionError&&!r&&(_=React.createElement("div",{className:"osc-message osc-error"},t.state.submissionError.message)),React.createElement("div",{className:"osc-choices-guide"},React.createElement("div",{className:"osc-result"},React.createElement("div",{className:"osc-result-content"},React.createElement("div",{className:"osc-choices-container ".concat("osc-type-"+t.config.choices.type)},React.createElement("h3",{dangerouslySetInnerHTML:{__html:t.state.title}}),a),i,c,s,_)),u)}}]),n}(h.Z);X.renderElement=function(e,n){var o=e.attributes;r().render(t().createElement(X,{attributes:o,config:n}),e)},He.renderElement=function(e,n){var o=e.attributes;r().render(t().createElement(He,{attributes:o,config:n}),e)}})(),(window.OpenStadComponents=window.OpenStadComponents||{})["choices-guide"]=__webpack_exports__})();
//# sourceMappingURL=choices-guide.js.map