/*! For license information please see ideas-overview.js.LICENSE.txt */
(()=>{var __webpack_modules__={676:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:()=>n})},3349:(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:()=>n})},6610:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:()=>n})},5991:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,{Z:()=>o})},6156:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>n})},7608:(e,t,r)=>{"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:()=>n})},379:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(4665);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,n.Z)(e,t)}},6070:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(484),o=r(3349);function i(e,t){if(t&&("object"===(0,n.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},4665:(e,t,r)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{Z:()=>n})},4699:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(2961);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},484:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:()=>n})},2961:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(676);function o(e,t){if(e){if("string"==typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}},7961:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(484),o=r(6610),i=r(5991),a=r(3349),s=r(379),c=r(6070),u=r(7608),l=r(1965),f=r.n(l),_=r(3804),d=r.n(_);r(3462);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var h=function(e){(0,s.Z)(r,e);var t=p(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.Z)(this,r),n=t.call(this,e);var c=(0,a.Z)(n);if(e.attributes&&Object.keys(e.attributes).forEach((function(t){var r=e.attributes[t];c[r.name]=r.value})),"string"==typeof c.config)try{c.config=JSON.parse(c.config)}catch(e){}var u=e.config||{};return u=v(u),c.config=f().recursive({siteId:null,api:{url:null,headers:null,isUserLoggedIn:!1},user:{}},i,s,u),c.divId=c.divId||c.config&&c.config.divId||e.id||"openstad-component-".concat(parseInt(1e8*Math.random())),c.config.divId=null,window[c.divId]=c,n}return(0,i.Z)(r,[{key:"componentDidMount",value:function(e,t){}}]),r}(d().Component);function v(e){return"object"!=(0,n.Z)(e)||Object.keys(e).forEach((function(t){void 0!==e[t]&&null!=e[t]||delete e[t],"object"==(0,n.Z)(e[t])&&(e[t]=v(e[t]))})),e}},8269:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeasOverview});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5991),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7961),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2150),_image_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4315);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeasOverview=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__.Z)(IdeasOverview,_OpenStadComponent);var _super=_createSuper(IdeasOverview);function IdeasOverview(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__.Z)(this,IdeasOverview),(t=_super.call(this,e,{idea:{showVoteButtons:!0,titleField:"title",summaryField:"summary",minimumYesVotes:void 0},display:{type:"tiles",columns:4,showStatusLabel:!1,showTheme:!1,showArea:!1,showVoteProgressbar:!1,showStats:!1,showTypeIcon:!1,onMouseOverTileFadeOthers:!1},image:{},argument:{isActive:!0,ignoreReactionsForIdeaIds:""},vote:{isViewable:!0,voteValues:[{value:"yes"},{value:"no"}]},types:[],typeField:"typeId"})).config.image.allowMultipleImages=!1,t.state={idea:t.props.idea||{}},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__.Z)(IdeasOverview,[{key:"dispatchIdeaTileClick",value:function(e,t){e.stopPropagation();var r=new window.CustomEvent("osc-idea-tile-click",{detail:{idea:t}});document.dispatchEvent(r)}},{key:"dispatchIdeaTileMouseEnter",value:function(e,t){e.stopPropagation();var r=new window.CustomEvent("osc-idea-tile-mouse-enter",{detail:{idea:t}});document.dispatchEvent(r)}},{key:"dispatchIdeaTileMouseLeave",value:function(e,t){e.stopPropagation();var r=new window.CustomEvent("osc-idea-tile-mouse-leave",{detail:{idea:t}});document.dispatchEvent(r)}},{key:"render",value:function render(){var self=this,idea=self.state.idea,statusLabelHTML=null;self.config.display.showStatusLabel;var themeAndAreaHTML=null;if(self.config.display.showTheme||self.config.display.showArea){var areaHTML=null;self.config.display.showArea&&idea.extraData.area&&(areaHTML=React.createElement("div",{className:"osc-area"},idea.extraData.area)),themeAndAreaHTML=React.createElement("div",{className:"osc-theme-and-area"},self.config.display.showTheme&&idea.extraData.theme&&React.createElement("div",{className:"osc-theme"},idea.extraData.theme),self.config.display.showTheme&&idea.extraData.theme&&self.config.display.showArea&&idea.extraData.area&&React.createElement("div",{className:"osc-divider"}),self.config.display.showArea&&idea.extraData.area&&React.createElement("div",{className:"osc-area"},idea.extraData.area))}var statsHTML=null;if(self.config.display.showStats){var stats=[];this.config.idea.showVoteButtons&&1==this.config.vote.isViewable&&this.config.vote.voteValues.find((function(e){return"yes"===e.value}))&&stats.push(React.createElement("div",{className:"osc-yes-votes"},idea.yes||0)),this.config.idea.showVoteButtons&&1==this.config.vote.isViewable&&this.config.vote.voteValues.find((function(e){return"no"===e.value}))&&stats.push(React.createElement("div",{className:"osc-no-votes"},idea.no||0));var argcountHTML=null;this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")))&&stats.push(React.createElement("div",{className:"osc-reactions"},idea.argCount||0)),statsHTML=React.createElement("div",{className:"osc-idea-stats-container"},stats.map((function(e,t){return React.createElement("div",{className:"osc-stat",key:"osc-stat-".concat(idea.id,"-").concat(t)},e)})))}var voteProgressHTML=null;self.config.display.showVoteProgressbar&&(console.log(idea.progress),voteProgressHTML=React.createElement("div",{className:"osc-progress-container"},React.createElement("div",{className:"osc-progress"},React.createElement("div",{className:"osc-progress-bar osc-status-open",style:{width:idea.progress+"%"}}),React.createElement("div",{className:"osc-progress-target"},self.config.idea.minimumYesVotes))));var typeIconHTML=null;if(self.config.display.showTypeIcon){var ideaTypeValue;try{ideaTypeValue=eval("idea.".concat(self.config.typeField))}catch(e){ideaTypeValue=""}var typeDef=self.config.types.find((function(e){return ideaTypeValue&&(e.id==ideaTypeValue||e.name==ideaTypeValue)}));typeDef&&typeDef.listicon||(typeDef={listicon:{html:""}});try{"string"==typeof typeDef.listicon&&(typeDef.listicon=JSON.parse(typeDef.listicon))}catch(e){}typeDef.listicon.html&&(typeIconHTML=React.createElement("div",{className:"osc-typeicon"},React.createElement("div",{className:"osc-typeicon-content",dangerouslySetInnerHTML:{__html:typeDef.listicon.html}})))}return React.createElement("div",{id:self.divId,className:"osc-idea-tile osc-displaytype-".concat(self.config.display.type," osc-column osc-").concat(self.config.display.columns,"-columns ").concat(self.props.className||""),onClick:function(e){return self.dispatchIdeaTileClick(e,idea)},onMouseEnter:function(e){return self.dispatchIdeaTileMouseEnter(e,idea)},onMouseLeave:function(e){return self.dispatchIdeaTileMouseLeave(e,idea)}},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_4__.IdeaImage,{config:this.config,idea,key:"image-"+idea.id})),React.createElement("div",{className:"osc-idea-tile-content"},statusLabelHTML,React.createElement("h4",{className:"osc-title"},eval("idea.".concat(self.config.idea.titleField))),themeAndAreaHTML,React.createElement("div",{className:"osc-summary"},eval("idea.".concat(self.config.idea.summaryField))),voteProgressHTML,statsHTML),React.createElement("div",{className:"osc-idea-tile-content-alt"},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_4__.IdeaImage,{config:this.config,idea,key:"image-"+idea.id})),React.createElement("h4",{className:"osc-title"},eval("idea.".concat(self.config.idea.titleField))),eval("idea.".concat(self.config.idea.summaryField)),statsHTML),typeIconHTML)}}]),IdeasOverview}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__.Z)},7234:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeasFilter});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7961);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeasFilter=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__.Z)(IdeasFilter,_OpenStadComponent);var _super=_createSuper(IdeasFilter);function IdeasFilter(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.Z)(this,IdeasFilter),(t=_super.call(this,e)).doFilter=t.doFilter.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.setFilter=t.setFilter.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.state={currentValue:t.config.defaultValue},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__.Z)(IdeasFilter,[{key:"componentDidMount",value:function(e,t){this.state.currentValue&&this.setFilter({value:this.state.currentValue})}},{key:"doFilter",value:function doFilter(ideas,value){var self=this;return value=value||this.state.currentValue,ideas=ideas.filter((function(idea){var fieldName=self.config.fieldName,fieldValue=eval("idea.".concat(fieldName));return fieldValue==value})),ideas}},{key:"setFilter",value:function(e){var t=e.value,r=this;this.setState({currentValue:t},(function(){var e=new window.CustomEvent("osc-ideas-filter-onchange",{detail:{fieldName:r.config.fieldName,value:t,doFilter:r.doFilter}});document.dispatchEvent(e)}))}},{key:"render",value:function(){var e=this;if(0==e.config.showFilter)return null;var t=null;return e.config.label&&(t=React.createElement("div",{className:"osc-filter-label"},e.config.label,":")),React.createElement("div",{className:"osc-ideas-filter ".concat(e.props.className||"")},t,React.createElement("select",{value:e.state.currentValue,onChange:function(){return e.setFilter({value:e.filterSelector.value})},className:"osc-default-select",ref:function(t){return e.filterSelector=t}},e.config.filterOptions.map((function(e,t){return React.createElement("option",{value:e.value,key:"filter-option-"+t},e.label)}))))}}]),IdeasFilter}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__.Z)},7530:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>IdeasSearch});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7608),_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7961);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(e);if(t){var o=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.Z)(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var IdeasSearch=function(_OpenStadComponent){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__.Z)(IdeasSearch,_OpenStadComponent);var _super=_createSuper(IdeasSearch);function IdeasSearch(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.Z)(this,IdeasSearch),(t=_super.call(this,e,{placeholder:"Zoeken",fieldNames:["title","summary"],showSearch:!0,showButton:!1,showSuggestions:!1,defaultValue:""})).doSearch=t.doSearch.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.setSearch=t.setSearch.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.Z)(t)),t.state={currentValue:t.config.defaultValue},t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__.Z)(IdeasSearch,[{key:"componentDidMount",value:function(e,t){this.state.currentValue&&this.setFilter({value:this.state.currentValue})}},{key:"doSearch",value:function doSearch(ideas,value){var self=this;return value=value||this.state.currentValue,ideas=ideas.filter((function(idea){var found=!1;return self.config.fieldNames.forEach((function(fieldName){var fieldValue=eval("idea.".concat(fieldName));fieldValue.match(new RegExp(value,"i"))&&(found=!0)})),found})),ideas}},{key:"setSearch",value:function(e){var t=e.value,r=this;this.setState({currentValue:t},(function(){var e=new window.CustomEvent("osc-ideas-search-onchange",{detail:{value:t,doSearch:r.doSearch}});document.dispatchEvent(e)}))}},{key:"showSuggestions",value:function(){}},{key:"hideSuggestions",value:function(){}},{key:"render",value:function(){var e=this;if(0==e.config.showSearch)return null;var t=null;e.config.label&&(t=React.createElement("div",{className:"osc-search-label"},e.config.label,":"));return React.createElement("div",{className:"osc-ideas-search ".concat(e.props.className||"")},t,null,React.createElement("input",{type:"text",value:this.state.currentValue,placeholder:e.config.placeholder,onChange:function(){return e.setSearch({value:e.searchInput.value})},onBlur:function(){return e.hideSuggestions()},onFocus:function(){return e.showSuggestions()},className:"osc-default-input osc-ideas-search-input",ref:function(t){return e.searchInput=t}}),React.createElement("button",{className:"osc-ideas-search-button".concat(this.state.currentValue?" osc-active":""),onClick:function(t){return e.setSearch({value:""})},ref:function(t){return e.resetButton=t}}))}}]),IdeasSearch}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_2__.Z)},4315:(e,t,r)=>{"use strict";r.d(t,{IdeaImage:()=>g});r(7147);var n=r(3804),o=r.n(n),i=r(7196),a=r.n(i),s=(r(5784),r(484)),c=r(4699),u=r(6610),l=r(5991),f=r(379),_=r(6070),d=r(7608),p=r(1965),h=r.n(p);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,_.Z)(this,r)}}var m=function(e){(0,f.Z)(r,e);var t=v(r);function r(e){var n;(0,u.Z)(this,r);return(n=t.call(this,e)).config=h().recursive({image:{server:{},aspectRatio:"16x9",allowMultipleImages:!1}},n.config,n.props.config||{}),n.state={currentImageIndex:0,width:0},n}return(0,l.Z)(r,[{key:"componentDidMount",value:function(){var e=this.mainElement&&this.mainElement.parentNode;e&&this.setState({width:e.offsetWidth})}},{key:"setCurrentImageIndex",value:function(e){this.setState({currentImageIndex:e})}},{key:"getImagesFromProps",value:function(){var e=this.props.images||[];this.props.image||e[this.state.currentImageIndex];return[this.props.image,e]}},{key:"getImageSrc",value:function(e){var t,r,n,o=this.getWidthHeight(),i=(0,c.Z)(o,2);if(r=i[0],n=i[1],r&&n&&(t=e,"object"==(0,s.Z)(e)&&e.src&&(t=e.src),t||(t=this.config.image.placeholderImageSrc),t&&this.config.image.server.srcExtension&&t.match(this.config.image.server.fetch))){var a=this.config.image.server.srcExtension;t+=a=a.replace(/\[\[width\]\]/g,r).replace(/\[\[height\]\]/g,n)}return t}},{key:"getAspectRatioFactor",value:function(){if(this.props.width&&this.props.height)return this.props.width/this.props.height;var e=this.config.image.aspectRatio.match(/(\d+)x(\d+)/);return e?e[1]/e[2]:16/9}},{key:"getWidthHeight",value:function(){var e=this.mainElement&&this.mainElement.parentNode,t=this.props.width||this.state.width||e&&e.offsetWidth;return[t,this.props.height||t*(1/this.getAspectRatioFactor())||void 0]}},{key:"render",value:function(){var e,t,r,n,i=this,a=this,s=a.getImagesFromProps(),u=(0,c.Z)(s,2);t=u[0],e=u[1];var l=a.getWidthHeight(),f=(0,c.Z)(l,2);if(r=f[0],n=f[1],a.config.image.allowMultipleImages&&e.length>1){var _=a.getImageSrc(t);return o().createElement("div",{id:a.divId,className:"osc-multiple-images ".concat(a.props.className||""),ref:function(e){return i.mainElement=e}},o().createElement("div",{className:"osc-image-spacer",style:{width:r,height:n}},o().createElement("div",{className:"osc-image",style:_?{backgroundImage:"url(".concat(_,")")}:{},key:"image-"+a.divId})),o().createElement("div",{className:"osc-multiple-images-thumbs",style:{height:.1*a.state.width}},e.map((function(e,t){var n=.1*r,i=n*a.getAspectRatioFactor(),s=1.05*i*t,c=a.getImageSrc(e);return o().createElement("div",{className:"osc-image-thumb-spacer",key:"osc-image-thumb-".concat(t),style:{left:s,width:i,height:n}},o().createElement("div",{className:"osc-image-thumb",style:c?{backgroundImage:"url(".concat(c,")"),zIndex:10-t}:{},onClick:function(e){return a.setCurrentImageIndex(t)}}))}))))}var d=a.getImageSrc(t);return o().createElement("div",{id:a.divId,className:"osc-image-spacer ".concat(a.props.className||""),style:{width:r,height:n},ref:function(e){return i.mainElement=e}},o().createElement("div",{className:"osc-image",style:d?{backgroundImage:"url(".concat(d,")")}:{},onClick:this.props.onClick,key:"image-"+a.divId}))}}]),r}(r(7961).Z);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,_.Z)(this,r)}}var g=function(e){(0,f.Z)(r,e);var t=y(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,l.Z)(r,[{key:"getImagesFromProps",value:function(){var e=this.props.idea;if(!e)return["",[""]];var t=e.extraData&&e.extraData.images||[];return[e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[this.state.currentImageIndex],t]}}]),r}(m);g.renderElement=function(e,t){var r=e.attributes;a().render(o().createElement(g,{attributes:r,config:t}),e)}},2150:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>p});r(7147),r(3804),r(7196),r(6832);var n=r(1965),o=r.n(n),i=r(484),a={get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==(0,i.Z)(t))try{t=JSON.stringify(t)}catch(e){}sessionStorage.setItem(e,t)}},remove:function(e){sessionStorage.removeItem(e)}};const s=a;function c(e){var t,r=window.location.search.match(/(?:\?|&)jwt=([A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*)(?:&|$)/);if(r){t=r[1],s.set("osc-jwt",t);var n=document.location.search.replace("jwt="+t,"");"?"==n&&(n=""),document.location.search=n}return t=s.get("osc-jwt"),e&&e.jwt&&(t=e.jwt,s.set("osc-jwt",t)),t}var u={getHeaders:function(e){var t=o().recursive({"Content-type":"application/json"},e&&e.api&&e.api.headers),r=c();return r&&(t=o().recursive({"X-Authorization":"Bearer "+r},t)),t}};var l={getLoginUrl:function(e){var t="returnTo="+encodeURIComponent(document.location.toString()),r=e.loginUrl||"/oauth/login?{returnTo}";return r=r.replace(/{returnTo}/,t)}};var f={admin:["admin","moderator","editor","member","anonymous","all"],moderator:["moderator","editor","member","anonymous","all"],editor:["editor","member","anonymous","all"],member:["member","anonymous","all"],anonymous:["anonymous","all"],all:["all"],owner:null};var _={getUser:function(e,t){t=t||function(e){console.log("getUser: next not defined."),console.log(e)};var r=e.user||s.get("osc-user");if(r)return t(null,r);var n=c(e);if(!n)return t(null,{});var o="".concat(e.api.url,"/oauth/site/").concat(e.siteId,"/me"),i={"X-Authorization":"Bearer ".concat(n),"Content-Type":"application/json"};fetch(o,{headers:i}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){s.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},getJWT:c,logout:function(e,t){t=t||function(e){console.log("logout: next not defined.")};var r=e.user||s.get("osc-user");if(r)return t(null,r);var n=c(e);if(!n)return t(null,{});var o=e.api.url+"/oauth/site/"+e.siteId+"/me";fetch(o,{headers:{"X-Authorization":"Bearer "+n,"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){s.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},hasRole:function(e,t){var r=e.role;return Object.keys(f).includes(r)||(r="all"),f[r].includes(t)}};var d={get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==(0,i.Z)(t))try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)}},remove:function(e){localStorage.removeItem(e)}};const p={api:u,auth:l,user:_,ideasSort:function(e){var t=e.ideas,r=e.sortOrder,n=e.center;switch(r=r||"random"){case"title":t=t.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0}));break;case"ranking,asc":t=t.sort((function(e,t){return e.ranking-t.ranking}));break;case"likes,asc":t=t.sort((function(e,t){return e.yes-t.yes}));break;case"likes,desc":t=t.sort((function(e,t){return t.yes-e.yes}));break;case"createdtime,desc":t=t.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}));break;case"createdtime,asc":t=t.sort((function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}));break;case"distance":(n=n||{lat:52.37104644463586,lng:900402911007405}).coordinates&&(n.lat=n.coordinates[0],n.lng=n.coordinates[1]),t=t.map((function(e){return e._distance=Math.sqrt(Math.pow(e.location.coordinates[0]-n.lat,2)+Math.pow(e.location.coordinates[1]-n.lng,2)),e})).sort((function(e,t){return e._distance-t._distance}));break;case"args,desc":t=t.sort((function(e,t){return t.argCount-e.argCount}));break;case"args,asc":t=t.sort((function(e,t){return e.argCount-t.argCount}));break;default:t=t.sort((function(e,t){return Math.random()-.5}))}return t},localStorage:d,sessionStorage:a,reactTemplate:function(e){var t=e.html,r=void 0===t?"":t,n=arguments[0];delete n.html;var o=0;return Object.keys(n).forEach((function(e){var t=new RegExp("^((?:.|\n|\r)*)\\{".concat(e,"\\}((?:.|\n|\r)*)$"),"g").exec(r);t&&(o++,r=React.createElement("span",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:t[1]}}),n[e],React.createElement("span",{dangerouslySetInnerHTML:{__html:t[2]}})))})),0==o&&(r=React.createElement("span",{dangerouslySetInnerHTML:{__html:r}})),r},addToClassname:function(e,t,r){return e&&(e.className||(e.className=""),e.className.match(new RegExp(" ?"+t+"(?: |$)"))||(e.className=r&&r.before?t+" "+e.className:e.className+" "+t)),e},removeFromClassName:function(e,t){return e&&e.className&&(e.className=e.className.replace(new RegExp(" ?"+t+"(?: |$)"),"")),e}}},3462:(e,t,r)=>{r(6699);var n=r(2649);e.exports=n("Array","includes")},3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},1223:(e,t,r)=>{var n=r(5112),o=r(30),i=r(3070),a=n("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},9670:(e,t,r)=>{var n=r(111);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},1318:(e,t,r)=>{var n=r(5656),o=r(7466),i=r(1400),a=function(e){return function(t,r,a){var s,c=n(t),u=o(c.length),l=i(a,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},9207:(e,t,r)=>{var n=r(9781),o=r(7293),i=r(6656),a=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var r=[][e],u=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:c,f=i(t,1)?t[1]:void 0;return s[e]=!!r&&!o((function(){if(u&&!n)return!0;var e={length:-1};u?a(e,1,{enumerable:!0,get:c}):e[1]=1,r.call(e,l,f)}))}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9920:(e,t,r)=>{var n=r(6656),o=r(3887),i=r(1236),a=r(3070);e.exports=function(e,t){for(var r=o(t),s=a.f,c=i.f,u=0;u<r.length;u++){var l=r[u];n(e,l)||s(e,l,c(t,l))}}},8880:(e,t,r)=>{var n=r(9781),o=r(3070),i=r(9114);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9781:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,r)=>{var n=r(7854),o=r(111),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},2649:(e,t,r)=>{var n=r(7854),o=r(9974),i=Function.call;e.exports=function(e,t,r){return o(i,n[e].prototype[t],r)}},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,r)=>{var n=r(7854),o=r(1236).f,i=r(8880),a=r(1320),s=r(3505),c=r(9920),u=r(4705);e.exports=function(e,t){var r,l,f,_,d,p=e.target,h=e.global,v=e.stat;if(r=h?n:v?n[p]||s(p,{}):(n[p]||{}).prototype)for(l in t){if(_=t[l],f=e.noTargetGet?(d=o(r,l))&&d.value:r[l],!u(h?l:p+(v?".":"#")+l,e.forced)&&void 0!==f){if(typeof _==typeof f)continue;c(_,f)}(e.sham||f&&f.sham)&&i(_,"sham",!0),a(r,l,_,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9974:(e,t,r)=>{var n=r(3099);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},5005:(e,t,r)=>{var n=r(857),o=r(7854),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},7854:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||Function("return this")()},6656:e=>{var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},3501:e=>{e.exports={}},490:(e,t,r)=>{var n=r(5005);e.exports=n("document","documentElement")},4664:(e,t,r)=>{var n=r(9781),o=r(7293),i=r(317);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,r)=>{var n=r(7293),o=r(4326),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},2788:(e,t,r)=>{var n=r(5465),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},9909:(e,t,r)=>{var n,o,i,a=r(8536),s=r(7854),c=r(111),u=r(8880),l=r(6656),f=r(6200),_=r(3501),d=s.WeakMap;if(a){var p=new d,h=p.get,v=p.has,m=p.set;n=function(e,t){return m.call(p,e,t),t},o=function(e){return h.call(p,e)||{}},i=function(e){return v.call(p,e)}}else{var y=f("state");_[y]=!0,n=function(e,t){return u(e,y,t),t},o=function(e){return l(e,y)?e[y]:{}},i=function(e){return l(e,y)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},4705:(e,t,r)=>{var n=r(7293),o=/#|\.prototype\./,i=function(e,t){var r=s[a(e)];return r==u||r!=c&&("function"==typeof t?n(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},133:(e,t,r)=>{var n=r(7293);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},8536:(e,t,r)=>{var n=r(7854),o=r(2788),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},30:(e,t,r)=>{var n,o=r(9670),i=r(6048),a=r(748),s=r(3501),c=r(490),u=r(317),l=r(6200),f=l("IE_PROTO"),_=function(){},d=function(e){return"<script>"+e+"</"+"script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=n?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var r=a.length;r--;)delete p.prototype[a[r]];return p()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(_.prototype=o(e),r=new _,_.prototype=null,r[f]=e):r=p(),void 0===t?r:i(r,t)}},6048:(e,t,r)=>{var n=r(9781),o=r(3070),i=r(9670),a=r(1956);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=a(t),s=n.length,c=0;s>c;)o.f(e,r=n[c++],t[r]);return e}},3070:(e,t,r)=>{var n=r(9781),o=r(4664),i=r(9670),a=r(7593),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=a(t,!0),i(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1236:(e,t,r)=>{var n=r(9781),o=r(5296),i=r(9114),a=r(5656),s=r(7593),c=r(6656),u=r(4664),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=s(t,!0),u)try{return l(e,t)}catch(e){}if(c(e,t))return i(!o.f.call(e,t),e[t])}},8006:(e,t,r)=>{var n=r(6324),o=r(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},6324:(e,t,r)=>{var n=r(6656),o=r(5656),i=r(1318).indexOf,a=r(3501);e.exports=function(e,t){var r,s=o(e),c=0,u=[];for(r in s)!n(a,r)&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~i(u,r)||u.push(r));return u}},1956:(e,t,r)=>{var n=r(6324),o=r(748);e.exports=Object.keys||function(e){return n(e,o)}},5296:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},3887:(e,t,r)=>{var n=r(5005),o=r(8006),i=r(5181),a=r(9670);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},857:(e,t,r)=>{var n=r(7854);e.exports=n},1320:(e,t,r)=>{var n=r(7854),o=r(8880),i=r(6656),a=r(3505),s=r(2788),c=r(9909),u=c.get,l=c.enforce,f=String(String).split("String");(e.exports=function(e,t,r,s){var c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,_=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||o(r,"name",t),l(r).source=f.join("string"==typeof t?t:"")),e!==n?(c?!_&&e[t]&&(u=!0):delete e[t],u?e[t]=r:o(e,t,r)):u?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:(e,t,r)=>{var n=r(7854),o=r(8880);e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}},6200:(e,t,r)=>{var n=r(2309),o=r(9711),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},5465:(e,t,r)=>{var n=r(7854),o=r(3505),i="__core-js_shared__",a=n[i]||o(i,{});e.exports=a},2309:(e,t,r)=>{var n=r(1913),o=r(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},1400:(e,t,r)=>{var n=r(9958),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},5656:(e,t,r)=>{var n=r(8361),o=r(4488);e.exports=function(e){return n(o(e))}},9958:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},7466:(e,t,r)=>{var n=r(9958),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},7593:(e,t,r)=>{var n=r(111);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},9711:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},3307:(e,t,r)=>{var n=r(133);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(e,t,r)=>{var n=r(7854),o=r(2309),i=r(6656),a=r(9711),s=r(133),c=r(3307),u=o("wks"),l=n.Symbol,f=c?l:l&&l.withoutSetter||a;e.exports=function(e){return i(u,e)||(s&&i(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},6699:(e,t,r)=>{"use strict";var n=r(2109),o=r(1318).includes,i=r(1223);n({target:"Array",proto:!0,forced:!r(9207)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},7301:(e,t,r)=>{e.exports=r(2702).Promise},2702:function(e,t,r){e.exports=function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,a=void 0,s=function(e,t){b[o]=e,b[o+1]=t,2===(o+=2)&&(a?a(w):O())};function c(e){a=e}function u(e){s=e}var l="undefined"!=typeof window?window:void 0,f=l||{},_=f.MutationObserver||f.WebKitMutationObserver,d="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){return function(){return process.nextTick(w)}}function v(){return function(){i(w)}}function m(){var e=0,t=new _(w),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function y(){var e=new MessageChannel;return e.port1.onmessage=w,function(){return e.port2.postMessage(0)}}function g(){var e=setTimeout;return function(){return e(w,1)}}var b=new Array(1e3);function w(){for(var e=0;e<o;e+=2)(0,b[e])(b[e+1]),b[e]=void 0,b[e+1]=void 0;o=0}function E(){try{var e=r(4327);return i=e.runOnLoop||e.runOnContext,v()}catch(e){return g()}}var O=void 0;function S(e,t){var r=arguments,n=this,o=new this.constructor(k);void 0===o[I]&&Y(o);var i,a=n._state;return a?(i=r[a-1],s((function(){return J(a,o,i,n._result)}))):W(n,o,e,t),o}function R(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(k);return F(r,e),r}O=d?h():_?m():p?y():void 0===l?E():g();var I=Math.random().toString(36).substring(16);function k(){}var P=void 0,M=1,T=2,A=new K;function D(){return new TypeError("You cannot resolve a promise with itself")}function x(){return new TypeError("A promises callback cannot return that same promise.")}function C(e){try{return e.then}catch(e){return A.error=e,A}}function L(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function j(e,t,r){s((function(e){var n=!1,o=L(r,t,(function(r){n||(n=!0,t!==r?F(e,r):U(e,r))}),(function(t){n||(n=!0,q(e,t))}),"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,q(e,o))}),e)}function N(e,t){t._state===M?U(e,t._result):t._state===T?q(e,t._result):W(t,void 0,(function(t){return F(e,t)}),(function(t){return q(e,t)}))}function Z(e,r,n){r.constructor===e.constructor&&n===S&&r.constructor.resolve===R?N(e,r):n===A?q(e,A.error):void 0===n?U(e,r):t(n)?j(e,r,n):U(e,r)}function F(t,r){t===r?q(t,D()):e(r)?Z(t,r,C(r)):U(t,r)}function B(e){e._onerror&&e._onerror(e._result),V(e)}function U(e,t){e._state===P&&(e._result=t,e._state=M,0!==e._subscribers.length&&s(V,e))}function q(e,t){e._state===P&&(e._state=T,e._result=t,s(B,e))}function W(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+M]=r,o[i+T]=n,0===i&&e._state&&s(V,e)}function V(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+r],n?J(r,n,o,i):o(i);e._subscribers.length=0}}function K(){this.error=null}var H=new K;function z(e,t){try{return e(t)}catch(e){return H.error=e,H}}function J(e,r,n,o){var i=t(n),a=void 0,s=void 0,c=void 0,u=void 0;if(i){if((a=z(n,o))===H?(u=!0,s=a.error,a=null):c=!0,r===a)return void q(r,x())}else a=o,c=!0;r._state!==P||(i&&c?F(r,a):u?q(r,s):e===M?U(r,a):e===T&&q(r,a))}function $(e,t){try{t((function(t){F(e,t)}),(function(t){q(e,t)}))}catch(t){q(e,t)}}var G=0;function X(){return G++}function Y(e){e[I]=G++,e._state=void 0,e._result=void 0,e._subscribers=[]}function Q(e,t){this._instanceConstructor=e,this.promise=new e(k),this.promise[I]||Y(this.promise),n(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?U(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&U(this.promise,this._result))):q(this.promise,ee())}function ee(){return new Error("Array Methods must be provided an Array")}function te(e){return new Q(this,e).promise}function re(e){var t=this;return n(e)?new t((function(r,n){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function ne(e){var t=new this(k);return q(t,e),t}function oe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ie(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ae(e){this[I]=X(),this._result=this._state=void 0,this._subscribers=[],k!==e&&("function"!=typeof e&&oe(),this instanceof ae?$(this,e):ie())}function se(){var e=void 0;if(void 0!==r.g)e=r.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=ae}return Q.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===P&&r<e;r++)this._eachEntry(t[r],r)},Q.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===R){var o=C(e);if(o===S&&e._state!==P)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===ae){var i=new r(k);Z(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},Q.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===P&&(this._remaining--,e===T?q(n,r):this._result[t]=r),0===this._remaining&&U(n,this._result)},Q.prototype._willSettleAt=function(e,t){var r=this;W(e,void 0,(function(e){return r._settledAt(M,t,e)}),(function(e){return r._settledAt(T,t,e)}))},ae.all=te,ae.race=re,ae.resolve=R,ae.reject=ne,ae._setScheduler=c,ae._setAsap=u,ae._asap=s,ae.prototype={constructor:ae,then:S,catch:function(e){return this.then(null,e)}},se(),ae.polyfill=se,ae.Promise=ae,ae}()},1965:(e,t)=>{"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(void 0,e)}function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(!0===e[0],!1,e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(!0===e[0],!0,e)}function i(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;++r)t.push(i(e[r]));return t}if(a(e)){t={};for(var r in e)t[r]=i(e[r]);return t}return e}function a(e){return e&&"object"==typeof e&&!Array.isArray(e)}function s(e,t){if(!a(e))return t;for(var r in t)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=a(e[r])&&a(t[r])?s(e[r],t[r]):t[r]);return e}function c(e,t,r){var n;!e&&a(n=r.shift())||(n={});for(var o=0;o<r.length;++o){var c=r[o];if(a(c))for(var u in c)if("__proto__"!==u&&"constructor"!==u&&"prototype"!==u){var l=e?i(c[u]):c[u];n[u]=t?s(n[u],l):l}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=t.clone=t.recursive=t.merge=t.main=void 0,e.exports=t=r,t.default=r,t.main=r,r.clone=i,r.isPlainObject=a,r.recursive=o,t.merge=n,t.recursive=o,t.clone=i,t.isPlainObject=a},6014:()=>{},5784:()=>{},6832:()=>{},7147:(e,t,r)=>{"use strict";var n=r(7301),o="URLSearchParams"in self,i="Symbol"in self&&"iterator"in Symbol,a="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in self,c="ArrayBuffer"in self;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function _(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return n.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new n((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=v(t);return t.readAsArrayBuffer(e),r}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return n.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return n.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return n.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||n.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,r,o=h(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=v(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return n.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return n.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=f(e),t=_(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},p.prototype.delete=function(e){delete this.map[f(e)]},p.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},p.prototype.set=function(e,t){this.map[f(e)]=_(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},i&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var r,n,o=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function O(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];O.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})};var R=self.DOMException;try{new R}catch(e){(R=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),R.prototype.constructor=R}function I(e,t){return new n((function(r,n){var o=new w(e,t);if(o.signal&&o.signal.aborted)return n(new R("Aborted","AbortError"));var i=new XMLHttpRequest;function s(){i.abort()}i.onload=function(){var e,t,n={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;r(new O(o,n))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.onabort=function(){n(new R("Aborted","AbortError"))},i.open(o.method,o.url,!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&a&&(i.responseType="blob"),o.headers.forEach((function(e,t){i.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",s),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",s)}),i.send(void 0===o._bodyInit?null:o._bodyInit)}))}I.polyfill=!0,self.fetch||(self.fetch=I,self.Headers=p,self.Request=w,self.Response=O)},3804:e=>{"use strict";e.exports=window.React},7196:e=>{"use strict";e.exports=window.ReactDOM},4327:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{IdeaTile:()=>f.Z,IdeasFilter:()=>v.Z,IdeasFilterbar:()=>g,IdeasList:()=>d,IdeasOverview:()=>R,IdeasSearch:()=>m.Z,IdeasSort:()=>w,default:()=>R});__webpack_require__(7147);var e=__webpack_require__(3804),t=__webpack_require__.n(e),r=__webpack_require__(7196),n=__webpack_require__.n(r),o=(__webpack_require__(6014),__webpack_require__(6610)),i=__webpack_require__(5991),a=__webpack_require__(379),s=__webpack_require__(6070),c=__webpack_require__(7608),u=__webpack_require__(7961),l=__webpack_require__(2150),f=__webpack_require__(8269);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var d=function(e){(0,a.Z)(r,e);var t=_(r);function r(e){var n;(0,o.Z)(this,r);var i={idea:{titleField:"title",summaryField:"summary"},sort:{sortOptions:[{value:"createdtime,desc",label:"Nieuwste eerst"},{value:"createdtime,asc",label:"Oudste eerst"}],showSort:!0,defaultValue:"createdtime,desc"},types:[]};switch(e.config.display&&e.config.display.type){case"list":i.display={title:"Inzendingen",columns:1,showStatusLabel:!1,showTheme:!1,showArea:!1,showVoteProgressbar:!1,showStats:!0,showTypeIcon:!0,onMouseOverTileFadeOthers:!1};break;case"grid":i.display={title:"Inzendingen",columns:3,showStatusLabel:!1,showTheme:!0,showArea:!0,showVoteProgressbar:!1,showStats:!1,showTypeIcon:!1,onMouseOverTileFadeOthers:!1};break;default:i.display={title:"Inzendingen",type:"tiles",columns:4,showStatusLabel:!0,showTheme:!1,showArea:!1,showVoteProgressbar:!0,showStats:!0,showTypeIcon:!1,onMouseOverTileFadeOthers:!1}}return(n=t.call(this,e,i)).state={highLightIdeaId:null},n}return(0,i.Z)(r,[{key:"componentDidMount",value:function(e,t){var r=this;r.ideaTileMouseEnterListener=function(e){r.onTileMouseEnter(e.detail)},document.addEventListener("osc-idea-tile-mouse-enter",r.ideaTileMouseEnterListener),r.ideaTileMouseLeaveListener=function(e){r.onTileMouseLeave(e.detail)},document.addEventListener("osc-idea-tile-mouse-leave",r.ideaTileMouseLeaveListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-idea-tile-mouse-enter",this.ideaTileMouseEnterListener),document.removeEventListener("osc-idea-tile-mouse-leave",this.ideaTileMouseLeaveListener)}},{key:"onTileMouseEnter",value:function(e){var t=e.idea;this.setState({highLightIdeaId:t.id})}},{key:"onTileMouseLeave",value:function(e){e.idea;this.setState({highLightIdeaId:null})}},{key:"render",value:function(){var e=this,t=this,r=t.props.ideas||[];return React.createElement("div",{className:"osc-tile-list-container osc-columns-container ".concat(t.props.className||"")},React.createElement("div",{className:"osc-tile-list osc-columns"},r.map((function(r,n){return React.createElement(f.Z,{config:t.config,idea:r,className:"".concat(e.config.display.onMouseOverTileFadeOthers&&t.state.highLightIdeaId&&t.state.highLightIdeaId!=r.id?" osc-opacity-65":""),key:"osc-idea-tile-".concat(r.id)})}))))}}]),r}(u.Z),p=__webpack_require__(6156),h=__webpack_require__(3349),v=__webpack_require__(7234),m=__webpack_require__(7530);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var g=function(e){(0,a.Z)(r,e);var t=y(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e,{display:{}})).doNextPendingResetAction=n.doNextPendingResetAction.bind((0,h.Z)(n)),n.state={pendingResetActions:[]},n}return(0,i.Z)(r,[{key:"componentDidMount",value:function(e,t){var r=this;r.ideasSearchOnchangeListener=function(e){r.doNextPendingResetAction()},document.addEventListener("osc-ideas-search-onchange",r.ideasSearchOnchangeListener),r.ideasFilterOnchangeListener=function(e){r.hideMobileActiveSelector(),r.doNextPendingResetAction()},document.addEventListener("osc-ideas-filter-onchange",r.ideasFilterOnchangeListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-ideas-search-onchange",this.ideasSearchOnchangeListener),document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener)}},{key:"toggleMobileActiveSelector",value:function(e){this.state.mobileActiveSelector!=e?this.showMobileActiveSelector(e):this.hideMobileActiveSelector()}},{key:"showMobileActiveSelector",value:function(e){this.setState({mobileActiveSelector:e})}},{key:"hideMobileActiveSelector",value:function(){this.setState({mobileActiveSelector:null})}},{key:"resetAll",value:function(){var e=this;e.search&&e.state.pendingResetActions.push(e.search.setSearch),e.filters&&e.filters.forEach((function(t){e.state.pendingResetActions.push(t.setFilter)}));var t=new window.CustomEvent("osc-ideas-filter-reset-all",{detail:{}});document.dispatchEvent(t),e.doNextPendingResetAction()}},{key:"doNextPendingResetAction",value:function(){var e=this.state.pendingResetActions.shift();e&&e({value:""})}},{key:"render",value:function(){var e=this;if(!(void 0!==e.props.showFilterbar?e.props.showFilterbar:e.config.display.showFilterbar))return null;var t=null;e.config.search&&(t=React.createElement("div",{className:"osc-ideas-search-container"},React.createElement("div",{className:"osc-ideas-search-button",onClick:function(){return e.toggleMobileActiveSelector("search")}}),React.createElement(m.Z,{config:e.config.search,className:"".concat("search"==e.state.mobileActiveSelector?" osc-is-active":""),ref:function(t){return e.search=t}})));var r;r=React.createElement("button",{value:"reset",onClick:function(){return e.resetAll()},className:"osc-button osc-reset-button"},"Alles tonen");var n=null;if(e.config.filter&&e.config.filter.length){var o=e.filters&&e.filters.find((function(e){return e.state.currentValue}));e.filters=[],n=React.createElement("div",{className:"osc-ideas-filters-and-button-container"},React.createElement("div",{className:"osc-ideas-filter-button".concat(o?" osc-active":""),onClick:function(){return e.toggleMobileActiveSelector("filters")}}),React.createElement("div",{className:"osc-ideas-filters-container".concat("filters"==e.state.mobileActiveSelector?" osc-is-active":"")},e.config.filter.map((function(t,r){return React.createElement(v.Z,{config:t,className:"osc-align-right-container",key:"osc-ideas-filter-".concat(r),ref:function(t){return e.filters[r]=t}})}))),r)}var i;return i=React.createElement("div",{className:"osc-ideas-filters-and-reset-button-container"},n),React.createElement("div",{className:"osc-ideas-filterbar ".concat(e.props.className||"")},t,i)}}]),r}(u.Z);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var w=function(e){(0,a.Z)(r,e);var t=b(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e,{label:null,sortOptions:[{value:"createdtime,desc",label:"Nieuwste eerst"},{value:"createdtime,asc",label:"Oudste eerst"},{value:"title",label:"Titel"},{value:"random",label:"Willekeurig"},{value:"likes,desc",label:"Meeste likes"},{value:"likes,asc",label:"Minste likes"},{value:"args,desc",label:"Meeste reacties"},{value:"args,asc",label:"Minste reacties"},{value:"ranking,asc",label:"Ranglijst"}],defaultValue:"createdtime,desc",showSort:!0,center:{latitude:52.37104644463586,longitude:4.900402911007405}})).state={currentValue:n.config.defaultValue},n}return(0,i.Z)(r,[{key:"doSort",value:function(e){var t=e.ideas,r=e.sortOrder,n=e.center;return r=r||this.state.currentValue,n=n||this.config.center,l.ZP.ideasSort({ideas:t,sortOrder:r,center:n})}},{key:"setSortOrder",value:function(e){var t=e.sortOrder,r=this.props.ideas||[];r=this.doSort({ideas:r,sortOrder:t}),this.setState({ideas:r,currentValue:t},(function(){var e=new window.CustomEvent("osc-ideas-sort-onchange",{detail:r});document.dispatchEvent(e)}))}},{key:"render",value:function(){var e=this;e.props.ideas;if(!(e.config.sortOptions&&e.config.sortOptions.length&&(void 0!==e.props.showSort?e.props.showSort:e.config.showSort)))return null;var t=null;return e.config.label&&(t=React.createElement("div",{className:"osc-sort-label"},e.config.label,":")),React.createElement("div",{className:"osc-ideas-sort ".concat(e.props.className||"")},t,React.createElement("select",{defaultValue:e.state.currentValue,onChange:function(){return e.setSortOrder({sortOrder:e.sortSelector.value})},className:"osc-default-select",ref:function(t){return e.sortSelector=t}},e.config.sortOptions.map((function(e,t){return React.createElement("option",{value:e.value,key:"sort-option-"+t},e.label)}))))}}]),r}(u.Z);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,p.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var R=function(e){(0,a.Z)(r,e);var t=S(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e,{siteId:null,title:"Inzendingen",display:{showFilterbar:!0},idea:{titleField:"title",summaryField:"summary"},sort:{showSort:!0,defaultValue:"createdtime,desc"},filter:[],types:[],typeLabel:"Thema"})).state={ideas:n.props.ideas||[],filters:{},search:null},n}return(0,i.Z)(r,[{key:"componentDidMount",value:function(e,t){var r=this;r.ideasFilterOnchangeListener=function(e){r.updateFilter(e.detail)},document.addEventListener("osc-ideas-filter-onchange",r.ideasFilterOnchangeListener),r.ideasSearchOnchangeListener=function(e){r.updateSearch(e.detail)},document.addEventListener("osc-ideas-search-onchange",r.ideasSearchOnchangeListener),r.ideasSortOnchangeListener=function(e){r.updateSort(e.detail)},document.addEventListener("osc-ideas-sort-onchange",r.ideasSortOnchangeListener),void 0===r.props.ideas&&r.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener),document.removeEventListener("osc-ideas-search-onchange",this.ideasSearchOnchangeListener),document.removeEventListener("osc-ideas-sort-onchange",this.ideasSortOnchangeListener)}},{key:"fetchData",value:function(){var e=this,t="".concat(e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea?summary=1&includeVoteCount=1&includeArgsCount=1"),r=l.ZP.api.getHeaders(e.config);fetch(t,{headers:r}).then((function(e){if(!e.ok)throw Error("Error fechting detail");return e.json()})).then((function(t){var r=t;r=e.sorter.doSort({ideas:r}),e.setState({ideas:r},(function(){}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}},{key:"updateFilter",value:function(e){var t=O({},this.state.filters);e.value?t[e.fieldName]={value:e.value,doFilter:e.doFilter}:delete t[e.fieldName],this.setState({filters:t})}},{key:"updateSearch",value:function(e){e=e.value?{value:e.value,doSearch:e.doSearch}:null,this.setState({search:e})}},{key:"updateSort",value:function(e){this.setState({ideas:e})}},{key:"render",value:function(){var e=this,t=void 0!==e.props.ideas?e.props.ideas:e.state.ideas||[],r=t;Object.keys(e.state.filters).forEach((function(t){var n=e.state.filters[t];r=n.doFilter(r)})),e.state.search&&(r=e.state.search.doSearch(r)),this.props.maxLength&&(r=t.slice(0,this.props.maxLength));var n=React.createElement("h3",{className:"osc-title"},e.config.title," (",r.length,")");return React.createElement("div",{id:e.id,className:"osc-ideas-overview ".concat(e.props.className||"")},React.createElement(g,{config:e.config,showFilterbar:e.props.showFilterbar,className:"osc-ideas-filterbar"}),React.createElement(w,{config:O({},e.config.sort),ideas:t,showSort:!e.props.hideSortButton,className:"osc-align-right-container",ref:function(t){return e.sorter=t}}),n,React.createElement(d,{config:e.config,ideas:r,className:""}))}}]),r}(u.Z);R.renderElement=function(e,r){var o=e.attributes;n().render(t().createElement(R,{attributes:o,config:r}),e)}})(),(window.OpenStadComponents=window.OpenStadComponents||{})["ideas-overview"]=__webpack_exports__})();
//# sourceMappingURL=ideas-overview.js.map